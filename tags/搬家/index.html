<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>æ¬å®¶ | Hi-^_^</title>
<meta name=keywords content>
<meta name=description content="this is Jiali's Tech Blog">
<meta name=author content>
<link rel=canonical href=https://Anlarry.github.io/tags/%E6%90%AC%E5%AE%B6/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.adc94f6a0b1f14123eb9f0e26177c35ba3040fa9e921e93741358a9d6c6a42e6.css integrity="sha256-rclPagsfFBI+ufDiYXfDW6MED6npIek3QTWKnWxqQuY=" rel="preload stylesheet" as=style>
<link rel=preload href=/icon/ai512.png as=image>
<link ref=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/atom-one-dark.min.css>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js></script>
<script>hljs.highlightAll()</script>
<link href="https://fonts.googleapis.com/css?family=Source Code Pro" rel=stylesheet>
<link rel=icon href=https://Anlarry.github.io/icon/ai512.png>
<link rel=icon type=image/png sizes=16x16 href=https://Anlarry.github.io/icon/ai16.png>
<link rel=icon type=image/png sizes=32x32 href=https://Anlarry.github.io/icon/ai32.png>
<link rel=apple-touch-icon href=https://Anlarry.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://Anlarry.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.90.1">
<link rel=alternate type=application/rss+xml href=https://Anlarry.github.io/tags/%E6%90%AC%E5%AE%B6/index.xml>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="æ¬å®¶">
<meta property="og:description" content="this is Jiali's Tech Blog">
<meta property="og:type" content="website">
<meta property="og:url" content="https://Anlarry.github.io/tags/%E6%90%AC%E5%AE%B6/"><meta property="og:site_name" content="Hi~, ^_^">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="æ¬å®¶">
<meta name=twitter:description content="this is Jiali's Tech Blog">
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script>
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://Anlarry.github.io/ accesskey=h title="Jiali's Blog (Alt + H)">
<img src=/icon/ai512.png alt=logo aria-label=logo height=35>Jiali's Blog</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://Anlarry.github.io/archives/ title="Archives ğŸ“¦">
<span>Archives ğŸ“¦</span>
</a>
</li>
<li>
<a href=https://Anlarry.github.io/categories/ title="Categories ğŸ“‚">
<span>Categories ğŸ“‚</span>
</a>
</li>
<li>
<a href=https://Anlarry.github.io/tags/ title="Tags ğŸ·">
<span>Tags ğŸ·</span>
</a>
</li>
<li>
<a href=https://Anlarry.github.io/book_reading/ title="Book-Reading ğŸ“š">
<span>Book-Reading ğŸ“š</span>
</a>
</li>
<li>
<a href=https://Anlarry.github.io/links/ title="Links ğŸ”—">
<span>Links ğŸ”—</span>
</a>
</li>
<li>
<a href=https://Anlarry.github.io/search/ title="Search ğŸ” (Alt + /)" accesskey=/>
<span>Search ğŸ”</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<header class=page-header><div class=breadcrumbs><a href=https://Anlarry.github.io/>Home</a>&nbsp;Â»&nbsp;<a href=https://Anlarry.github.io/tags/>Tags</a></div>
<h1>æ¬å®¶</h1>
</header>
<article class="post-entry tag-entry">
<figure class=entry-cover>
<img loading=lazy srcset="https://Anlarry.github.io/posts/paper-reading/skybridge-xpc/cover_hu8b868b4bb65e4ce9cd1058b52e1eafaa_88582_360x0_resize_box_3.png 360w ,https://Anlarry.github.io/posts/paper-reading/skybridge-xpc/cover_hu8b868b4bb65e4ce9cd1058b52e1eafaa_88582_480x0_resize_box_3.png 480w ,https://Anlarry.github.io/posts/paper-reading/skybridge-xpc/cover_hu8b868b4bb65e4ce9cd1058b52e1eafaa_88582_720x0_resize_box_3.png 720w ,https://Anlarry.github.io/posts/paper-reading/skybridge-xpc/cover.png 727w" sizes="(min-width: 768px) 720px, 100vw" src=https://Anlarry.github.io/posts/paper-reading/skybridge-xpc/cover.png alt width=727 height=406>
</figure>
<header class=entry-header>
<h2>SkyBridge & XPC
</h2>
</header>
<section class=entry-content>
<p>Inter-Process Communication å¾®å†…æ ¸ç›¸æ¯”ä¸å®å†…æ ¸ï¼Œå…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§ã€å®‰å…¨æ€§ï¼Œä¹Ÿèƒ½å¤Ÿæ›´å¥½åœ°å®¹å¿é”™è¯¯ã€‚ä½†æ˜¯å¾®å†…æ ¸åªä¿ç•™å¾ˆåŸºæœ¬çš„åŠŸèƒ½ï¼Œå¾ˆå¤šæœåŠ¡éƒ½ä½œä¸ºä¸€ä¸ªç”¨æˆ·è¿›ç¨‹å­˜åœ¨ï¼Œè¿›ç¨‹ä¹‹é—´å¤§é‡ä½¿ç”¨IPCä¼ é€’æ¶ˆæ¯ã€‚
å¦å¤–åœ¨å®å†…æ ¸ä¸­ä¹Ÿä¼šç»å¸¸ä½¿ç”¨IPCï¼Œå¦‚Android Binderã€‚
Optimize synchronous IPC ä¸€èˆ¬IPCè¿‡ç¨‹éœ€è¦ç»è¿‡å†…æ ¸ï¼Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦ä¿å­˜ç”¨æˆ·æ€çŠ¶æ€ï¼Œå½“é€€å‡ºå†…æ ¸æ—¶è¿˜éœ€æ¢å¤ç”¨æˆ·çŠ¶æ€ã€‚å› ä¸ºæ¯ä¸ªè¿›ç¨‹éƒ½åœ¨è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ï¼ŒIPCè¿‡ç¨‹è¿˜éœ€è¦åˆ‡æ¢è™šæ‹Ÿåœ°å€ç©ºé—´ã€‚å¦å¤–è¿˜æœ‰ä¸€äº›é€»è¾‘éœ€è¦å¤„ç†ã€‚è¿™äº›éƒ½å¯¼è‡´IPCæœ‰è¾ƒé«˜çš„å»¶è¿Ÿã€‚
seL4ç”¨fastpathé™ä½IPCå»¶è¿Ÿï¼Œæ¶ˆæ¯ä¼šè¢«ç«‹å³å‘é€ï¼Œè®©kernelç›´æ¥åˆ‡æ¢åˆ°serverè¿›ç¨‹é¿å…äº†è°ƒåº¦å™¨ï¼Œå› æ­¤å¯ä»¥æå‡IPCæ€§èƒ½ã€‚ä½†æ˜¯ä¹Ÿæ— æ³•é¿å…kernelã€‚
å¦ä¸€æ–¹é¢å½“ä¼ é€’çš„æ¶ˆæ¯è¾ƒå¤§æ—¶ï¼ŒIPCä¸€èˆ¬éœ€è¦å°†æ¶ˆæ¯å¤åˆ¶åˆ°å†…æ ¸ï¼Œå†ä»å†…æ ¸å¤åˆ¶åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ã€‚æˆ–è€…ä½¿ç”¨å…±äº«å†…å­˜ï¼Œå‡å°‘ä¸€æ¬¡å¤åˆ¶ã€‚
åœ¨seL4ä¸Šæµ‹è¯•è´Ÿè½½ï¼ŒIPCå ç”¨çš„æ—¶é—´æ˜¯å¾ˆå¤šçš„ã€‚
SkyBridge ä¸ºäº†æé«˜IPCæ€§èƒ½ï¼ŒSkyBridgeæƒ³æ³•æ˜¯IPCä¸ç»è¿‡kernel,senderå¯ä»¥ç›´æ¥è°ƒç”¨receiverçš„procedureã€‚ä¸è¿›è¿‡kernelå¦‚ä½•è°ƒç”¨receiverå‘¢ï¼Ÿä¼¼ä¹éœ€è¦ä¸€ä¸ªæ–°çš„æ¨¡å—å®Œæˆè¿™ä¸ªåŠŸèƒ½ï¼ŒSkyBridgeåˆ©ç”¨Intelä¸ºè™šæ‹ŸåŒ–æä¾›çš„ç¡¬ä»¶ï¼ŒEPT(extended page table) åˆ‡æ¢ï¼Œå…è®¸åœ¨ç”¨æˆ·æ€ä¸‹åˆ‡æ¢EPTï¼Œè¿™æ ·å°±å¯ä»¥å®ç°åœ¨ç”¨æˆ·æ€ä¸‹åˆ‡æ¢è™šæ‹Ÿåœ°å€ç©ºé—´ã€‚
ä½†æ˜¯ä¸ºäº†åˆ©ç”¨EPTåˆ‡æ¢ï¼Œå°±éœ€è¦åœ¨å¢åŠ ä¸€ä¸ªhypervisorã€‚ï¼ˆæœ‰å¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼‰
åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œçš„è¿›ç¨‹ï¼Œå¦‚æœè¦è®¿é—®å†…å­˜ä¼šç»è¿‡
GVA(Guest virtual address)â¡GPA(Guest physical address)â¡HPA(Host physical address)
è¿™æ ·çš„ä¸¤çº§åœ°å€è½¬æ¢ï¼Œç»è¿‡Guesté¡µè¡¨å¾—åˆ°GPAï¼Œå†ç»è¿‡EPTå¾—åˆ°HPA
åŒæ—¶SkyBridgeä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨è‡ªå·±çš„è™šæ‹Ÿç©ºé—´ä¸­ï¼Œå½¼æ­¤ä¹‹é—´ç›¸äº’éš”ç¦»ã€‚å¦‚æœé€šè¿‡å°†è¿›ç¨‹æ”¾åœ¨åŒä¸€ä¸ªè™šæ‹Ÿç©ºé—´ï¼Œç„¶åç”¨EPTå°†ä»–ä»¬éš”ç¦»ï¼Œè¿™æ ·çš„è¯å½“è¿›ç¨‹æ•°å¾ˆå¤šçš„æ—¶å€™å°±ä¼šæ¯”è¾ƒå¤æ‚ã€‚
ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°SkyBridgeçš„ä¸¤ä¸ªkernelï¼šRootKernel( a tiny hypervisor)å’ŒSubKernel(å³microkernel)ã€‚
é¦–å…ˆserveråœ¨kernelä¸­æ³¨å†Œã€‚kernelä¼šå§trapoline-relatedä»£ç å’Œæ•°æ®æ˜ å°„åˆ°serverçš„è™šæ‹Ÿç©ºé—´ï¼Œå¹¶è¿”å›ä¸€ä¸ªIDç”¨æ¥ç»™clientè°ƒç”¨ã€‚clientå‘kernelæ³¨å†Œæ—¶æä¾›1server ID,kernelåŒæ ·å°†ä»£ç å’Œæ•°æ®æ˜ å°„åˆ°ä»–çš„è™šæ‹Ÿç©ºé—´ã€‚
Subkernelè°ƒç”¨Rootkernelçš„å€Ÿå£è®©serverå’Œclientåœ¨EPT levelä¸Šç»‘å®šï¼Œkernelä¼šä¸ºclientå’Œserveré…ç½®EPTã€‚é…ç½®serverçš„EPTæ—¶ï¼ŒSkyBridgeæŠŠclientçš„é¡µè¡¨æ˜ å°„åˆ°ç›¸åº”serverçš„é¡µè¡¨ã€‚clientè°ƒç”¨direct_server_callï¼Œåˆ‡æ¢è‡³serverçš„EPTåä½¿ç”¨serverçš„é¡µè¡¨ç¿»è¯‘åç»­çš„åœ°å€ã€‚trapolineä»£ç å®‰è£…serverçš„stack,è°ƒç”¨handlerã€‚
åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œclientçš„CR3(é¡µè¡¨åœ°å€)ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼ŒSkyBridgeå°†client CR3çš„HPAæ˜ å°„ä¸ºserver C3çš„HPAï¼Œè¿™æ ·å°±ç›¸å½“äºåˆ‡æ¢åˆ°äº†serverçš„ç©ºé—´ã€‚
something else RootKernel & è™šæ‹ŸåŒ–å¼€é”€ï¼ŒRootkernelåªæä¾›æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼ŒåŒæ—¶ä¸ºäº†é™ä½VM exitï¼ŒRootkernelå…è®¸åƒæ›´æ”¹CR3çš„æŒ‡ä»¤ä¸è§¦å‘VM exitã€è®©å¤–éƒ¨ä¸­æ–­ç›´æ¥åˆ°microkernelå¤„ç†ã€‚ä¸ºäº†è§£å†³EPT violationï¼ŒRootkernelç”¨1GBçš„é¡µï¼ŒæŠŠå¤§éƒ¨åˆ†hostç‰©ç†å†…å­˜æ˜ å°„åˆ°microkernelï¼ˆé™¤äº†Rootkernelä¿ç•™çš„éƒ¨åˆ†ï¼Œå¤§æ¦‚100MBï¼‰ã€‚è¿™æ ·microkernelè®¿é—®ç‰©ç†åœ°å€æ—¶ï¼Œå°±ä¸ä¼šæœ‰EPT iolationã€‚è¿™æ ·ä¸ä»…é™ä½äº†å¤„ç†TLB missçš„æ—¶é—´ï¼Œä¹Ÿé™ä½äº†TLS missçš„æ¬¡æ•°ã€‚
illegal VMFUNCï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›å®‰å…¨é—®é¢˜ã€‚SkyBrdigeçš„æ–¹æ³•æ˜¯åŠŸèƒ½ç›¸åŒçš„æŒ‡ä»¤æ›¿æ¢ä¹‹å‰çš„æŒ‡ä»¤ã€‚
XPC ä½†æ˜¯SkyBridgeéœ€è¦å·¥ä½œåœ¨è™šæ‹ŸåŒ–ç¯å¢ƒä¸­ï¼Œè€Œä¸”å½“å‡ºç°è°ƒç”¨é“¾çš„æ—¶å€™ï¼ˆe.g., A$\rightarrow$B$\rightarrow$Cï¼‰è¿™æ ·å‡ºç°æ¶ˆæ¯è¢«å¤šæ¬¡å¤åˆ¶çš„æƒ…å†µã€‚
XPCä»ä¸¤ä¸ªæ–¹é¢æé«˜IPCæ€§èƒ½ï¼Œ
è®©IPCä¸ç»è¿‡kernel ä¸å¤åˆ¶ä¼ é€’æ¶ˆæ¯ å’ŒSkyBridgeä¸€æ ·XPCä¹Ÿå±äºç¡¬ä»¶ä¼˜åŒ–IPCï¼ŒSkyBridgeé€šè¿‡VMFUNC, XPCåˆ™é€šè¿‡åœ¨æ–°çš„ç¡¬ä»¶ï¼ŒXPC engineã€‚XPC engineæä¾›äº†IPCçš„åŸºæœ¬åŠŸèƒ½ï¼Œå¦‚capabilityæ£€æŸ¥ã€ä¸Šä¸‹æ–‡åˆ‡æ¢ã€é«˜æ•ˆè½»é‡çº§çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶(relay-seg)ã€‚...</p>
</section>
<footer class=entry-footer>ğŸ“ September 16, 2021&nbsp;Â·&nbsp;âŒ› 1 min</footer>
<a class=entry-link aria-label="post link to SkyBridge & XPC" href=https://Anlarry.github.io/posts/paper-reading/skybridge-xpc/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Codeforces Round #664
</h2>
</header>
<section class=entry-content>
<p>Codeforces Round #664 https://codeforces.com/contest/1395
A é¢˜æ„
ç»™å››ç§é¢œè‰²çš„çƒï¼Œå¯ä»¥æŠŠä¸€ä¸ªçº¢è‰²ä¸€ä¸ªè“è‰²ä¸€ä¸ªç»¿è‰²æŸ“æˆç™½è‰²ï¼Œé—®èƒ½ä¸èƒ½å˜æˆå›æ–‡ä¸²
#include &lt;cstdio>#include &lt;stack>#include &lt;set>#include &lt;cmath>#include &lt;map>#include &lt;time.h>#include &lt;vector>#include &lt;iostream>#include &lt;string>#include &lt;cstring>#include &lt;algorithm>//#include &lt;memory.h> #include &lt;cstdlib>#include &lt;queue>#include &lt;iomanip>#include &lt;cassert>#include &lt;unordered_map>#define P pair&lt;int, int> #define LL long long #define LD long double #define PLL pair&lt;LL, LL> #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i &lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; "\n" using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 2e6 + 500; #endif const int mod = 1e9 + 7; void file_read() { #ifdef DEBUG freopen("in", "r", stdin); // freopen("out", "w", stdout); #endif } int main() { file_read(); int T; LL a, b, c, d; scanf("%d", &T); while (T--) { cin >> a >> b >> c >> d; LL tot = a + b + c + d; if(tot & 1) { int odd = (a & 1) + (b & 1) + (c & 1) + (d & 1); if(odd == 1) { puts("Yes"); continue; } if(a > 0 and b > 0 and c > 0) { a--, b--, c--, d+=3; odd = (a & 1) + (b & 1) + (c & 1) + (d & 1); if(odd == 1) { puts("Yes"); continue; } } puts("No"); continue; } else { int odd = (a & 1) + (b & 1) + (c & 1) + (d & 1); if(odd == 0 ) { puts("Yes"); continue; } if(a > 0 and b > 0 and c > 0 and d > 0) { a--, b--, c--, d += 3; odd = (a & 1) + (b & 1) + (c & 1) + (d & 1); if(odd == 0) { puts("Yes"); continue; } } puts("No"); } } return 0; } B é¢˜æ„...</p>
</section>
<footer class=entry-footer>ğŸ“ September 1, 2020&nbsp;Â·&nbsp;âŒ› 10 min</footer>
<a class=entry-link aria-label="post link to Codeforces Round #664" href=https://Anlarry.github.io/posts/acm-icpc/codeforces-round-664/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Gym 102501éƒ¨åˆ†é¢˜è§£
</h2>
</header>
<section class=entry-content>
<p>Gym - 102501D Gnalcats https://codeforces.com/gym/102501/problem/D
é¢˜æ„ ç»™ä¸¤ç§æ ˆæ“ä½œåˆ¤æ–­æ˜¯å¦ç›¸ç­‰,å¦‚æœä¸¤ä¸ªæ“ä½œéƒ½failï¼Œä¹Ÿè®¤ä¸ºç›¸ç­‰
Solution æ¨¡æ‹Ÿï¼Œæ¯ä¸ªæ°¨åŸºé…¸ä¸€ä¸ªhashå€¼ã€‚é€šè¿‡åˆ¤æ–­æœ€åæ ˆå…ƒç´ æ˜¯å¦å¯¹åº”hashç›¸ç­‰ï¼Œåˆ¤æ–­æ“ä½œæ˜¯å¦ç›¸ç­‰
#include &lt;cstdio>#include &lt;stack>#include &lt;set>#include &lt;cmath>#include &lt;map>#include &lt;time.h>#include &lt;vector>#include &lt;iostream>#include &lt;string>#include &lt;cstring>#include &lt;algorithm>//#include &lt;memory.h> #include &lt;cstdlib>#include &lt;queue>#include &lt;iomanip>#include &lt;cassert>#include &lt;unordered_map>#define P pair&lt;int, int> #define LL long long #define LD long double #define PLL pair&lt;LL, LL> #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i &lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; "\n" using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 1e6 + 50; #endif const int mod = 1e9 + 7; void file_read() { #ifdef DEBUG freopen("in", "r", stdin); // freopen("out", "w", stdout); #endif } #define ULL unsigned long long struct DNA { struct Node { int l, r; unsigned LL val; Node(){} Node(int l, int r, unsigned LL val) : l(l), r(r), val(val) {} bool complex() const { return l and r; } }tr[MAX]; stack&lt;int> stk; int tot; int num; DNA() : tot(1), num(1) { for(int i = 1; i &lt;= (int)1e5; i++) { tr[tot] = Node(0, 0, num++); stk....</p>
</section>
<footer class=entry-footer>ğŸ“ August 31, 2020&nbsp;Â·&nbsp;âŒ› 5 min</footer>
<a class=entry-link aria-label="post link to Gym 102501éƒ¨åˆ†é¢˜è§£" href=https://Anlarry.github.io/posts/acm-icpc/gym-102501%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Gym 102460L Largest Quadrilateral
</h2>
</header>
<section class=entry-content>
<p>Gym 102460L Largest Quadrilateral Largest Quadrilateral
é¢˜æ„ ç»™$n$ä¸ªç‚¹ä»ä¸­é€‰å‡ºå››ä¸ªç‚¹ï¼Œä½¿å¾—é¢ç§¯æœ€å¤§
Solution é¦–å…ˆï¼Œè‚¯å®šæ˜¯æ±‚å‡¸åŒ…ï¼Œè¦æ±‚çš„ç‚¹ä¸€å®šåœ¨å‡¸åŒ…ä¸Šã€‚ ä¸éš¾è”æƒ³åˆ°å‡¸åŒ…å¯¹æ¯ä¸ªè¾¹æ±‚æœ€å¤§ä¸‰è§’å½¢é¢ç§¯çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯æ—‹è½¬å¡å£³ã€‚ å¯ä»¥å°†é—®é¢˜è½¬åŒ–ä¸ºï¼Œå¯¹å‡¸åŒ…çš„æ¯ä¸€ä¸ªå¯¹è§’çº¿$A_iA_j$ï¼Œæ±‚æœ€å¤§é¢ç§¯çš„ä¸¤ä¸ªä¸‰è§’å½¢ï¼Œ$\triangle{A_iA_jP}$, $\triangle{A_iA_jQ}$, ç„¶åå°±å¯ä»¥æšä¸¾å¯¹è§’çº¿ï¼Œæ—‹è½¬å¡å£³ç®—æœ€å¤§é¢ç§¯ ç»†èŠ‚
è¾“å‡ºçš„æ ¼å¼ å‡¸åŒ…ä¸Šåº”è¯¥ç•™ä¸‹å…±çº¿çš„ç‚¹ #include &lt;cstdio>#include &lt;stack>#include &lt;set>#include &lt;cmath>#include &lt;map>#include &lt;time.h>#include &lt;vector>#include &lt;iostream>#include &lt;string>#include &lt;cstring>#include &lt;algorithm>//#include &lt;memory.h> #include &lt;cstdlib>#include &lt;queue>#include &lt;iomanip>#include &lt;cassert>// #include &lt;unordered_map> #define P pair&lt;int, int> #define LL long long #define LD long double #define PLL pair&lt;LL, LL> #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i &lt; b; i++) #define PI acos(-1....</p>
</section>
<footer class=entry-footer>ğŸ“ August 27, 2020&nbsp;Â·&nbsp;âŒ› 4 min</footer>
<a class=entry-link aria-label="post link to Gym 102460L Largest Quadrilateral " href=https://Anlarry.github.io/posts/acm-icpc/gym-102460l-largest-quadrilateral/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Codeforces Round #663
</h2>
</header>
<section class=entry-content>
<p>Codeforces Round #663 http://codeforces.com/contest/1391
C é¢˜æ„
å¯¹äºä¸€ä¸ªæ’åˆ—${p_1, p_2, \dots, p_n}$ï¼Œå¯¹äºæ¯ä¸ªæ•°å­—$p_i$ï¼Œå‘å‰æ‰¾ç¬¬ä¸€ä¸ªå¤§äº$p_i$çš„$p_j$ï¼Œ$i$å’Œ$j$è¿ä¸€æ¡è¾¹ï¼Œå‘ååŒç†ã€‚æ±‚å¤šå°‘ç§æ’åˆ—ç”Ÿæˆçš„å›¾æ˜¯æœ‰ç¯çš„
Solution
å¯¹äº$p_i$ï¼Œå¦‚æœå­˜åœ¨$p_j>p_i(j&lt;i)$, $p_k>p_i(k>i)$ï¼Œé‚£ä¹ˆå°±æ˜¯å­˜åœ¨ç¯çš„ é‚£ä¹ˆå¯¹äº$\forall i$éƒ½ä¸æˆç«‹æ—¶ï¼Œå°±æ²¡æœ‰ç¯ æ­¤æ—¶å°±æ˜¯åºåˆ—çš„ç‰¹ç‚¹å°±æ˜¯,æ•°å­—$n$å·¦è¾¹å’Œå³è¾¹å‘ä¸¤è¾¹é€’å‡ å› æ­¤æ’åˆ—æ•°å°±æ˜¯$n!-2^{n-1}$ #include &lt;cstdio>#include &lt;stack>#include &lt;set>#include &lt;cmath>#include &lt;map>#include &lt;time.h>#include &lt;vector>#include &lt;iostream>#include &lt;string>#include &lt;cstring>#include &lt;algorithm>#include &lt;cstdlib>#include &lt;queue>#include &lt;iomanip>#include &lt;cassert>#define P pair&lt;int, int> #define LL long long #define LD long double #define PLL pair&lt;LL, LL> #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i &lt; b; i++) #define PI acos(-1....</p>
</section>
<footer class=entry-footer>ğŸ“ August 17, 2020&nbsp;Â·&nbsp;âŒ› 5 min</footer>
<a class=entry-link aria-label="post link to Codeforces Round #663" href=https://Anlarry.github.io/posts/acm-icpc/codeforces-round-663/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<a class=next href=https://Anlarry.github.io/tags/%E6%90%AC%E5%AE%B6/page/2/>Next Page Â»</a>
</nav>
</footer>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://Anlarry.github.io/>Jiali Wang</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>