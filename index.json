[{"content":"å‡¯å°”ç‰¹ç¥è¯å…¨ä¹¦ \u0026amp; åŒ—æ¬§ç¥è¯å…¨ä¹¦ æ¬§æ´²ç¥è¯ä½“ç³»ä¸‰å¤§æ”¯æŸ±ä¹‹äºŒâ€”â€”å‡¯å°”ç‰¹ç¥è¯ï¼ŒåŒ—æ¬§ç¥è¯ã€‚\nè‹±å›½ç®€å² 2025-03-16-2.png#center-small\rè‹±å›½å†å²çš„ç•¥ç¼©å›¾â€”â€”ä»å²å‰æ—¶ä»£åˆ°ç°ä»£ï¼Œä»ç½—é©¬æ—¶ä»£åˆ°ç»´å¤šåˆ©äºšæ—¶ä»£ï¼Œä»äº¨åˆ©å…«ä¸–åˆ°ä¼Šä¸½èç™½äºŒä¸–ï¼Œä»å·¥ä¸šé©å‘½åˆ°ç°ä»£åŒ–ï¼Œä»å¸å›½åˆ°è”é‚¦ï¼Œä»ä¸–ç•Œéœ¸ä¸»åˆ°æ¬§æ´²ä¸€å‘˜ã€‚\n1984 2025-04-04.png#center-small\rè€å¤§å“¥åœ¨çœ‹ç€ä½ ï¼Œé¢å¸¦å¾®ç¬‘çš„å°Šå®¹é€æ¸æµ®ç°åœ¨ä½ çš„çœ¼å‰ï¼Œä½ çš„è„‘æµ·ä¸­å›è¡ç€å…šçš„å£å·â€”â€”ã€Œæˆ˜äº‰å³å’Œå¹³ï¼Œè‡ªç”±å³å¥´å½¹ï¼Œæ— çŸ¥å³åŠ›é‡ã€ã€‚\nçŒ®ç»™é˜¿å°”å‰ä¾¬çš„èŠ±æŸ 2025-05-23.png#center-small\r\u0026ldquo;è¿™æ˜¯å¦è¡¨ç¤ºæˆ‘æƒ³æ´—å‡€è‡ªå·±çš„ç½ªæ¶ï¼Ÿæƒ³è·å¾—é‡ç”Ÿï¼Ÿè¿™æ˜¯æ´—ç¤¼çš„è±¡å¾å—ï¼Ÿæˆ–æ˜¯æˆ‘ä»¬ä¿®è„¸ä¿®å¾—å¤ªçŸ­äº†ï¼Ÿä¸€ä¸ªç™½ç—´ï¼ˆidiotï¼‰è¿˜ä¼šæœ‰æœ¬æˆ‘ï¼ˆidï¼‰å—ï¼Ÿ\u0026rdquo;\n","permalink":"https://Anlarry.github.io/book-reading/2025/","summary":"\u003ch3 id=\"å‡¯å°”ç‰¹ç¥è¯å…¨ä¹¦--åŒ—æ¬§ç¥è¯å…¨ä¹¦\"\u003eå‡¯å°”ç‰¹ç¥è¯å…¨ä¹¦ \u0026amp; åŒ—æ¬§ç¥è¯å…¨ä¹¦\u003c/h3\u003e\n\u003cstyle\u003e\n    .column {\n        float: left;\n        width: 33.33%;\n        padding: 5px;\n        text-align: center;\n    }\n    \n    .row {\n        display: flex;\n        justify-content: center;\n        margin: 0 auto;\n    }\n\n    .row::after {\n        content: \"\";\n        clear: both;\n        display: table;\n        padding: 5px;\n    }\n\u003c/style\u003e\n\u003cdiv class=\"row\"\u003e\n    \u003cdiv class=\"column\"\u003e \n        \u003cimg src=\"2025-03-16-0.png\" style=\"width: 95%\"\u003e \n    \u003c/div\u003e\n    \u003cdiv class=\"column\"\u003e\n        \u003cimg src=\"2025-03-16-1.png\" style=\"width: 95%\"\u003e \n    \u003c/div\u003e\n\u003c/div\u003e\n\u003cp\u003eæ¬§æ´²ç¥è¯ä½“ç³»ä¸‰å¤§æ”¯æŸ±ä¹‹äºŒâ€”â€”å‡¯å°”ç‰¹ç¥è¯ï¼ŒåŒ—æ¬§ç¥è¯ã€‚\u003c/p\u003e\n\u003ch3 id=\"è‹±å›½ç®€å²\"\u003eè‹±å›½ç®€å²\u003c/h3\u003e\n\u003cp\u003e2025-03-16-2.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2025-03-16-2.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eè‹±å›½å†å²çš„ç•¥ç¼©å›¾â€”â€”ä»å²å‰æ—¶ä»£åˆ°ç°ä»£ï¼Œä»ç½—é©¬æ—¶ä»£åˆ°ç»´å¤šåˆ©äºšæ—¶ä»£ï¼Œä»äº¨åˆ©å…«ä¸–åˆ°ä¼Šä¸½èç™½äºŒä¸–ï¼Œä»å·¥ä¸šé©å‘½åˆ°ç°ä»£åŒ–ï¼Œä»å¸å›½åˆ°è”é‚¦ï¼Œä»ä¸–ç•Œéœ¸ä¸»åˆ°æ¬§æ´²ä¸€å‘˜ã€‚\u003c/p\u003e\n\u003ch3 id=\"1984\"\u003e1984\u003c/h3\u003e\n\u003cp\u003e2025-04-04.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2025-04-04.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eè€å¤§å“¥åœ¨çœ‹ç€ä½ ï¼Œé¢å¸¦å¾®ç¬‘çš„å°Šå®¹é€æ¸æµ®ç°åœ¨ä½ çš„çœ¼å‰ï¼Œä½ çš„è„‘æµ·ä¸­å›è¡ç€å…šçš„å£å·â€”â€”ã€Œæˆ˜äº‰å³å’Œå¹³ï¼Œè‡ªç”±å³å¥´å½¹ï¼Œæ— çŸ¥å³åŠ›é‡ã€ã€‚\u003c/p\u003e\n\u003ch3 id=\"çŒ®ç»™é˜¿å°”å‰ä¾¬çš„èŠ±æŸ\"\u003eçŒ®ç»™é˜¿å°”å‰ä¾¬çš„èŠ±æŸ\u003c/h3\u003e\n\u003cp\u003e2025-05-23.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2025-05-23.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003e\u0026ldquo;è¿™æ˜¯å¦è¡¨ç¤ºæˆ‘æƒ³æ´—å‡€è‡ªå·±çš„ç½ªæ¶ï¼Ÿæƒ³è·å¾—é‡ç”Ÿï¼Ÿè¿™æ˜¯æ´—ç¤¼çš„è±¡å¾å—ï¼Ÿæˆ–æ˜¯æˆ‘ä»¬ä¿®è„¸ä¿®å¾—å¤ªçŸ­äº†ï¼Ÿä¸€ä¸ªç™½ç—´ï¼ˆidiotï¼‰è¿˜ä¼šæœ‰æœ¬æˆ‘ï¼ˆidï¼‰å—ï¼Ÿ\u0026rdquo;\u003c/p\u003e","title":"2025"},{"content":"æµ·ä¼¯åˆ©å®‰ 2024-2-15-14-15.png#center-small\rä¼¯åŠ³æ•™ä¼šã€å…‰é˜´å†¢ã€éœ¸ä¸»ã€æŠ€æœ¯å†…æ ¸\u0026hellip;ï¼Œç¥çˆ¶ã€ä¸Šæ ¡ã€è¯—äººã€å­¦è€…ã€åœ£å¾’ã€ä¾¦æ¢ã€é¢†äº‹è¸ä¸Šäº†æœåœ£ä¹‹æ—…ã€‚\né‚“å°å¹³æ—¶ä»£ 2024-04-28.png#center-small\rã€ŒæŠ“å¤§æ”¾å°ã€ï¼Œã€Œé»‘çŒ«ç™½çŒ«ï¼ŒæŠ“åˆ°è€é¼ å°±æ˜¯å¥½çŒ«ã€\u0026hellip;, ä»–å¸¦æ¥äº†ä¸­å›½ç°ä»£ç»æµå¿«é€Ÿå‘å±•ï¼Œç”¨ä»–ä½œä¸ºé¢†å¯¼äººçš„æ™ºæ…§æŒ‡å¼•æ”¹é©å¼€æ”¾çš„æœªæ¥ã€‚\næµ·ä¼¯åˆ©å®‰çš„é™¨è½ 2024-05-02.png#center-small\rä¸¤ä¸ªç»ˆææ™ºèƒ½çš„æˆ˜äº‰ï¼Œè¶…è¶Šç©ºé—´å’Œæ—¶é—´\u0026hellip;\nç½®èº«äº‹å†… 2024-06-30.png#center-small\râ€œå‘å±•â€äº‹å…³æ¯ä¸ªäººï¼Œå½±å“ç”Ÿæ´»çš„æ–¹æ–¹é¢é¢ï¼Œç„¶è€Œç»æµå‘å±•é”™ä¸­å¤æ‚ï¼Œæ¶‰åŠæ”¿åºœå’Œå¸‚åœºå¤šæ–¹åšå¼ˆå’Œæƒè¡¡ï¼ˆe.g.ï¼ŒåœŸåœ°è´¢æ”¿/åœŸåœ°é‡‘èï¼‰ã€‚\nã€Šç½®èº«äº‹å†…ã€‹æ­å¼€ä¸­å›½ç»æµå‘å±•ç°çŠ¶çš„å†°å±±ä¸€è§’ã€‚å¯¹ç»æµå‘å±•è¿›ç¨‹çš„æ€»ç»“å’Œç†è§£è¶Šæ˜¯æ·±åˆ»ï¼Œåˆ™è¶Šæ˜¯èƒ½ç†è§£å‘å±•é—®é¢˜çš„ç›˜æ ¹é”™èŠ‚ï¼Œç†è§£â€œå‘ä»€ä¹ˆæ–¹å‘å‘å±•ï¼ŸæŒ‰ä»€ä¹ˆè·¯çº¿å‘å±•ï¼Ÿâ€ä¹‹éš¾ã€‚\nä»–æ”¹å˜äº†ä¸­å›½ 2024-08-30.png#center-small\rå‘è€å­¦é•¿å­¦ä¹ ï¼å­—é‡Œè¡Œé—´å¯ä»¥æ„Ÿå—åˆ°è€å­¦é•¿ä½œä¸ºé¢†å¯¼äººçš„é­…åŠ›ã€å¯¹äºå›½æƒ…çš„æ·±æ²‰è€Œé•¿ä¹…çš„æ€è€ƒã€ä»¥åŠä½œä¸ºçŸ¥è¯†åˆ†å­å¯¹ç§‘å­¦å’Œè‰ºæœ¯çš„çƒ­çˆ±ã€‚\nâ€œåœ¨æ±Ÿçœ‹æ¥ï¼Œä»–åœ¨å·¥ç¨‹å­¦æ–¹é¢æ‰€å—çš„æ•™è‚²å’Œ20å¤šå¹´æ¥åœ¨å·¥ä¸šéƒ¨é—¨çš„ä»ä¸šç»éªŒä½¿ä»–çš„æ€ç»´æ¶æ„å¾—ä»¥æˆå‹ï¼Œåœ¨æ”¿åºœéƒ¨é—¨å·¥ä½œçš„30å¤šå¹´ä¸­ï¼Œå°½ç®¡æ±Ÿå­¦ä¼šäº†åƒæ”¿æ²»å®¶é‚£æ ·è¿ç­¹å’ŒæŠ—äº‰ï¼Œä½†ä»–ä»æ¥æ²¡æœ‰å¿˜è®°åƒä¸‹ç¨‹å¸ˆé‚£æ ·å»åˆ†æå’Œè®¡ç®—ã€‚ä»–è¿˜æ˜¯ä¸€ä¸ªæ±‚çŸ¥è‹¥æ¸´çš„çŸ¥è¯†åˆ†å­ï¼Œä¸€ä¸ªå–œæ¬¢åŸè¯—ä½œè¯—çš„æ–‡å­¦çˆ±å¥½è€…ã€‚ä»–çƒ­çˆ±ç§‘å­¦ï¼Œé’Ÿæƒ…è‰ºæœ¯ã€‚å„ç§å„æ ·çš„çŸ¥è¯†ç§¯ç´¯ä½¿ä»–å¾—ä»¥ç”¨è‡ªå·±çš„æ–¹å¼æ¥çœ‹å¾…è¿™ä¸ªä¸–ç•Œã€‚å†åŠ ä¸Šä»–çš„æ°‘æ—è‡ªè±ªæ„Ÿã€çˆ±å›°ä¸»ä¹‰å’Œä»–å¯¹é©¬å…‹æ€ä¸»ä¹‰çš„ä¿¡ä»°ï¼Œæ±Ÿå½¢æˆäº†ä¸€æ•´å¥—ç‹¬ç‰¹çš„æ€ç»´æ–¹å¼ã€‚è¿™ç§å…´è¶£åˆ©ç»éªŒçš„ç‹¬ç‰¹ç»„åˆï¼Œé›†ä¸­åœ¨ä¸€ä¸ªäººèº«ä¸Šå®å±ç½•è§.é›†ä¸­åœ¨ä¸€ä¸ªå›½å®¶é¢†å¯¼äººèº«ä¸Šåˆ™æ›´ä¸ºç½•è§ï¼Œè¿™ç§ç‹¬ç‰¹çš„ç»„åˆèµ‹äºˆäº†æ±Ÿæ³½æ°‘ç‰¹æ®Šçš„å“è´¨ã€‚â€\nä»€ä¹ˆæ˜¯ç§‘å­¦ 2024-09-10.png#center-small\râ€œç§‘å­¦æŠ€æœ¯æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›â€ï¼Œå‘å±•ç§‘å­¦æŠ€æœ¯å·²æ˜¯ç¤¾ä¼šä¸Šä¸Šä¸‹ä¸‹çš„æ™®éå…±è¯†ï¼Œç„¶è€Œç©¶ç«Ÿâ€œä»€ä¹ˆæ˜¯ç§‘å­¦â€å°±å¦‚åŒæ¯ä¸ªäººç†è§£çš„å“ˆå§†é›·ç‰¹ä¸€èˆ¬ï¼Œä¸åŒäººçš„æœ‰ä¸åŒçš„ç†è§£ã€‚å›é¡¾â€œç§‘å­¦ï¼ˆscienceï¼‰â€çš„å†å²ï¼Œç»è¿‡äº†å¸Œè…Šæ—¶æœŸçš„ç†æ€§ç§‘å­¦ã€ä½“ç°æ±‚åŠ›æ„å¿—ï¼ˆwill to powerï¼‰çš„æ•°ç†å®éªŒç§‘å­¦ï¼Œâ€œä»€ä¹ˆæ˜¯ç§‘å­¦â€æ˜¯ä¸€ä¸ªå®šä¹‰é—®é¢˜ã€‚\nç°ä»£ä¸­å›½äººæ‰€è¯´çš„â€œç§‘å­¦â€æ¥è‡ªè¥¿æ–¹ã€‚ç§‘å­¦ç”±å¤ä»£å¸Œè…ŠåŸºäºè‡ªç”±äººæ€§çš„è‡ªç”±çš„å­¦æœ¯ï¼Œè½¬å˜ä¸ºç°ä»£åŸºäºæ±‚åŠ›æ„å¿—çš„æ±‚åŠ›çš„ç§‘å­¦ï¼Œå®Œå…¨æ˜¯è¥¿æ–¹è¯­å¢ƒä¸‹è‡ªæˆ‘æ¼”ç»ã€è‡ªæˆ‘è¿›åŒ–çš„ä¸€ç§ç‰¹å®šæ–‡åŒ–ç°è±¡ï¼Œä¸åŒ…æ‹¬ä¸­å›½åœ¨å†…çš„å…¶ä»–éè¥¿æ–¹æ–‡æ˜å¹¶æ— ç›´æ¥å…³è”ã€‚\nè¿½é—®ä»€ä¹ˆæ˜¯ç§‘å­¦ï¼Œè®©æˆ‘å¯¹äºå¤å¸Œè…Šä»°æœ›æ˜Ÿç©ºèˆ¬çš„philo-sophiaäººæ€§ç†æƒ³æ·±æœ‰æ„Ÿæ…¨ã€‚\næ·±åº¦å·¥ä½œ 2024-09-21.png#center-small\råœ¨ç«è½¦ä¸Šè¯»äº†å¡å°”Â·çº½æ³¢ç‰¹æ•™æˆçš„ã€Šæ·±åº¦å·¥ä½œã€‹â€”â€”å¤šå¹´ä»¥æ¥ä»–æ‰€æ–°ä¿¡å¥‰å¹¶è·µè¡Œçš„å·¥ä½œæ–¹å¼ã€‚\nå¤å¸Œè…Šæ–‡æ˜çš„å…‰èŠ’ 2024-11-30.png#center-small\ræ­£å¦‚è‹±å›½è‘—åè¯—äººé›ªè±æ‰€è¯´ï¼Œâ€œæˆ‘ä»¬éƒ½æ˜¯å¸Œè…Šäººï¼Œæˆ‘ä»¬çš„æ³•å¾‹ã€æ–‡å­¦ã€å®—æ•™å’Œè‰ºæœ¯ä¹‹æ ¹éƒ½åœ¨å¸Œè…Šã€‚â€å¸Œè…Šæ–‡æ˜æ˜¯è¥¿æ–¹ã€ä»¥åŠæ•´ä¸ªäººç±»çš„ç²¾ç¥ç‘°å®ã€‚\nä¸€ä¸ªæ—¶ä»£çš„äººæœ‰ä¸€ä¸ªæ—¶ä»£çš„æ´»æ³•ã€‚ä½œä¸ºä¸€ä¸ªä»°æœ›æ˜Ÿç©ºçš„æ°‘æ—ï¼Œå¤å¸Œè…Šäººå§‹ç»ˆç”Ÿæ´»åœ¨æ¹›è“çš„å¤©ç©ºã€â€œè‘¡è„ç´«çš„æµ·æ°´â€ã€ç¾ä¸½çš„ç¥è¯å’Œè‡ªç”±çš„éæƒ³ä¹‹ä¸­ã€‚æ‰€ä»¥ï¼Œä»Šå¤©çš„äººä»¬è¦æƒ³çœŸæ­£èµ°è¿›å¤å¸Œè…Šæ–‡æ˜ï¼Œå°±åº”è¯¥æ”¾ä¸‹ä¸€äº›ç°å®çš„åŠŸåˆ©è€ƒé‡å’Œç§‘å­¦çœ¼å…‰ï¼Œå¤šä¸€ç‚¹æµªæ¼«æƒ…æ€€ã€‚\nè¤šæ—¶å¥ä¼  2024-12-07.png#center-small\râ€œå“è´¨ï¼Œæ˜¯ä¸€ç§ç”Ÿæ´»æ€åº¦ï¼Œæ˜¯ä¸€ç§äººç”Ÿè¿½æ±‚ã€‚è¤šæ—¶å¥å…ˆç”Ÿçš„ä¸€ç”Ÿï¼Œå°±æ˜¯å¯¹å“è´¨çš„è¿½æ±‚ã€‚â€\n","permalink":"https://Anlarry.github.io/book-reading/2024/","summary":"\u003ch3 id=\"æµ·ä¼¯åˆ©å®‰\"\u003eæµ·ä¼¯åˆ©å®‰\u003c/h3\u003e\n\u003cp\u003e2024-2-15-14-15.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2024-2-15-14-15.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eä¼¯åŠ³æ•™ä¼šã€å…‰é˜´å†¢ã€éœ¸ä¸»ã€æŠ€æœ¯å†…æ ¸\u0026hellip;ï¼Œç¥çˆ¶ã€ä¸Šæ ¡ã€è¯—äººã€å­¦è€…ã€åœ£å¾’ã€ä¾¦æ¢ã€é¢†äº‹è¸ä¸Šäº†æœåœ£ä¹‹æ—…ã€‚\u003c/p\u003e\n\u003ch3 id=\"é‚“å°å¹³æ—¶ä»£\"\u003eé‚“å°å¹³æ—¶ä»£\u003c/h3\u003e\n\u003cp\u003e2024-04-28.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2024-04-28.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eã€ŒæŠ“å¤§æ”¾å°ã€ï¼Œã€Œé»‘çŒ«ç™½çŒ«ï¼ŒæŠ“åˆ°è€é¼ å°±æ˜¯å¥½çŒ«ã€\u0026hellip;, ä»–å¸¦æ¥äº†ä¸­å›½ç°ä»£ç»æµå¿«é€Ÿå‘å±•ï¼Œç”¨ä»–ä½œä¸ºé¢†å¯¼äººçš„æ™ºæ…§æŒ‡å¼•æ”¹é©å¼€æ”¾çš„æœªæ¥ã€‚\u003c/p\u003e\n\u003ch3 id=\"æµ·ä¼¯åˆ©å®‰çš„é™¨è½\"\u003eæµ·ä¼¯åˆ©å®‰çš„é™¨è½\u003c/h3\u003e\n\u003cp\u003e2024-05-02.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2024-05-02.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eä¸¤ä¸ªç»ˆææ™ºèƒ½çš„æˆ˜äº‰ï¼Œè¶…è¶Šç©ºé—´å’Œæ—¶é—´\u0026hellip;\u003c/p\u003e\n\u003ch3 id=\"ç½®èº«äº‹å†…\"\u003eç½®èº«äº‹å†…\u003c/h3\u003e\n\u003cp\u003e2024-06-30.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2024-06-30.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eâ€œå‘å±•â€äº‹å…³æ¯ä¸ªäººï¼Œå½±å“ç”Ÿæ´»çš„æ–¹æ–¹é¢é¢ï¼Œç„¶è€Œç»æµå‘å±•é”™ä¸­å¤æ‚ï¼Œæ¶‰åŠæ”¿åºœå’Œå¸‚åœºå¤šæ–¹åšå¼ˆå’Œæƒè¡¡ï¼ˆe.g.ï¼ŒåœŸåœ°è´¢æ”¿/åœŸåœ°é‡‘èï¼‰ã€‚\u003c/p\u003e\n\u003cp\u003eã€Šç½®èº«äº‹å†…ã€‹æ­å¼€ä¸­å›½ç»æµå‘å±•ç°çŠ¶çš„å†°å±±ä¸€è§’ã€‚å¯¹ç»æµå‘å±•è¿›ç¨‹çš„æ€»ç»“å’Œç†è§£è¶Šæ˜¯æ·±åˆ»ï¼Œåˆ™è¶Šæ˜¯èƒ½ç†è§£å‘å±•é—®é¢˜çš„ç›˜æ ¹é”™èŠ‚ï¼Œç†è§£â€œå‘ä»€ä¹ˆæ–¹å‘å‘å±•ï¼ŸæŒ‰ä»€ä¹ˆè·¯çº¿å‘å±•ï¼Ÿâ€ä¹‹éš¾ã€‚\u003c/p\u003e\n\u003ch3 id=\"ä»–æ”¹å˜äº†ä¸­å›½\"\u003eä»–æ”¹å˜äº†ä¸­å›½\u003c/h3\u003e\n\u003cp\u003e2024-08-30.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2024-08-30.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eå‘è€å­¦é•¿å­¦ä¹ ï¼å­—é‡Œè¡Œé—´å¯ä»¥æ„Ÿå—åˆ°è€å­¦é•¿ä½œä¸ºé¢†å¯¼äººçš„é­…åŠ›ã€å¯¹äºå›½æƒ…çš„æ·±æ²‰è€Œé•¿ä¹…çš„æ€è€ƒã€ä»¥åŠä½œä¸ºçŸ¥è¯†åˆ†å­å¯¹ç§‘å­¦å’Œè‰ºæœ¯çš„çƒ­çˆ±ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâ€œåœ¨æ±Ÿçœ‹æ¥ï¼Œä»–åœ¨å·¥ç¨‹å­¦æ–¹é¢æ‰€å—çš„æ•™è‚²å’Œ20å¤šå¹´æ¥åœ¨å·¥ä¸šéƒ¨é—¨çš„ä»ä¸šç»éªŒä½¿ä»–çš„æ€ç»´æ¶æ„å¾—ä»¥æˆå‹ï¼Œåœ¨æ”¿åºœéƒ¨é—¨å·¥ä½œçš„30å¤šå¹´ä¸­ï¼Œå°½ç®¡æ±Ÿå­¦ä¼šäº†åƒæ”¿æ²»å®¶é‚£æ ·è¿ç­¹å’ŒæŠ—äº‰ï¼Œä½†ä»–ä»æ¥æ²¡æœ‰å¿˜è®°åƒä¸‹ç¨‹å¸ˆé‚£æ ·å»åˆ†æå’Œè®¡ç®—ã€‚ä»–è¿˜æ˜¯ä¸€ä¸ªæ±‚çŸ¥è‹¥æ¸´çš„çŸ¥è¯†åˆ†å­ï¼Œä¸€ä¸ªå–œæ¬¢åŸè¯—ä½œè¯—çš„æ–‡å­¦çˆ±å¥½è€…ã€‚ä»–çƒ­çˆ±ç§‘å­¦ï¼Œé’Ÿæƒ…è‰ºæœ¯ã€‚å„ç§å„æ ·çš„çŸ¥è¯†ç§¯ç´¯ä½¿ä»–å¾—ä»¥ç”¨è‡ªå·±çš„æ–¹å¼æ¥çœ‹å¾…è¿™ä¸ªä¸–ç•Œã€‚å†åŠ ä¸Šä»–çš„æ°‘æ—è‡ªè±ªæ„Ÿã€çˆ±å›°ä¸»ä¹‰å’Œä»–å¯¹é©¬å…‹æ€ä¸»ä¹‰çš„ä¿¡ä»°ï¼Œæ±Ÿå½¢æˆäº†ä¸€æ•´å¥—ç‹¬ç‰¹çš„æ€ç»´æ–¹å¼ã€‚è¿™ç§å…´è¶£åˆ©ç»éªŒçš„ç‹¬ç‰¹ç»„åˆï¼Œé›†ä¸­åœ¨ä¸€ä¸ªäººèº«ä¸Šå®å±ç½•è§.é›†ä¸­åœ¨ä¸€ä¸ªå›½å®¶é¢†å¯¼äººèº«ä¸Šåˆ™æ›´ä¸ºç½•è§ï¼Œè¿™ç§ç‹¬ç‰¹çš„ç»„åˆèµ‹äºˆäº†æ±Ÿæ³½æ°‘ç‰¹æ®Šçš„å“è´¨ã€‚â€\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch3 id=\"ä»€ä¹ˆæ˜¯ç§‘å­¦\"\u003eä»€ä¹ˆæ˜¯ç§‘å­¦\u003c/h3\u003e\n\u003cp\u003e2024-09-10.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2024-09-10.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eâ€œç§‘å­¦æŠ€æœ¯æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›â€ï¼Œå‘å±•ç§‘å­¦æŠ€æœ¯å·²æ˜¯ç¤¾ä¼šä¸Šä¸Šä¸‹ä¸‹çš„æ™®éå…±è¯†ï¼Œç„¶è€Œç©¶ç«Ÿâ€œä»€ä¹ˆæ˜¯ç§‘å­¦â€å°±å¦‚åŒæ¯ä¸ªäººç†è§£çš„å“ˆå§†é›·ç‰¹ä¸€èˆ¬ï¼Œä¸åŒäººçš„æœ‰ä¸åŒçš„ç†è§£ã€‚å›é¡¾â€œç§‘å­¦ï¼ˆscienceï¼‰â€çš„å†å²ï¼Œç»è¿‡äº†å¸Œè…Šæ—¶æœŸçš„ç†æ€§ç§‘å­¦ã€ä½“ç°æ±‚åŠ›æ„å¿—ï¼ˆwill to powerï¼‰çš„æ•°ç†å®éªŒç§‘å­¦ï¼Œâ€œä»€ä¹ˆæ˜¯ç§‘å­¦â€æ˜¯ä¸€ä¸ªå®šä¹‰é—®é¢˜ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eç°ä»£ä¸­å›½äººæ‰€è¯´çš„â€œç§‘å­¦â€æ¥è‡ªè¥¿æ–¹ã€‚ç§‘å­¦ç”±å¤ä»£å¸Œè…ŠåŸºäºè‡ªç”±äººæ€§çš„è‡ªç”±çš„å­¦æœ¯ï¼Œè½¬å˜ä¸ºç°ä»£åŸºäºæ±‚åŠ›æ„å¿—çš„æ±‚åŠ›çš„ç§‘å­¦ï¼Œå®Œå…¨æ˜¯è¥¿æ–¹è¯­å¢ƒä¸‹è‡ªæˆ‘æ¼”ç»ã€è‡ªæˆ‘è¿›åŒ–çš„ä¸€ç§ç‰¹å®šæ–‡åŒ–ç°è±¡ï¼Œä¸åŒ…æ‹¬ä¸­å›½åœ¨å†…çš„å…¶ä»–éè¥¿æ–¹æ–‡æ˜å¹¶æ— ç›´æ¥å…³è”ã€‚\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003eè¿½é—®ä»€ä¹ˆæ˜¯ç§‘å­¦ï¼Œè®©æˆ‘å¯¹äºå¤å¸Œè…Šä»°æœ›æ˜Ÿç©ºèˆ¬çš„philo-sophiaäººæ€§ç†æƒ³æ·±æœ‰æ„Ÿæ…¨ã€‚\u003c/p\u003e\n\u003ch3 id=\"æ·±åº¦å·¥ä½œ\"\u003eæ·±åº¦å·¥ä½œ\u003c/h3\u003e\n\u003cp\u003e2024-09-21.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2024-09-21.png#center-small\" alt='alt text' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eåœ¨ç«è½¦ä¸Šè¯»äº†å¡å°”Â·çº½æ³¢ç‰¹æ•™æˆçš„ã€Šæ·±åº¦å·¥ä½œã€‹â€”â€”å¤šå¹´ä»¥æ¥ä»–æ‰€æ–°ä¿¡å¥‰å¹¶è·µè¡Œçš„å·¥ä½œæ–¹å¼ã€‚\u003c/p\u003e\n\u003ch3 id=\"å¤å¸Œè…Šæ–‡æ˜çš„å…‰èŠ’\"\u003eå¤å¸Œè…Šæ–‡æ˜çš„å…‰èŠ’\u003c/h3\u003e\n\u003cp\u003e2024-11-30.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2024-11-30.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eæ­£å¦‚è‹±å›½è‘—åè¯—äººé›ªè±æ‰€è¯´ï¼Œâ€œæˆ‘ä»¬éƒ½æ˜¯å¸Œè…Šäººï¼Œæˆ‘ä»¬çš„æ³•å¾‹ã€æ–‡å­¦ã€å®—æ•™å’Œè‰ºæœ¯ä¹‹æ ¹éƒ½åœ¨å¸Œè…Šã€‚â€å¸Œè…Šæ–‡æ˜æ˜¯è¥¿æ–¹ã€ä»¥åŠæ•´ä¸ªäººç±»çš„ç²¾ç¥ç‘°å®ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eä¸€ä¸ªæ—¶ä»£çš„äººæœ‰ä¸€ä¸ªæ—¶ä»£çš„æ´»æ³•ã€‚ä½œä¸ºä¸€ä¸ªä»°æœ›æ˜Ÿç©ºçš„æ°‘æ—ï¼Œå¤å¸Œè…Šäººå§‹ç»ˆç”Ÿæ´»åœ¨æ¹›è“çš„å¤©ç©ºã€â€œè‘¡è„ç´«çš„æµ·æ°´â€ã€ç¾ä¸½çš„ç¥è¯å’Œè‡ªç”±çš„éæƒ³ä¹‹ä¸­ã€‚æ‰€ä»¥ï¼Œä»Šå¤©çš„äººä»¬è¦æƒ³çœŸæ­£èµ°è¿›å¤å¸Œè…Šæ–‡æ˜ï¼Œå°±åº”è¯¥æ”¾ä¸‹ä¸€äº›ç°å®çš„åŠŸåˆ©è€ƒé‡å’Œç§‘å­¦çœ¼å…‰ï¼Œå¤šä¸€ç‚¹æµªæ¼«æƒ…æ€€ã€‚\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch3 id=\"è¤šæ—¶å¥ä¼ \"\u003eè¤šæ—¶å¥ä¼ \u003c/h3\u003e\n\u003cp\u003e2024-12-07.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2024-12-07.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eâ€œå“è´¨ï¼Œæ˜¯ä¸€ç§ç”Ÿæ´»æ€åº¦ï¼Œæ˜¯ä¸€ç§äººç”Ÿè¿½æ±‚ã€‚è¤šæ—¶å¥å…ˆç”Ÿçš„ä¸€ç”Ÿï¼Œå°±æ˜¯å¯¹å“è´¨çš„è¿½æ±‚ã€‚â€\u003c/p\u003e","title":"2024"},{"content":"Prelude GNNæ˜¯æœ€è¿‘å‡ å¹´ä¸­æœºå™¨å­¦ä¹ è¾ƒæ–°çš„ä¸€ä¸ªå‘å±•æ–¹å‘ï¼Œä¹Ÿæ˜¯å­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œç ”ç©¶çš„çƒ­ç‚¹è¯é¢˜ã€‚ç›¸æ¯”äºnode2vecã€PageRankï¼ŒGNNå…·æœ‰æ›´å¼ºå¤§çš„å­¦ä¹ èƒ½åŠ›ï¼Œèƒ½å¤Ÿæ›´å¥½å¾—æ„ŸçŸ¥å›¾æ•°æ®ã€‚\nGNNçš„ä¸€ä¸ªç»å…¸åº”ç”¨åœºæ™¯æ˜¯æ¨èç³»ç»Ÿã€‚åƒæ·˜å®è¿™æ ·çš„ç”µå•†å¹³å°ï¼Œå¤§é‡çš„ç”¨æˆ·å’Œå•†å“ï¼Œè‡ªç„¶è€Œç„¶åœ°å½¢æˆäº†ä¸€ä¸ªå¤æ‚å¼‚æ„å›¾ï¼Œä¸€ä¸ªç›´è§‚æƒ³æ³•æ˜¯ï¼Œå¯ä»¥åˆ©ç”¨GNNå­¦ä¹ ç”¨æˆ·çš„å…´è¶£ç‰¹å¾ï¼Œæ ¹æ®ç”¨æˆ·çš„å†å²æµè§ˆæ¨èç”¨æˆ·æ›´æ„Ÿå…´è¶£çš„å•†å“ã€‚è€Œä¸”è¿™ç§æ–¹æ³•çš„æ¨èè´¨é‡ä¹Ÿæ›´é«˜ã€‚\nPinterest Let\u0026rsquo;s begin with PinSage 1 GNNçš„å¼€å±±åˆ¶ä½œâ€”â€”GCN 2æŠŠGNNè®­ç»ƒç”¨çŸ©é˜µä¹˜æ³•æ¥åˆ»ç”»ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œæ¯ä¸€å±‚æ¯ä¸ªç‚¹éƒ½è¦ä»ä»–çš„é‚»å±…ä¸­è¯»å–feature (i.e. å…¨å›¾è®­ç»ƒ)ï¼Œå¯¼è‡´GNNçš„å¤æ‚åº¦éå¸¸é«˜ã€‚\nåæ¥ï¼Œä¸€ä¸ªç‚¹åœ¨ä»–çš„éƒ¨åˆ†é‚»å±…ä¸­è¯»å–featureï¼ˆi.e. å›¾é‡‡æ ·ï¼‰å°±å¯ä»¥ä¿è¯æ¨¡å‹çš„å‡†ç¡®åº¦ï¼Œè¿™æ ·å°±å‡ä½äº†GNNè®­ç»ƒçš„æˆæœ¬ã€‚PinSageä¹Ÿæ˜¯ä¸€ä¸ªåŸºäºé‡‡æ ·çš„GNNç®—æ³•ï¼Œæ˜¯ä¸€ä¸ªæ—©æœŸåŒæ—¶ä¹Ÿéå¸¸ç»å…¸çš„GNNç®—æ³•ã€‚å’ŒGraphSageç›¸æ¯”ï¼Œæœ€å¤§çš„ä¸åŒç‚¹åœ¨äºç”¨random-walkï¼Œé‡‡æ ·çš„å­å›¾çš„è´¨é‡ä¼šå¥½ä¸€äº›ã€‚\n2023-03-17-20-42-27.png#center\ræ¯”å¦‚ä¸Šå›¾å°±æ˜¯ä¸€ä¸ªä¸¤å±‚çš„GNN, åœ¨é‡‡æ ·å®Œæˆåæˆ‘ä»¬ä¼šå¾—åˆ°å¾ˆå¤šä¸ªå­å›¾ï¼ˆi.e. mini-batchï¼‰å¹¶å–‚ç»™ç½‘ç»œè®­ç»ƒã€‚æ¯å±‚ç½‘ç»œéƒ½æ˜¯å¦‚ä¸‹å›¾æ‰€ç¤ºçš„å›¾å·ç§¯æ“ä½œï¼Œé€šè¿‡èšåˆç‰¹å¾ï¼ˆe.g. å–å¹³å‡ï¼Œæ±‚å’Œï¼‰å†é€šè¿‡ä¸€å±‚ç¥ç»ç½‘ç»œå¾—åˆ°ä¸€ä¸‹å±‚çš„è¾“å…¥ã€‚å°†å¤šå±‚å›¾å·ç§¯stackåˆ°ä¸€èµ·å°±æ„æˆäº†æ•´ä¸ªGNNï¼Œä¸€èˆ¬åªæœ‰2-3å±‚ã€‚\n2023-03-17-20-54-29.png#center-medium\rç„¶è€Œè¿™å’Œæ¨èç³»ç»Ÿæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿåœ¨Pinterestä¸­ï¼Œæœ‰å¾ˆå¤špinï¼ˆç±»ä¼¼æ·˜å®çš„å•†å“ï¼Œåœ¨æ¨èç³»ç»Ÿä¸­ä¹Ÿç§°ä¹‹ä¸ºitemï¼‰ï¼Œæ¯ä¸ªitemä¼šåŒ…å«å›¾ç‰‡ã€æ–‡æœ¬ä¿¡æ¯ï¼Œå°†å›¾ç‰‡å’Œæ–‡æœ¬çš„embeddingæ‹¼æ¥åˆ°ä¸€èµ·å¾—åˆ°itemçš„åˆå§‹ç‰¹å¾å‘é‡ã€‚åœ¨è®­ç»ƒå®ŒGNNä¹‹åï¼Œé€šè¿‡æ¨ç†å¾—åˆ°æ¯ä¸ªitemçš„åµŒå…¥å‘é‡ï¼Œä¹‹åæ¨èç³»ç»Ÿå°±å¯ä»¥æ ¹æ®embeddingå‘ç”¨æˆ·æ¨èæ–°çš„itemã€‚\nRecoommandation System at Pinterest åˆ°æ¨èç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ä¼šè®¤ä¸ºæ¯ä¸ªitemçš„embeddinå‘é‡æ˜¯é€šè¿‡ä¸€ä¸ªé»‘ç®±è¿‡ç¨‹ï¼ˆi.e. PinSageï¼‰ï¼Œæ˜¯æå‰å·²çŸ¥çš„ 3ã€‚æˆ‘ä»¬çš„é—®é¢˜æ˜¯ï¼ŒçŸ¥é“ç”¨æˆ·ç‚¹å‡»itemå†å²åºåˆ—$\\mathcal{A}=\\{a_1, a_2, \u0026hellip;\\}$ï¼Œæˆ‘ä»¬æƒ³ä»$\\mathcal{P}=\\{p_1, p_2, \u0026hellip;\\}$ä¸­é¢„æµ‹ä¸‹ä¸€ä¸ªç”¨æˆ·å¯èƒ½æ„Ÿå…´è¶£çš„å•†å“ã€‚\næˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä¸€äº›å¾ˆç›´è§‚çš„æ–¹æ³•ï¼Œæ¯”å¦‚å†å²çš„itemæ±‚å¹³å‡ï¼Œè¿˜å¯ä»¥æŒ‰æ—¶é—´ç»™ä¸€ä¸ªæƒé‡ã€‚ä½†æ˜¯è¿™æ ·çš„æ–¹æ³•æŠŠç”¨æˆ·çš„embeddingé™åˆ¶åœ¨ä¸€ä¸ªæœ‰é™çš„å‘é‡é‡Œé¢ï¼Œæ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œå› ä¸ºä¸€ä¸ªç”¨æˆ·å…´è¶£é¢æ˜¯æ˜¯å¾ˆå¹¿çš„ï¼Œå¯¹ä¸åŒç§ç±»çš„å•†å“æœ‰ä¸åŒçš„å–œå¥½ã€‚PinnerSage 3 ä¼šç»™ç”¨æˆ·ç»´æŠ¤ä¸€ä¸ªä¸é™å¤§å°çš„embeddingï¼Œä¸åŒçš„ç§ç±»çš„å–œå¥½éƒ½å¯¹åº”åˆ°ä¸€ä¸ªåµŒå…¥å‘é‡ã€‚\nç„¶è€Œè¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜â€”â€”ç”¨æˆ·çš„å†å²åºåˆ—ä¼šå¾ˆé•¿ï¼Œè®¡ç®—çš„å¤æ‚åº¦ä¼šéå¸¸å¤§ï¼Œå½±å“æ¨èçš„ç³»ç»Ÿçš„å»¶è¿Ÿã€‚PinnerSageé‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼Œé€šè¿‡èšç±»ï¼Œæ¯ä¸ªå•†å“éƒ½å¯ä»¥ç”¨ä¸€ä¸ªç±»ä¸­å¿ƒæ¥è¡¨ç¤ºã€‚åœ¨æ¨èçš„æ—¶å€™ï¼Œæ ¹æ®ç”¨æˆ·çš„actionå†ç»™è¿™äº›ç±»ä¸­å¿ƒä¸€ä¸ªé‡è¦æ€§è¯„åˆ†ã€‚æœ€åç”¨æœ€é‡è¦çš„ç±»ï¼ˆe.g. top 3ï¼‰å»é¢„æµ‹ä¸‹ä¸€ä¸ªitemã€‚\næ€»ç»“ä¸€ä¸‹PinnerSageçš„æ¨èè¿‡ç¨‹åˆ†ä¸º3æ­¥ï¼š\nç”¨æˆ·å†å²åŠ¨ä½œåºåˆ—èšç±» å¾—åˆ°ç±»ä¸­å¿ƒåµŒå…¥å‘é‡ï¼ˆMedoid basedï¼‰ 2023-03-17-22-25-04.png#center-large\ræ ¹æ®time decayè®¡ç®—ç±»çš„é‡è¦åº¦ 2023-03-17-21-18-03.png#center-medium\ræ‰¾å“ªä¸€ä¸ªitemæœ€åˆé€‚æ˜¯ä¸€ä¸ªç´¢å¼•è¿‡ç¨‹ï¼Œä¸€èˆ¬ä¼šé€šè¿‡cacheåŠ é€ŸæŸ¥è¯¢ã€‚ä¸ºäº†å…¼é¡¾ç”¨æˆ·çš„é•¿æœŸå…´è¶£å’Œç³»ç»Ÿå»¶è¿Ÿï¼ŒPinnerSageå°†ä»»åŠ¡åˆ†æˆä¸¤ç±»ï¼Œdailyå’Œonlineã€‚åœ¨æ¯å¤©PinnerSageéƒ½ä¼šæŠŠç”¨æˆ·çš„å†å²åŠ¨ä½œè¿›è¡Œèšç±»çš„ï¼Œå¾—åˆ°ç±»ä¸­å¿ƒå’Œé‡è¦åº¦ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å’Œç”¨æˆ·å…´è¶£ã€‚è€Œåœ¨onlineæ¨èçš„æ—¶å€™ï¼Œåªä¼šå¯¹ç”¨æœ€æ–°çš„åŠ¨ä½œåœ¨å·²æœ‰çš„ç±»ä¸Šrefineï¼Œé™ä½æ¨èçš„å»¶è¿Ÿã€‚\nAliGraph 4 å›¾æ•°æ®è§„æ¨¡çš„å¢å¤§ç»™GNNè®­ç»ƒå¸¦æ¥æ–°çš„æŒ‘æˆ˜ï¼Œåœ¨å·¥ä¸šç•Œï¼Œå›¾çš„è§„æ¨¡ä¼šéå¸¸å¤§ï¼Œç‚¹å’Œè¾¹å¾€å¾€æ˜¯billioné‡çº§çš„ã€‚Aliåæ‹¥æœ€å¤§çš„ç”µå•†å¹³å°ä¹‹ä¸€ï¼Œå¤§è§„æ¨¡å›¾ç¥ç»ç½‘ç»œæ—¢æœ‰çœŸå®çš„åœºæ™¯ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªäºŸé¡»è§£å†³çš„é—®é¢˜ã€‚\nAliGraphæ˜¯aliçš„ä¸€ä¸ªå›¾ç¥ç»ç½‘ç»œæ¡†æ¶ã€‚ä»ç³»ç»Ÿçš„è§’åº¦æ¥çœ‹ï¼ŒAliGraphéœ€è¦ä¸ºä¸Šå±‚ç”¨æˆ·æä¾›åº”æœ‰çš„æ”¯æ’‘ï¼Œä½¿å¾—ä¸Šå±‚ç®—æ³•å’Œåº”ç”¨å¼€å‘å¯ä»¥ä»…ä»…å…³æ³¨è‡ªèº«çš„é€»è¾‘ï¼Œè€Œä¸ç”¨æ‹…å¿ƒèµ„æºå¦‚ä½•åˆ†é…çš„é—®é¢˜ã€‚\n2023-03-17-22-43-30.png#center-medium\ré¢å¯¹è¶…å¤§è§„æ¨¡çš„å›¾ï¼ŒAliGraphé€šè¿‡paritionæŠŠå›¾åˆ†å¸ƒå¼å­˜åœ¨é›†ç¾¤ä¸Šï¼Œè§£å†³äº†å­˜å‚¨çš„é—®é¢˜ã€‚åŒæ—¶é€šè¿‡ç»´æŠ¤cacheï¼Œå°½å¯èƒ½å‡å°‘partitionä¹‹é—´çš„é€šè®¯å¼€é”€ã€‚åŒæ—¶AliGraphè¿˜éœ€è¦å®ç°å¸¸è§çš„ç®—å­æ¥æ”¯æŒä¸Šå±‚GNNåº”ç”¨ã€‚AliGraphä¹Ÿè¿›è¡Œäº†å¼€æºï¼ŒGraphLearn 5ï¼ŒåŒæ—¶æ”¯æŒæ¨ç†å’Œè®­ç»ƒä»»åŠ¡ã€‚\n2023-03-17-23-39-15.png\rGNNè®­ç»ƒåŸºæœ¬éƒ½æ˜¯å¤§åŒå°å¼‚ï¼Œè€Œæ¨ç†ä»»åŠ¡æ˜¯éƒ¨ç½²å’Œè½åœ°ä¸­ä¸»è¦workloadï¼Œè€Œä¸”å¤§éƒ¨åˆ†çš„è®¡ç®—èµ„æºä¹Ÿæ˜¯èŠ±åœ¨æ¨ç†ä¸Šã€‚è€ƒè™‘åˆ°çœŸå®åœºæ™¯ä¸‹ï¼Œå›¾ä¸€èˆ¬æ˜¯åŠ¨æ€ï¼ˆe.g. æ–°ç”¨æˆ·çš„åŠ å…¥ï¼‰ï¼ŒGraphLearnåæ¥å¢åŠ äº†Dynamic Graph Service (DGS)æ¥æ”¯æŒåŠ¨æ€å›¾çš„æ¨ç†ä»»åŠ¡ã€‚\n2023-03-17-23-45-57.png\ræ•´ä¸ªç³»ç»Ÿé€šè¿‡å¾®æœåŠ¡çš„æ–¹å¼è¿è¡Œï¼Œæ¯ä¸ªæ¨¡å—è¢«æ‹†åˆ°subservicesï¼Œæ¨¡å—ä¹‹é—´éƒ½é€šè¿‡é˜Ÿåˆ—è¿æ¥èµ·æ¥ï¼ˆe.g. kafkaï¼‰ã€‚\nç¾å›¢å¹¿å‘Šæ¨è 6 å¯ä»¥å‘ç°åœ¨å’ŒPinterestçš„æ¨èç³»ç»Ÿå…¶å®åœ¨è®¾è®¡ä¸Šæœ‰å¾ˆå¤šå…±åŒç‚¹ã€‚\nç¾å›¢åœ¨æ¨èä»»åŠ¡ä¸­æœ‰ä¸¤ä¸ªè§‚å¯Ÿç‚¹ï¼šæ•°æ®æ ·æœ¬ç¨€ç–ï¼Œå¹¿å‘ŠæŠ•æ”¾åç‚¹å‡»é‡éå¸¸å°‘ï¼›ç”¨æˆ·å…´è¶£å­˜åœ¨æ—¶ç©ºç‰¹ç‚¹ï¼Œåœ¨ä¸åŒæ—¶é—´ç‚¹å’Œåœ°ç‚¹ç”¨æˆ·æœ‰ä¸åŒçš„å…´è¶£ç‚¹ã€‚é€šè¿‡å¼‚æ„å›¾æ„å»ºã€æ³¨æ„åŠ›æœºåˆ¶ç­‰æ–¹æ³•è§£å†³çš„æ¨èä¸å‡†ç¡®çš„é—®é¢˜ã€‚\n2023-03-18-00-04-16.png\ræ•´ä¸ªæ¨èä¹Ÿåˆ†æˆonlineä»»åŠ¡ï¼Œä¿è¯è¯·æ±‚ä½å»¶è¿Ÿï¼›ä»¥åŠofflineä»»åŠ¡ï¼Œç”¨æ¥æ›´æ–°å›¾èŠ‚ç‚¹embeddingï¼Œå­¦ä¹ ç”¨æˆ·çš„é•¿æœŸå…´è¶£ã€‚è€Œæ•´ä¸ªç³»ç»Ÿçš„éƒ¨ç½²æ–¹å¼å’ŒGraphLearnä¹Ÿæœ‰ä¸€äº›ç›¸ä¼¼æ€§ã€‚\nChallenges still exist åœ¨å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œå›¾å¹¶ä¸æ˜¯é™æ€ä¸å˜çš„è€Œæ˜¯å‘ˆç°å‡ºä¸€ç§æ—¶é—´ç‰¹å¾ï¼Œä¸€äº›ç‚¹åœ¨$t_0$æ—¶åŠ å…¥ï¼Œä¹‹ååœ¨$t_1$æ—¶åˆ é™¤ã€‚ä½†æ˜¯æ—¶åºå›¾GNNï¼ˆTGNNï¼‰ä»ç„¶æ˜¯ä¸€ä¸ªopençš„é—®é¢˜ 7ã€‚åœ¨è¿‘å‡ å¹´GNNçš„å‘å±•ä¸­ï¼Œå¼€æ”¾çš„æ ‡å‡†æ•°æ®é›†ï¼ˆe.g. OGB 8ï¼‰æœ‰ç€å·¨å¤§çš„è´¡çŒ®ï¼Œä¸è®ºæ˜¯GNNç®—æ³•è¿˜æ˜¯GNNç³»ç»Ÿå¼€å‘ï¼Œéƒ½ä¼šå°†OGBä½œä¸ºæ•°æ®é›†å’Œå…¶ä»–baselineæ¯”è¾ƒã€‚ç„¶è€Œç›®å‰TGNNå¹¶æ²¡æœ‰å¯¹åº”çš„æ ‡å‡†æ•°æ®é›†ï¼Œè¿™æ ·æˆ‘ä»¬å¾ˆéš¾å»æ¯”è¾ƒä¸åŒæ¥è‡ªä¸åŒå›¢é˜Ÿçš„å·¥ä½œã€‚å¦ä¸€ä¸ªæ–¹é¢ï¼ŒGNNçš„æ”¶æ•›æ€§å’Œè¡¨è¾¾èƒ½åŠ›æ˜¯å¯ä»¥è¢«è¯æ˜çš„ï¼Œä½†æ˜¯TGNNè¿˜æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„ç®—æ³•ï¼Œå¹¶æ²¡æœ‰GNNæˆç†Ÿï¼Œç¼ºå°‘åŸºç¡€çš„ç†è®ºæ”¯æ’‘ã€‚\nGNNè™½ç„¶ç½‘ç»œå±‚æ•°å°‘ï¼Œè®¡ç®—èµ„æºéœ€æ±‚ä¸å¤§ï¼Œä½†æ˜¯å›¾å’Œç‰¹å¾éœ€è¦å ç”¨å¤§é‡çš„å­˜å‚¨èµ„æºï¼Œè¿™ç»™GNNéƒ¨ç½²å’Œè½åœ°å¸¦æ¥äº†ä¸€äº›æŒ‘æˆ˜ 9ã€‚\n2023-03-18-13-38-30.png#center-large\rè¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œåœ¨éƒ¨ç½²GNNæ—¶æˆ‘ä»¬å¸Œæœ›å¯ä»¥é™ä½å­˜å‚¨çš„å¼€é”€ï¼ŒServing graph compression for GNNsã€‚Model compressionã€Coreset selectionã€ Dataset distillationæ˜¯ç›®å‰çš„ä¸€äº›å¸¸è§çš„æ–¹æ³•ã€‚\nGNNå¦‚ä»Šå·²ç»åœ¨æ¨èç³»ç»Ÿä¸­æœ‰äº†ä¸€å¸­ä¹‹åœ°ã€‚ä¹‹åï¼Œéšç€GNNåº”ç”¨é€æ¸æ‰©å¤§ã€GNNç®—æ³•çš„æ”¹è¿›ã€è½¯ä»¶ç¯å¢ƒçš„å˜åŒ–ï¼Œä¹Ÿè®¸ä¼šäº§ç”Ÿæ–°çš„è®¾è®¡ï¼Œbut no one can predictã€‚\nGraph Convolutional Neural Networks for Web-Scale Recommender Systems\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSEMI-SUPERVISED CLASSIFICATION WITH GRAPH CONVOLUTIONAL NETWORKS\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nPinnerSage: Multi-Modal User Embedding Framework for Recommendations at Pinterest\u0026#160;\u0026#x21a9;\u0026#xfe0e;\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nAliGraph: A Comprehensive Graph Neural Network Platform\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nGraphLearn\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå¤§è§„æ¨¡å¼‚æ„å›¾å¬å›åœ¨ç¾å›¢åˆ°åº—æ¨èå¹¿å‘Šçš„åº”ç”¨\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nGraph Neural Networks for temporal graphs: State of the art, open challenges, and opportunities\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nOpen Graph Benchmark: Datasets for Machine Learning on Graphs\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nServing Graph Compression for Graph Neural Networks\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://Anlarry.github.io/posts/paper-reading/gnn-application-in-recommendation/","summary":"\u003ch3 id=\"prelude\"\u003ePrelude\u003c/h3\u003e\n\u003cp\u003eGNNæ˜¯æœ€è¿‘å‡ å¹´ä¸­æœºå™¨å­¦ä¹ è¾ƒæ–°çš„ä¸€ä¸ªå‘å±•æ–¹å‘ï¼Œä¹Ÿæ˜¯å­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œç ”ç©¶çš„çƒ­ç‚¹è¯é¢˜ã€‚ç›¸æ¯”äºnode2vecã€PageRankï¼ŒGNNå…·æœ‰æ›´å¼ºå¤§çš„å­¦ä¹ èƒ½åŠ›ï¼Œèƒ½å¤Ÿæ›´å¥½å¾—æ„ŸçŸ¥å›¾æ•°æ®ã€‚\u003c/p\u003e\n\u003cp\u003eGNNçš„ä¸€ä¸ªç»å…¸åº”ç”¨åœºæ™¯æ˜¯æ¨èç³»ç»Ÿã€‚åƒæ·˜å®è¿™æ ·çš„ç”µå•†å¹³å°ï¼Œå¤§é‡çš„ç”¨æˆ·å’Œå•†å“ï¼Œè‡ªç„¶è€Œç„¶åœ°å½¢æˆäº†ä¸€ä¸ªå¤æ‚å¼‚æ„å›¾ï¼Œä¸€ä¸ªç›´è§‚æƒ³æ³•æ˜¯ï¼Œå¯ä»¥åˆ©ç”¨GNNå­¦ä¹ ç”¨æˆ·çš„å…´è¶£ç‰¹å¾ï¼Œæ ¹æ®ç”¨æˆ·çš„å†å²æµè§ˆæ¨èç”¨æˆ·æ›´æ„Ÿå…´è¶£çš„å•†å“ã€‚è€Œä¸”è¿™ç§æ–¹æ³•çš„æ¨èè´¨é‡ä¹Ÿæ›´é«˜ã€‚\u003c/p\u003e\n\u003ch2 id=\"pinterest\"\u003ePinterest\u003c/h2\u003e\n\u003ch3 id=\"lets-begin-with-pinsage\"\u003eLet\u0026rsquo;s begin with PinSage \u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e\u003c/h3\u003e\n\u003cp\u003eGNNçš„å¼€å±±åˆ¶ä½œâ€”â€”GCN \u003csup id=\"fnref:2\"\u003e\u003ca href=\"#fn:2\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e2\u003c/a\u003e\u003c/sup\u003eæŠŠGNNè®­ç»ƒç”¨çŸ©é˜µä¹˜æ³•æ¥åˆ»ç”»ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œæ¯ä¸€å±‚æ¯ä¸ªç‚¹éƒ½è¦ä»ä»–çš„é‚»å±…ä¸­è¯»å–feature (i.e. å…¨å›¾è®­ç»ƒ)ï¼Œå¯¼è‡´GNNçš„å¤æ‚åº¦éå¸¸é«˜ã€‚\u003c/p\u003e\n\u003cp\u003eåæ¥ï¼Œä¸€ä¸ªç‚¹åœ¨ä»–çš„éƒ¨åˆ†é‚»å±…ä¸­è¯»å–featureï¼ˆi.e. å›¾é‡‡æ ·ï¼‰å°±å¯ä»¥ä¿è¯æ¨¡å‹çš„å‡†ç¡®åº¦ï¼Œè¿™æ ·å°±å‡ä½äº†GNNè®­ç»ƒçš„æˆæœ¬ã€‚PinSageä¹Ÿæ˜¯ä¸€ä¸ªåŸºäºé‡‡æ ·çš„GNNç®—æ³•ï¼Œæ˜¯ä¸€ä¸ªæ—©æœŸåŒæ—¶ä¹Ÿéå¸¸ç»å…¸çš„GNNç®—æ³•ã€‚å’ŒGraphSageç›¸æ¯”ï¼Œæœ€å¤§çš„ä¸åŒç‚¹åœ¨äºç”¨random-walkï¼Œé‡‡æ ·çš„å­å›¾çš„è´¨é‡ä¼šå¥½ä¸€äº›ã€‚\u003c/p\u003e\n\u003cp\u003e2023-03-17-20-42-27.png#center\r\n\u003cimg class=\"img-fluid\" src=\"2023-03-17-20-42-27.png#center\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eæ¯”å¦‚ä¸Šå›¾å°±æ˜¯ä¸€ä¸ªä¸¤å±‚çš„GNN, åœ¨é‡‡æ ·å®Œæˆåæˆ‘ä»¬ä¼šå¾—åˆ°å¾ˆå¤šä¸ªå­å›¾ï¼ˆi.e. mini-batchï¼‰å¹¶å–‚ç»™ç½‘ç»œè®­ç»ƒã€‚æ¯å±‚ç½‘ç»œéƒ½æ˜¯å¦‚ä¸‹å›¾æ‰€ç¤ºçš„å›¾å·ç§¯æ“ä½œï¼Œé€šè¿‡èšåˆç‰¹å¾ï¼ˆe.g. å–å¹³å‡ï¼Œæ±‚å’Œï¼‰å†é€šè¿‡ä¸€å±‚ç¥ç»ç½‘ç»œå¾—åˆ°ä¸€ä¸‹å±‚çš„è¾“å…¥ã€‚å°†å¤šå±‚å›¾å·ç§¯stackåˆ°ä¸€èµ·å°±æ„æˆäº†æ•´ä¸ªGNNï¼Œä¸€èˆ¬åªæœ‰2-3å±‚ã€‚\u003c/p\u003e\n\u003cp\u003e2023-03-17-20-54-29.png#center-medium\r\n\u003cimg class=\"img-fluid\" src=\"2023-03-17-20-54-29.png#center-medium\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eç„¶è€Œè¿™å’Œæ¨èç³»ç»Ÿæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿåœ¨Pinterestä¸­ï¼Œæœ‰å¾ˆå¤š\u003cem\u003epin\u003c/em\u003eï¼ˆç±»ä¼¼æ·˜å®çš„å•†å“ï¼Œåœ¨æ¨èç³»ç»Ÿä¸­ä¹Ÿç§°ä¹‹ä¸º\u003cem\u003eitem\u003c/em\u003eï¼‰ï¼Œæ¯ä¸ªitemä¼šåŒ…å«å›¾ç‰‡ã€æ–‡æœ¬ä¿¡æ¯ï¼Œå°†å›¾ç‰‡å’Œæ–‡æœ¬çš„embeddingæ‹¼æ¥åˆ°ä¸€èµ·å¾—åˆ°itemçš„åˆå§‹ç‰¹å¾å‘é‡ã€‚åœ¨è®­ç»ƒå®ŒGNNä¹‹åï¼Œé€šè¿‡æ¨ç†å¾—åˆ°æ¯ä¸ªitemçš„åµŒå…¥å‘é‡ï¼Œä¹‹åæ¨èç³»ç»Ÿå°±å¯ä»¥æ ¹æ®embeddingå‘ç”¨æˆ·æ¨èæ–°çš„itemã€‚\u003c/p\u003e\n\u003ch3 id=\"recoommandation-system-at-pinterest\"\u003eRecoommandation System at Pinterest\u003c/h3\u003e\n\u003cp\u003eåˆ°æ¨èç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ä¼šè®¤ä¸ºæ¯ä¸ªitemçš„embeddinå‘é‡æ˜¯é€šè¿‡ä¸€ä¸ªé»‘ç®±è¿‡ç¨‹ï¼ˆi.e. PinSageï¼‰ï¼Œæ˜¯æå‰å·²çŸ¥çš„ \u003csup id=\"fnref:3\"\u003e\u003ca href=\"#fn:3\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e3\u003c/a\u003e\u003c/sup\u003eã€‚æˆ‘ä»¬çš„é—®é¢˜æ˜¯ï¼ŒçŸ¥é“ç”¨æˆ·ç‚¹å‡»itemå†å²åºåˆ—$\\mathcal{A}=\\{a_1, a_2, \u0026hellip;\\}$ï¼Œæˆ‘ä»¬æƒ³ä»$\\mathcal{P}=\\{p_1, p_2, \u0026hellip;\\}$ä¸­é¢„æµ‹ä¸‹ä¸€ä¸ªç”¨æˆ·å¯èƒ½æ„Ÿå…´è¶£çš„å•†å“ã€‚\u003c/p\u003e\n\u003cp\u003eæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä¸€äº›å¾ˆç›´è§‚çš„æ–¹æ³•ï¼Œæ¯”å¦‚å†å²çš„itemæ±‚å¹³å‡ï¼Œè¿˜å¯ä»¥æŒ‰æ—¶é—´ç»™ä¸€ä¸ªæƒé‡ã€‚ä½†æ˜¯è¿™æ ·çš„æ–¹æ³•æŠŠç”¨æˆ·çš„embeddingé™åˆ¶åœ¨ä¸€ä¸ªæœ‰é™çš„å‘é‡é‡Œé¢ï¼Œæ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œå› ä¸ºä¸€ä¸ªç”¨æˆ·å…´è¶£é¢æ˜¯æ˜¯å¾ˆå¹¿çš„ï¼Œå¯¹ä¸åŒç§ç±»çš„å•†å“æœ‰ä¸åŒçš„å–œå¥½ã€‚PinnerSage \u003csup id=\"fnref1:3\"\u003e\u003ca href=\"#fn:3\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e3\u003c/a\u003e\u003c/sup\u003e ä¼šç»™ç”¨æˆ·ç»´æŠ¤ä¸€ä¸ªä¸é™å¤§å°çš„embeddingï¼Œä¸åŒçš„ç§ç±»çš„å–œå¥½éƒ½å¯¹åº”åˆ°ä¸€ä¸ªåµŒå…¥å‘é‡ã€‚\u003c/p\u003e\n\u003cp\u003eç„¶è€Œè¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜â€”â€”ç”¨æˆ·çš„å†å²åºåˆ—ä¼šå¾ˆé•¿ï¼Œè®¡ç®—çš„å¤æ‚åº¦ä¼šéå¸¸å¤§ï¼Œå½±å“æ¨èçš„ç³»ç»Ÿçš„å»¶è¿Ÿã€‚PinnerSageé‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼Œé€šè¿‡èšç±»ï¼Œæ¯ä¸ªå•†å“éƒ½å¯ä»¥ç”¨ä¸€ä¸ªç±»ä¸­å¿ƒæ¥è¡¨ç¤ºã€‚åœ¨æ¨èçš„æ—¶å€™ï¼Œæ ¹æ®ç”¨æˆ·çš„actionå†ç»™è¿™äº›ç±»ä¸­å¿ƒä¸€ä¸ªé‡è¦æ€§è¯„åˆ†ã€‚æœ€åç”¨æœ€é‡è¦çš„ç±»ï¼ˆe.g. top 3ï¼‰å»é¢„æµ‹ä¸‹ä¸€ä¸ªitemã€‚\u003c/p\u003e\n\u003cp\u003eæ€»ç»“ä¸€ä¸‹PinnerSageçš„æ¨èè¿‡ç¨‹åˆ†ä¸º3æ­¥ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eç”¨æˆ·å†å²åŠ¨ä½œåºåˆ—èšç±»\u003c/li\u003e\n\u003cli\u003eå¾—åˆ°ç±»ä¸­å¿ƒåµŒå…¥å‘é‡ï¼ˆMedoid basedï¼‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e2023-03-17-22-25-04.png#center-large\r\n\u003cimg class=\"img-fluid\" src=\"2023-03-17-22-25-04.png#center-large\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ ¹æ®time decayè®¡ç®—ç±»çš„é‡è¦åº¦\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e2023-03-17-21-18-03.png#center-medium\r\n\u003cimg class=\"img-fluid\" src=\"2023-03-17-21-18-03.png#center-medium\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eæ‰¾å“ªä¸€ä¸ªitemæœ€åˆé€‚æ˜¯ä¸€ä¸ªç´¢å¼•è¿‡ç¨‹ï¼Œä¸€èˆ¬ä¼šé€šè¿‡cacheåŠ é€ŸæŸ¥è¯¢ã€‚ä¸ºäº†å…¼é¡¾ç”¨æˆ·çš„é•¿æœŸå…´è¶£å’Œç³»ç»Ÿå»¶è¿Ÿï¼ŒPinnerSageå°†ä»»åŠ¡åˆ†æˆä¸¤ç±»ï¼Œdailyå’Œonlineã€‚åœ¨æ¯å¤©PinnerSageéƒ½ä¼šæŠŠç”¨æˆ·çš„å†å²åŠ¨ä½œè¿›è¡Œèšç±»çš„ï¼Œå¾—åˆ°ç±»ä¸­å¿ƒå’Œé‡è¦åº¦ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å’Œç”¨æˆ·å…´è¶£ã€‚è€Œåœ¨onlineæ¨èçš„æ—¶å€™ï¼Œåªä¼šå¯¹ç”¨æœ€æ–°çš„åŠ¨ä½œåœ¨å·²æœ‰çš„ç±»ä¸Šrefineï¼Œé™ä½æ¨èçš„å»¶è¿Ÿã€‚\u003c/p\u003e\n\u003ch2 id=\"aligraph\"\u003eAliGraph \u003csup id=\"fnref:4\"\u003e\u003ca href=\"#fn:4\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e4\u003c/a\u003e\u003c/sup\u003e\u003c/h2\u003e\n\u003cp\u003eå›¾æ•°æ®è§„æ¨¡çš„å¢å¤§ç»™GNNè®­ç»ƒå¸¦æ¥æ–°çš„æŒ‘æˆ˜ï¼Œåœ¨å·¥ä¸šç•Œï¼Œå›¾çš„è§„æ¨¡ä¼šéå¸¸å¤§ï¼Œç‚¹å’Œè¾¹å¾€å¾€æ˜¯billioné‡çº§çš„ã€‚Aliåæ‹¥æœ€å¤§çš„ç”µå•†å¹³å°ä¹‹ä¸€ï¼Œå¤§è§„æ¨¡å›¾ç¥ç»ç½‘ç»œæ—¢æœ‰çœŸå®çš„åœºæ™¯ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªäºŸé¡»è§£å†³çš„é—®é¢˜ã€‚\u003c/p\u003e\n\u003cp\u003eAliGraphæ˜¯aliçš„ä¸€ä¸ªå›¾ç¥ç»ç½‘ç»œæ¡†æ¶ã€‚ä»ç³»ç»Ÿçš„è§’åº¦æ¥çœ‹ï¼ŒAliGraphéœ€è¦ä¸ºä¸Šå±‚ç”¨æˆ·æä¾›åº”æœ‰çš„æ”¯æ’‘ï¼Œä½¿å¾—ä¸Šå±‚ç®—æ³•å’Œåº”ç”¨å¼€å‘å¯ä»¥ä»…ä»…å…³æ³¨è‡ªèº«çš„é€»è¾‘ï¼Œè€Œä¸ç”¨æ‹…å¿ƒèµ„æºå¦‚ä½•åˆ†é…çš„é—®é¢˜ã€‚\u003c/p\u003e\n\u003cp\u003e2023-03-17-22-43-30.png#center-medium\r\n\u003cimg class=\"img-fluid\" src=\"2023-03-17-22-43-30.png#center-medium\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eé¢å¯¹è¶…å¤§è§„æ¨¡çš„å›¾ï¼ŒAliGraphé€šè¿‡paritionæŠŠå›¾åˆ†å¸ƒå¼å­˜åœ¨é›†ç¾¤ä¸Šï¼Œè§£å†³äº†å­˜å‚¨çš„é—®é¢˜ã€‚åŒæ—¶é€šè¿‡ç»´æŠ¤cacheï¼Œå°½å¯èƒ½å‡å°‘partitionä¹‹é—´çš„é€šè®¯å¼€é”€ã€‚åŒæ—¶AliGraphè¿˜éœ€è¦å®ç°å¸¸è§çš„ç®—å­æ¥æ”¯æŒä¸Šå±‚GNNåº”ç”¨ã€‚AliGraphä¹Ÿè¿›è¡Œäº†å¼€æºï¼ŒGraphLearn \u003csup id=\"fnref:5\"\u003e\u003ca href=\"#fn:5\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e5\u003c/a\u003e\u003c/sup\u003eï¼ŒåŒæ—¶æ”¯æŒæ¨ç†å’Œè®­ç»ƒä»»åŠ¡ã€‚\u003c/p\u003e\n\u003cp\u003e2023-03-17-23-39-15.png\r\n\u003cimg class=\"img-fluid\" src=\"2023-03-17-23-39-15.png\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eGNNè®­ç»ƒåŸºæœ¬éƒ½æ˜¯å¤§åŒå°å¼‚ï¼Œè€Œæ¨ç†ä»»åŠ¡æ˜¯éƒ¨ç½²å’Œè½åœ°ä¸­ä¸»è¦workloadï¼Œè€Œä¸”å¤§éƒ¨åˆ†çš„è®¡ç®—èµ„æºä¹Ÿæ˜¯èŠ±åœ¨æ¨ç†ä¸Šã€‚è€ƒè™‘åˆ°çœŸå®åœºæ™¯ä¸‹ï¼Œå›¾ä¸€èˆ¬æ˜¯åŠ¨æ€ï¼ˆe.g. æ–°ç”¨æˆ·çš„åŠ å…¥ï¼‰ï¼ŒGraphLearnåæ¥å¢åŠ äº†Dynamic Graph Service (DGS)æ¥æ”¯æŒåŠ¨æ€å›¾çš„æ¨ç†ä»»åŠ¡ã€‚\u003c/p\u003e\n\u003cp\u003e2023-03-17-23-45-57.png\r\n\u003cimg class=\"img-fluid\" src=\"2023-03-17-23-45-57.png\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eæ•´ä¸ªç³»ç»Ÿé€šè¿‡å¾®æœåŠ¡çš„æ–¹å¼è¿è¡Œï¼Œæ¯ä¸ªæ¨¡å—è¢«æ‹†åˆ°subservicesï¼Œæ¨¡å—ä¹‹é—´éƒ½é€šè¿‡é˜Ÿåˆ—è¿æ¥èµ·æ¥ï¼ˆe.g. kafkaï¼‰ã€‚\u003c/p\u003e\n\u003ch2 id=\"ç¾å›¢å¹¿å‘Šæ¨è\"\u003eç¾å›¢å¹¿å‘Šæ¨è \u003csup id=\"fnref:6\"\u003e\u003ca href=\"#fn:6\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e6\u003c/a\u003e\u003c/sup\u003e\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå¯ä»¥å‘ç°åœ¨å’ŒPinterestçš„æ¨èç³»ç»Ÿå…¶å®åœ¨è®¾è®¡ä¸Šæœ‰å¾ˆå¤šå…±åŒç‚¹ã€‚\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003eç¾å›¢åœ¨æ¨èä»»åŠ¡ä¸­æœ‰ä¸¤ä¸ªè§‚å¯Ÿç‚¹ï¼š\u003cstrong\u003eæ•°æ®æ ·æœ¬ç¨€ç–\u003c/strong\u003eï¼Œå¹¿å‘ŠæŠ•æ”¾åç‚¹å‡»é‡éå¸¸å°‘ï¼›\u003cstrong\u003eç”¨æˆ·å…´è¶£å­˜åœ¨æ—¶ç©ºç‰¹ç‚¹\u003c/strong\u003eï¼Œåœ¨ä¸åŒæ—¶é—´ç‚¹å’Œåœ°ç‚¹ç”¨æˆ·æœ‰ä¸åŒçš„å…´è¶£ç‚¹ã€‚é€šè¿‡å¼‚æ„å›¾æ„å»ºã€æ³¨æ„åŠ›æœºåˆ¶ç­‰æ–¹æ³•è§£å†³çš„æ¨èä¸å‡†ç¡®çš„é—®é¢˜ã€‚\u003c/p\u003e\n\u003cp\u003e2023-03-18-00-04-16.png\r\n\u003cimg class=\"img-fluid\" src=\"2023-03-18-00-04-16.png\" alt='' /\u003e\r\n\u003c/p\u003e","title":"GNN Application in Recommendation"},{"content":"ç¹èŠ± 2023-01-13-00-12-10.png#center-small\ræç»˜ä¸Šæµ·20ä¸–çºª60å¹´ä»£è‡³90å¹´ä»£å¸‚æ°‘ç”Ÿæ´»ï¼Œå­—é‡Œè¡Œé—´æ´‹æº¢ç€ä¸Šæµ·è¯çš„é£æ ¼ã€‚\næ±Ÿå—ä¸‰éƒ¨æ›² ç†æƒ³ä¸ç°å®ï¼Œæœ€ç»ˆä»¥åˆ«æ ·æ–¹å¼çš„å’Œè§£ã€‚\næ¯›æ³½ä¸œä¼  2023-03-14-18-56-04.png#center-small\ræ¯›æ³½ä¸œï¼Œæ— äº§é˜¶çº§é©å‘½çš„é¢†å¯¼è€…ï¼Œæœ‰ç€å¼ºçƒˆçš„æ°‘æ—ä¸»ä¹‰ç²¾ç¥å’Œæ–—äº‰ç²¾ç¥ï¼Œ å¸¦é¢†å†›é˜Ÿä»äº•å†ˆå±±èµ°éç¥–å›½å¤§æ±Ÿå—åŒ—ï¼Œæœ€ç»ˆå¤ºå–ç»Ÿæ²»æƒï¼Œåœ¨æ­¤æœŸé—´ä½œä¸ºä¸€ä¸ªè¯—äººï¼Œ æŠ’å‘å¯¹å±±æ²³çš„æ„Ÿå¹ï¼Œæ´‹æº¢ç€æ¿€æƒ…å’Œå‚²æ°”ï¼Œâ€œæ˜¯é£æµäººç‰©è¿˜çœ‹ä»Šæœâ€ã€‚ åœ¨æ™šå¹´ï¼Œæˆä¸ºâ€œåŠç¥åŠäººå¼çš„äººç‰©â€ï¼Œâ€œé›†çœŸç†å’ŒæƒåŠ›äºä¸€èº«â€ï¼Œ è€Œä¸­å›½æ”¿æ²»å±€åŠ¿åˆ™å·¦å³æ‘‡æ‘†ï¼Œå¤„äºå„ç§æ··æ²Œä¹‹ä¸­ã€‚\nâ€œå¦‚æœæˆ‘ä»¬ä»Šå¤©ä¸åå¯¹æ–°å…«è‚¡å’Œæ–°æ•™æ¡ä¸»ä¹‰ï¼Œâ€ æ¯›æ³½ä¸œåœ¨å»¶å®‰æ‰¹è¯„28ä¸ªå¸ƒå°”ä»€ç»´å…‹æ—¶æ›¾è¯´ï¼Œâ€œåˆ™ä¸­å›½äººæ°‘çš„æ€æƒ³åˆå°†å—å¦ä¸€ç§å½¢å¼ä¸»ä¹‰çš„æŸç¼šã€‚â€\nAnyway, æ¯›ä¸»å¸­è¿˜æ˜¯éå¸¸ä¼Ÿå¤§çš„ï¼ŒçœŸæ­£åœ°æ”¹å˜äº†å†å²è¿›ç¨‹ã€‚\nç‰©ç†å­¦å®¶çš„æ™ºæ€§å†’é™© 2023-05-13-18-37-54.png#center-small\råœ¨ä¸€ç¯‡ç¯‡ç®€çŸ­çš„éšç¬”çš„èƒŒåï¼Œæ˜¯ä¸€ä¸ªç‰©ç†å­¦å®¶çš„çƒ­å¿±çš„å¿ƒä¸æ·±é‚ƒè€Œå¹¿æ³›çš„æ€è€ƒã€‚ç§‘å­¦çš„å‘å±•ï¼Œä¼¼ä¹å‘ˆç°ç€ä¸€ç§è¿ç»­æ€§ï¼Œå¤ä»Šä¹‹é—´çš„ä¼Ÿå¤§æ€æƒ³å½¼æ­¤ç›¸è¿ã€‚\nç»æµå­¦åŸç†ï¼šå¾®è§‚ç»æµå­¦åˆ†å†Œ 2023-07-22-11-57-03.png#center-small\rå¼€æ‹“æ–°å¤§é™†â€”â€”ã€Œç»æµå­¦ã€ï¼\nå·¨äººçš„é™¨è½ï¼šä¸–çºªä¸‰éƒ¨æ›² 2023-12-03-22-17-57.png#center-small\rä¸€åœºå·¨å˜åœ¨æ³°-æ ¼æ¸©äººç‰©äº®ç›¸åæ‹‰å¼€åºå¹•ï¼Œå„å›½ä¹‹é—´é”™ç»¼å¤æ‚çš„åˆ©ç›Šé“¾è¢«ä¸€åœºåˆºæ€è½¬åŠ¨ï¼Œæ”¿å®¢ä»¬å”‡æªèˆŒæˆ˜æ’•æ‰¯ç€åˆ©ç›Šçš„è›‹ç³•ğŸ°ï¼Œæ‰“ä»—åˆ°æœ€åå·²ç»å¿˜è®°å½“åˆçš„æ‰“ä»—æ˜¯ä¸ºäº†ä»€ä¹ˆã€‚èƒœåˆ©è€…å‘¼åå’Œå¹³ï¼Œå¹¶å°†å·¨é¢å¤ä»‡èµ”å¿å•ä¸¢ç»™æˆ˜è´¥è€…ï¼ŒåŸ‹ä¸‹æˆ˜äº‰çš„ç§å­ã€‚\nå“²å­¦Â·ç§‘å­¦Â·å¸¸è¯† 2023-12-10-10-41-41.png#center-small\rå“²å­¦ï¼ˆphilosophiaï¼Œçˆ±ï¼ˆphiloï¼‰æ™ºæ…§ï¼ˆsophiaï¼‰ï¼‰ï¼Œå¬èµ·æ¥ç„ä¹åˆç„ï¼Œå¦‚ä»Šçœ‹èµ·æ¥ä¼¼ä¹å·²ç»å¤±å»çš„å­˜åœ¨çš„æ„ä¹‰ï¼Œç”šè‡³è¢«æ–­è¨€ã€Œå“²å­¦å·²æ­»ã€ã€‚å³ä¾¿è¢«å®£ç§°å¯ä»¥ç”¨æ¥æŒ‡å¯¼ç§‘å­¦å·¥ä½œï¼Œä½†æ˜¯è¿‘ä»£ç§‘å­¦æ˜æ˜æ˜¯é€šè¿‡ä¸æ‡ˆçš„åŠªåŠ›æ‰æ‘†è„±äº†å½¢è€Œä¸Šå­¦ã€‚é‚£ä¸ç¦è¿½é—®ï¼Œå“²å­¦ä½•å»ä½•ä»ï¼Ÿ\n","permalink":"https://Anlarry.github.io/book-reading/2023/","summary":"\u003ch3 id=\"ç¹èŠ±\"\u003eç¹èŠ±\u003c/h3\u003e\n\u003cp\u003e2023-01-13-00-12-10.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2023-01-13-00-12-10.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eæç»˜ä¸Šæµ·20ä¸–çºª60å¹´ä»£è‡³90å¹´ä»£å¸‚æ°‘ç”Ÿæ´»ï¼Œå­—é‡Œè¡Œé—´æ´‹æº¢ç€ä¸Šæµ·è¯çš„é£æ ¼ã€‚\u003c/p\u003e\n\u003ch3 id=\"æ±Ÿå—ä¸‰éƒ¨æ›²\"\u003eæ±Ÿå—ä¸‰éƒ¨æ›²\u003c/h3\u003e\n\u003cstyle\u003e\n    .column {\n        float: left;\n        width: 33.33%;\n        padding: 5px;\n    }\n\n    .row::after {\n        content: \"\";\n        clear: both;\n        display: table;\n    }\n\u003c/style\u003e\n\u003cdiv class=\"row\"\u003e\n    \u003cdiv class=\"column\"\u003e \n        \u003cimg src=\"2023-02-10-17-53-18.png\" style=\"width: 95%\"\u003e \n    \u003c/div\u003e\n    \u003cdiv class=\"column\"\u003e\n        \u003cimg src=\"2023-02-10-17-53-55.png\" style=\"width: 95%\"\u003e \n    \u003c/div\u003e\n    \u003cdiv class=\"column\"\u003e\n        \u003cimg src=\"2023-02-10-17-54-18.png\" style=\"width: 95%\"\u003e \n    \u003c/div\u003e\n\u003c/div\u003e\n\u003cp\u003eç†æƒ³ä¸ç°å®ï¼Œæœ€ç»ˆä»¥åˆ«æ ·æ–¹å¼çš„å’Œè§£ã€‚\u003c/p\u003e\n\u003ch3 id=\"æ¯›æ³½ä¸œä¼ \"\u003eæ¯›æ³½ä¸œä¼ \u003c/h3\u003e\n\u003cp\u003e2023-03-14-18-56-04.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2023-03-14-18-56-04.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eæ¯›æ³½ä¸œï¼Œæ— äº§é˜¶çº§é©å‘½çš„é¢†å¯¼è€…ï¼Œæœ‰ç€å¼ºçƒˆçš„æ°‘æ—ä¸»ä¹‰ç²¾ç¥å’Œæ–—äº‰ç²¾ç¥ï¼Œ\nå¸¦é¢†å†›é˜Ÿä»äº•å†ˆå±±èµ°éç¥–å›½å¤§æ±Ÿå—åŒ—ï¼Œæœ€ç»ˆå¤ºå–ç»Ÿæ²»æƒï¼Œåœ¨æ­¤æœŸé—´ä½œä¸ºä¸€ä¸ªè¯—äººï¼Œ\næŠ’å‘å¯¹å±±æ²³çš„æ„Ÿå¹ï¼Œæ´‹æº¢ç€æ¿€æƒ…å’Œå‚²æ°”ï¼Œâ€œæ˜¯é£æµäººç‰©è¿˜çœ‹ä»Šæœâ€ã€‚\nåœ¨æ™šå¹´ï¼Œæˆä¸ºâ€œåŠç¥åŠäººå¼çš„äººç‰©â€ï¼Œâ€œé›†çœŸç†å’ŒæƒåŠ›äºä¸€èº«â€ï¼Œ\nè€Œä¸­å›½æ”¿æ²»å±€åŠ¿åˆ™å·¦å³æ‘‡æ‘†ï¼Œå¤„äºå„ç§æ··æ²Œä¹‹ä¸­ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâ€œå¦‚æœæˆ‘ä»¬ä»Šå¤©ä¸åå¯¹æ–°å…«è‚¡å’Œæ–°æ•™æ¡ä¸»ä¹‰ï¼Œâ€\næ¯›æ³½ä¸œåœ¨å»¶å®‰æ‰¹è¯„28ä¸ªå¸ƒå°”ä»€ç»´å…‹æ—¶æ›¾è¯´ï¼Œâ€œåˆ™ä¸­å›½äººæ°‘çš„æ€æƒ³åˆå°†å—å¦ä¸€ç§å½¢å¼ä¸»ä¹‰çš„æŸç¼šã€‚â€\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003eAnyway, æ¯›ä¸»å¸­è¿˜æ˜¯éå¸¸ä¼Ÿå¤§çš„ï¼ŒçœŸæ­£åœ°æ”¹å˜äº†å†å²è¿›ç¨‹ã€‚\u003c/p\u003e\n\u003ch3 id=\"ç‰©ç†å­¦å®¶çš„æ™ºæ€§å†’é™©\"\u003eç‰©ç†å­¦å®¶çš„æ™ºæ€§å†’é™©\u003c/h3\u003e\n\u003cp\u003e2023-05-13-18-37-54.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2023-05-13-18-37-54.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eåœ¨ä¸€ç¯‡ç¯‡ç®€çŸ­çš„éšç¬”çš„èƒŒåï¼Œæ˜¯ä¸€ä¸ªç‰©ç†å­¦å®¶çš„çƒ­å¿±çš„å¿ƒä¸æ·±é‚ƒè€Œå¹¿æ³›çš„æ€è€ƒã€‚ç§‘å­¦çš„å‘å±•ï¼Œä¼¼ä¹å‘ˆç°ç€ä¸€ç§è¿ç»­æ€§ï¼Œå¤ä»Šä¹‹é—´çš„ä¼Ÿå¤§æ€æƒ³å½¼æ­¤ç›¸è¿ã€‚\u003c/p\u003e\n\u003ch3 id=\"ç»æµå­¦åŸç†å¾®è§‚ç»æµå­¦åˆ†å†Œ\"\u003eç»æµå­¦åŸç†ï¼šå¾®è§‚ç»æµå­¦åˆ†å†Œ\u003c/h3\u003e\n\u003cp\u003e2023-07-22-11-57-03.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2023-07-22-11-57-03.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eå¼€æ‹“æ–°å¤§é™†â€”â€”ã€Œç»æµå­¦ã€ï¼\u003c/p\u003e\n\u003ch3 id=\"å·¨äººçš„é™¨è½ä¸–çºªä¸‰éƒ¨æ›²\"\u003eå·¨äººçš„é™¨è½ï¼šä¸–çºªä¸‰éƒ¨æ›²\u003c/h3\u003e\n\u003cp\u003e2023-12-03-22-17-57.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2023-12-03-22-17-57.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eä¸€åœºå·¨å˜åœ¨æ³°-æ ¼æ¸©äººç‰©äº®ç›¸åæ‹‰å¼€åºå¹•ï¼Œå„å›½ä¹‹é—´é”™ç»¼å¤æ‚çš„åˆ©ç›Šé“¾è¢«ä¸€åœºåˆºæ€è½¬åŠ¨ï¼Œæ”¿å®¢ä»¬å”‡æªèˆŒæˆ˜æ’•æ‰¯ç€åˆ©ç›Šçš„è›‹ç³•ğŸ°ï¼Œæ‰“ä»—åˆ°æœ€åå·²ç»å¿˜è®°å½“åˆçš„æ‰“ä»—æ˜¯ä¸ºäº†ä»€ä¹ˆã€‚èƒœåˆ©è€…å‘¼åå’Œå¹³ï¼Œå¹¶å°†å·¨é¢å¤ä»‡èµ”å¿å•ä¸¢ç»™æˆ˜è´¥è€…ï¼ŒåŸ‹ä¸‹æˆ˜äº‰çš„ç§å­ã€‚\u003c/p\u003e\n\u003ch3 id=\"å“²å­¦ç§‘å­¦å¸¸è¯†\"\u003eå“²å­¦Â·ç§‘å­¦Â·å¸¸è¯†\u003c/h3\u003e\n\u003cp\u003e2023-12-10-10-41-41.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2023-12-10-10-41-41.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eå“²å­¦ï¼ˆphilosophiaï¼Œçˆ±ï¼ˆphiloï¼‰æ™ºæ…§ï¼ˆsophiaï¼‰ï¼‰ï¼Œå¬èµ·æ¥ç„ä¹åˆç„ï¼Œå¦‚ä»Šçœ‹èµ·æ¥ä¼¼ä¹å·²ç»å¤±å»çš„å­˜åœ¨çš„æ„ä¹‰ï¼Œç”šè‡³è¢«æ–­è¨€ã€Œå“²å­¦å·²æ­»ã€ã€‚å³ä¾¿è¢«å®£ç§°å¯ä»¥ç”¨æ¥æŒ‡å¯¼ç§‘å­¦å·¥ä½œï¼Œä½†æ˜¯è¿‘ä»£ç§‘å­¦æ˜æ˜æ˜¯é€šè¿‡ä¸æ‡ˆçš„åŠªåŠ›æ‰æ‘†è„±äº†å½¢è€Œä¸Šå­¦ã€‚é‚£ä¸ç¦è¿½é—®ï¼Œå“²å­¦ä½•å»ä½•ä»ï¼Ÿ\u003c/p\u003e","title":"2023"},{"content":"Unicodeä¸°å¯Œäº†æ—¥å¸¸ä½¿ç”¨çš„å­—ç¬¦é›†, è®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§ç®€å•ä¾¿æ·çš„æ–¹å¼è¡¨è¾¾å„ç§å¥‡æ€ªçš„å­—ç¬¦, æ¯”å¦‚æƒ³è¦åœ¨è¾“å…¥ä¸€ä¸ªé›ªäººSnowman, U+2603\nâ˜ƒ latexä½œä¸ºæ—¥å¸¸ä½¿ç”¨çš„æ’ç‰ˆå·¥å…·, æ€ä¹ˆåœ¨latexä¸­æ’å…¥ä¸€ä¸ªunicode? ä¸€èˆ¬æ¥è®², åº”è¯¥Ctrl+C, Ctrl+Vå°±å¯ä»¥, æˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢çš„ä»£ç \n\\documentclass[utf8]{article} \\begin{document} \\huge Unicode char \\texttt{U+13105} is ğ“„… Unicode char \\texttt{U+16E4} is á›¤ Unicode char \\texttt{U+25E6} is â—¦ \\end{document} ç„¶è€Œè¾“å‡ºçš„PDFä¸­å¹¶æ²¡æœ‰åŒ…å«æ‰€æœ‰çš„Unicodeå­—ç¬¦, çœ‹èµ·æ¥è¿™ä¸ªé—®é¢˜è¿˜å­˜åœ¨ä¸€å®šçš„å…±æ€§unicode-characters-not-displaying-in-xetex, è€Œä¸”ä¼¼ä¹æ˜¯ä¸ªå­—ä½“é—®é¢˜.\n2022-11-10-22-08-15.png#center-medium\rTex Engineä½¿ç”¨xelatex\næˆ‘ä»¬æ¥è¯•è¯•æ›´æ¢ä¸ºFreeMonoå­—ä½“\n\\documentclass[utf8]{article} \\usepackage{fontspec} \\setmainfont{FreeMono} \\begin{document} \\huge Unicode char \\texttt{U+13105} is ğ“„… Unicode char \\texttt{U+16E4} is á›¤ Unicode char \\texttt{U+25E6} is â—¦ \\end{document} 2022-11-10-22-26-48.png#center-medium\rHa!ç°åœ¨á›¤å·²ç»å¯ä»¥æ­£å¸¸æ˜¾ç¤ºäº†, ğ“„…å´å˜æˆäº†ä¸€ä¸ªå¥‡æ€ªå­—ç¬¦. å…¶å®è¿™æ˜¯å› ä¸ºåœ¨FreeMonoå­—ä½“ä¸­ç¼ºå¤±å­—ç¬¦ğ“„…, è€Œá›¤ä¹‹æ‰€ä»¥èƒ½æ˜¾ç¤ºæ˜¯å› ä¸ºFreeMonoåŒ…å«äº†è¿™ä¸ªå­—ç¬¦.\nå› æ­¤æˆ‘ä»¬å¯ä»¥å‘ç°, åœ¨xelatexä¸­ä½¿ç”¨Unicode, éœ€è¦ä½¿ç”¨æ­£ç¡®çš„å­—ä½“, å³å­—ä½“ä¸­è¦åŒ…å«åº”ç›¸åº”çš„unicodeå­—ç¬¦.\né‚£æ–°çš„é—®é¢˜æ¥äº†, æ€ä¹ˆçŸ¥é“ä»€ä¹ˆå­—ä½“åŒ…å«äº†ğ“„…? é€›äº†ä¸€åœˆstackoverflowå‘ç°fileformat.infoå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜.\nğ“„…å…¶å®åœ¨Egyptian Hieroglyphsä¸­, æ‰¾åˆ°ç›¸åº”çš„å­—ä½“Noto Sans Egyptian Hieroglyphs\næœ€åä¸€æ­¥, æˆ‘ä»¬è¦åŠ å…¥ç¼ºå¤±çš„å­—ç¬¦, å¹¶ä¸ºğ“„…æŒ‡å®šæ­£ç¡®çš„å­—ä½“\n\\usepackage{newunicodechar} \\newfontfamily{\\substitutett}{Noto Sans Egyptian Hieroglyphs} \\newunicodechar{ğ“„…}{{\\substitutett ğ“„…}} æœ€ç»ˆå°±å¯ä»¥æ­£å¸¸æ˜¾ç¤ºæ‰€æœ‰çš„Unicodeå­—ç¬¦äº†.\n2022-11-10-23-02-30.png#center-medium\rReference\nhttps://jwodder.github.io/kbits/posts/unicode-latex/\n","permalink":"https://Anlarry.github.io/posts/tool/xelatexunicode/","summary":"\u003cp\u003e\u003ca href=\"https://zh.wikipedia.org/wiki/Unicode\"\u003eUnicode\u003c/a\u003eä¸°å¯Œäº†æ—¥å¸¸ä½¿ç”¨çš„å­—ç¬¦é›†, è®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§ç®€å•ä¾¿æ·çš„æ–¹å¼è¡¨è¾¾å„ç§å¥‡æ€ªçš„å­—ç¬¦, æ¯”å¦‚æƒ³è¦åœ¨è¾“å…¥ä¸€ä¸ªé›ªäºº\u003ca href=\"https://unicodeplus.com/U+2603\"\u003eSnowman\u003c/a\u003e, \u003ccode\u003eU+2603\u003c/code\u003e\u003c/p\u003e\n\u003ccenter\u003e\n\u003cfont size=18\u003eâ˜ƒ\u003c/font\u003e\n\u003c/center\u003e\n\u003cp\u003elatexä½œä¸ºæ—¥å¸¸ä½¿ç”¨çš„æ’ç‰ˆå·¥å…·, æ€ä¹ˆåœ¨latexä¸­æ’å…¥ä¸€ä¸ªunicode? ä¸€èˆ¬æ¥è®², åº”è¯¥\u003ccode\u003eCtrl+C\u003c/code\u003e, \u003ccode\u003eCtrl+V\u003c/code\u003eå°±å¯ä»¥, æˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢çš„ä»£ç \u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-latex\" data-lang=\"latex\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003e\\documentclass\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003e[utf8]\u003c/span\u003e{article}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003e\\begin\u003c/span\u003e{document}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003e\\huge\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Unicode char \u003cspan style=\"color:#66d9ef\"\u003e\\texttt\u003c/span\u003e{U+13105} is  ğ“„…\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Unicode char \u003cspan style=\"color:#66d9ef\"\u003e\\texttt\u003c/span\u003e{U+16E4} is á›¤\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Unicode char \u003cspan style=\"color:#66d9ef\"\u003e\\texttt\u003c/span\u003e{U+25E6} is â—¦\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003e\\end\u003c/span\u003e{document}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eç„¶è€Œè¾“å‡ºçš„PDFä¸­å¹¶æ²¡æœ‰åŒ…å«æ‰€æœ‰çš„Unicodeå­—ç¬¦, çœ‹èµ·æ¥è¿™ä¸ªé—®é¢˜è¿˜å­˜åœ¨ä¸€å®šçš„å…±æ€§\u003ca href=\"https://tex.stackexchange.com/questions/45796/unicode-characters-not-displaying-in-xetex\"\u003eunicode-characters-not-displaying-in-xetex\u003c/a\u003e, è€Œä¸”ä¼¼ä¹æ˜¯ä¸ªå­—ä½“é—®é¢˜.\u003c/p\u003e\n\u003cp\u003e2022-11-10-22-08-15.png#center-medium\r\n\u003cimg class=\"img-fluid\" src=\"2022-11-10-22-08-15.png#center-medium\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eTex Engineä½¿ç”¨\u003ca href=\"https://en.wikipedia.org/wiki/XeTeX#Example\"\u003exelatex\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003eæˆ‘ä»¬æ¥è¯•è¯•æ›´æ¢ä¸º\u003ca href=\"https://en.wikipedia.org/wiki/GNU_FreeFont\"\u003eFreeMono\u003c/a\u003eå­—ä½“\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-latex\" data-lang=\"latex\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003e\\documentclass\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003e[utf8]\u003c/span\u003e{article}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003e\\usepackage\u003c/span\u003e{fontspec}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003e\\setmainfont\u003c/span\u003e{FreeMono}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003e\\begin\u003c/span\u003e{document}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003e\\huge\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Unicode char \u003cspan style=\"color:#66d9ef\"\u003e\\texttt\u003c/span\u003e{U+13105} is  ğ“„…\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Unicode char \u003cspan style=\"color:#66d9ef\"\u003e\\texttt\u003c/span\u003e{U+16E4} is á›¤\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Unicode char \u003cspan style=\"color:#66d9ef\"\u003e\\texttt\u003c/span\u003e{U+25E6} is â—¦\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003e\\end\u003c/span\u003e{document}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e2022-11-10-22-26-48.png#center-medium\r\n\u003cimg class=\"img-fluid\" src=\"2022-11-10-22-26-48.png#center-medium\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eHa!ç°åœ¨á›¤å·²ç»å¯ä»¥æ­£å¸¸æ˜¾ç¤ºäº†, ğ“„…å´å˜æˆäº†ä¸€ä¸ªå¥‡æ€ªå­—ç¬¦. å…¶å®è¿™æ˜¯å› ä¸ºåœ¨FreeMonoå­—ä½“ä¸­ç¼ºå¤±å­—ç¬¦ğ“„…, è€Œá›¤ä¹‹æ‰€ä»¥èƒ½æ˜¾ç¤ºæ˜¯å› ä¸ºFreeMonoåŒ…å«äº†è¿™ä¸ªå­—ç¬¦.\u003c/p\u003e","title":"Unicode with xelatex"},{"content":" Fabula means story, which is a topic in A brief history of humankind\nç®€å²ä¸‰éƒ¨æ›² A brief history of humankind Homo Deusï¼šA Brief History of Tomorrow 21 Lessons for the 21st Century ä»å²å‰åˆ°æœªæ¥ï¼Œå†å›åˆ°21ä¸–çºªçš„æ—…è¡Œï¼Œæœ‰å„ç§å„æ ·çš„æ„ä¹‰ä¹‹ç½‘ã€‚\nTo Kill a Mocking Bird 2022-03-15-09-12-55.png#center-small\râ€œä¾ç„¶æ˜¯å¤å¤©ï¼Œå­©å­ä»¬èµ°è¿‘äº†ã€‚ç”·å­©èº«åæ‹–ç€æ ¹é±¼ç«¿è¸¯èº…ä¸å‰ã€‚ä¸€ä¸ªç”·äººåŒæ‰‹å‰è…°ç«™åœ¨é‚£é‡Œç­‰ä»–ã€‚å¤å¤©ï¼Œä»–çš„å­©å­ä»¬åœ¨å‰é™¢å’Œæœ‹å‹ç©è€ï¼Œè‡ªç¼–è‡ªæ¼”ç€ä»–ä»¬å¤æ€ªçš„å°è¯å‰§ã€‚\nç§‹å¤©ï¼Œä»–çš„å­©å­ä»¬åœ¨æœåšæ–¯å¤ªå¤ªæˆ¿å‰çš„äººè¡Œé“ä¸Šæ‰“æ¶ã€‚ç”·å­©æ‰¶ç€ä»–å¦¹å¦¹ç«™èµ·æ¥ï¼Œè¿‡åä»–ä»¬ä¸€èµ·èµ°å›å®¶å»ã€‚ç§‹å¤©ï¼Œä»–çš„å­©å­ä»¬å°è·‘ç€æ¥å›ç»è¿‡é‚£ä¸ªè¡—è§’ï¼Œæ¯å¤©çš„è‹¦æ¼å’Œå¾—æ„éƒ½å†™åœ¨è„¸ä¸Šã€‚ä»–ä»¬åœ¨æ©¡æ ‘å‰åœä¸‹äº†ï¼Œè¡¨æƒ…åˆæ¬£å–œåˆå›°æƒ‘ï¼Œè¿˜å¸¦ç€å¿§è™‘ã€‚\nå†¬å¤©ï¼Œä»–çš„å­©å­ä»¬åœ¨é™¢é—¨å‰å“†å—¦ç€ï¼Œé»‘è‰²çš„å‰ªå½±è¡¬ç€ç†Šç†Šç‡ƒçƒ§çš„æˆ¿å±‹ã€‚å†¬å¤©ï¼Œé‚£ç”·äººèµ°ä¸Šè¡—å¤´ï¼Œæ‰”ä¸‹çœ¼é•œï¼Œå°„æ­»äº†ä¸€åªç–¯ç‹—ã€‚\nå¤å¤©ï¼Œä»–çœ¼çœ‹ç€ä»–çš„å­©å­ä»¬å¿ƒç¢äº†ã€‚åˆåˆ°äº†ç§‹å¤©ï¼Œæ€ªäººçš„å­©å­ä»¬éœ€è¦ä»–äº†ã€‚â€\nè¿›åŒ–å¿ƒç†å­¦ 2022-06-10-11-43-52.png#center-small\rä»äººç±»è¿›åŒ–ä»¥é€‚åº”ç”Ÿå­˜é—®é¢˜çš„è§’åº¦è§£é‡Šäººç±»çš„è¡Œä¸ºã€‚\né¥®é£Ÿçš„æ€è¿· 2022-06-10-11-46-44.png#center-small\rä»¥æ‘„å…¥çš„èƒ½é‡ç­‰æŒ‡æ ‡æ¥è¡¡é‡ä¹Ÿå¯èƒ½å¹¶ä¸åˆç†ï¼Œå³ä½¿æ˜¯ç›¸åŒçš„ä¸œè¥¿åœ¨ä¸åŒäººèº«ä¸Šä¹Ÿä¼šæœ‰ä¸åŒçš„æ•ˆæœã€‚æˆ‘ä»¬ä¸å¾—ä¸è€ƒè™‘å¾®ç”Ÿç‰©åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­çš„ å½±å“ã€‚è™½ç„¶å¾ˆå¤šä¸œè¥¿è¿˜ä¸èƒ½å¾—ä»¥è§£é‡Šï¼Œä½†æ€»ä¹‹å¤šæ ·æ€§åº”è¯¥æ˜¯å¯¹çš„ã€‚\næƒè¡¡ Screenshot_20221230_000413.png#center-small\ræƒè¡¡å„æ–¹å› ç´ ï¼ŒåŒæ—¶ä¹ŸKeep Open Mindï¼\næˆ‘ä¸çˆ¶è¾ˆ 2022-12-31-12-09-36.png#center-small\rå‘å±•ä¸­çš„åŸä¹¡å·®è·ä¹‹å¤§ï¼Œä¸æç»˜çš„å¹´ä»£ç›¸è¿‘çš„ã€Šç¹èŠ±ã€‹ä¸­çš„ä¸Šæµ·ï¼Œå¤©å£¤ä¹‹åˆ«å•Šã€‚\n","permalink":"https://Anlarry.github.io/book-reading/2022-fabula/","summary":"\u003cblockquote\u003e\n\u003cp\u003e\u003cem\u003eFabula\u003c/em\u003e means \u003cem\u003estory\u003c/em\u003e, which is a topic in \u003cem\u003eA brief history of humankind\u003c/em\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch3 id=\"ç®€å²ä¸‰éƒ¨æ›²\"\u003eç®€å²ä¸‰éƒ¨æ›²\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eA brief history of humankind\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eHomo Deusï¼šA Brief History of Tomorrow\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e21 Lessons for the 21st Century\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cstyle\u003e\n    .column {\n        float: left;\n        width: 33.33%;\n        padding: 5px;\n    }\n\n    .row::after {\n        content: \"\";\n        clear: both;\n        display: table;\n    }\n\u003c/style\u003e\n\u003cdiv class=\"row\"\u003e\n    \u003cdiv class=\"column\"\u003e \n        \u003cimg src=\"2022-01-13-23-48-57.png\" style=\"width: 95%\"\u003e \n    \u003c/div\u003e\n    \u003cdiv class=\"column\"\u003e\n        \u003cimg src=\"2022-01-13-23-49-08.png\" style=\"width: 95%\"\u003e \n    \u003c/div\u003e\n    \u003cdiv class=\"column\"\u003e\n        \u003cimg src=\"2022-01-13-23-49-15.png\" style=\"width: 95%\"\u003e \n    \u003c/div\u003e\n\u003c/div\u003e\n\u003cp\u003eä»å²å‰åˆ°æœªæ¥ï¼Œå†å›åˆ°21ä¸–çºªçš„æ—…è¡Œï¼Œæœ‰å„ç§å„æ ·çš„\u003cstrong\u003eæ„ä¹‰ä¹‹ç½‘\u003c/strong\u003eã€‚\u003c/p\u003e\n\u003ch3 id=\"to-kill-a-mocking-bird\"\u003eTo Kill a Mocking Bird\u003c/h3\u003e\n\u003cp\u003e2022-03-15-09-12-55.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2022-03-15-09-12-55.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâ€œä¾ç„¶æ˜¯å¤å¤©ï¼Œå­©å­ä»¬èµ°è¿‘äº†ã€‚ç”·å­©èº«åæ‹–ç€æ ¹é±¼ç«¿è¸¯èº…ä¸å‰ã€‚ä¸€ä¸ªç”·äººåŒæ‰‹å‰è…°ç«™åœ¨é‚£é‡Œç­‰ä»–ã€‚å¤å¤©ï¼Œä»–çš„å­©å­ä»¬åœ¨å‰é™¢å’Œæœ‹å‹ç©è€ï¼Œè‡ªç¼–è‡ªæ¼”ç€ä»–ä»¬å¤æ€ªçš„å°è¯å‰§ã€‚\u003c/p\u003e\n\u003cp\u003eç§‹å¤©ï¼Œä»–çš„å­©å­ä»¬åœ¨æœåšæ–¯å¤ªå¤ªæˆ¿å‰çš„äººè¡Œé“ä¸Šæ‰“æ¶ã€‚ç”·å­©æ‰¶ç€ä»–å¦¹å¦¹ç«™èµ·æ¥ï¼Œè¿‡åä»–ä»¬ä¸€èµ·èµ°å›å®¶å»ã€‚ç§‹å¤©ï¼Œä»–çš„å­©å­ä»¬å°è·‘ç€æ¥å›ç»è¿‡é‚£ä¸ªè¡—è§’ï¼Œæ¯å¤©çš„è‹¦æ¼å’Œå¾—æ„éƒ½å†™åœ¨è„¸ä¸Šã€‚ä»–ä»¬åœ¨æ©¡æ ‘å‰åœä¸‹äº†ï¼Œè¡¨æƒ…åˆæ¬£å–œåˆå›°æƒ‘ï¼Œè¿˜å¸¦ç€å¿§è™‘ã€‚\u003c/p\u003e\n\u003cp\u003eå†¬å¤©ï¼Œä»–çš„å­©å­ä»¬åœ¨é™¢é—¨å‰å“†å—¦ç€ï¼Œé»‘è‰²çš„å‰ªå½±è¡¬ç€ç†Šç†Šç‡ƒçƒ§çš„æˆ¿å±‹ã€‚å†¬å¤©ï¼Œé‚£ç”·äººèµ°ä¸Šè¡—å¤´ï¼Œæ‰”ä¸‹çœ¼é•œï¼Œå°„æ­»äº†ä¸€åªç–¯ç‹—ã€‚\u003c/p\u003e\n\u003cp\u003eå¤å¤©ï¼Œä»–çœ¼çœ‹ç€ä»–çš„å­©å­ä»¬å¿ƒç¢äº†ã€‚åˆåˆ°äº†ç§‹å¤©ï¼Œæ€ªäººçš„å­©å­ä»¬éœ€è¦ä»–äº†ã€‚â€\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch3 id=\"è¿›åŒ–å¿ƒç†å­¦\"\u003eè¿›åŒ–å¿ƒç†å­¦\u003c/h3\u003e\n\u003cp\u003e2022-06-10-11-43-52.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"2022-06-10-11-43-52.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eä»äººç±»è¿›åŒ–ä»¥é€‚åº”ç”Ÿå­˜é—®é¢˜çš„è§’åº¦è§£é‡Šäººç±»çš„è¡Œä¸ºã€‚\u003c/p\u003e","title":"2022-Fabula"},{"content":"System Call Cost åº”ç”¨ç¨‹åºé€šè¿‡System Callå‘kernelè¯·æ±‚æœåŠ¡ã€‚ä¸€èˆ¬åº”ç”¨ç¨‹åºå‘èµ·ç³»ç»Ÿè°ƒç”¨åï¼Œä»ç”¨æˆ·æ€è¿›å…¥å†…æ ¸æ€ï¼Œæœ€åä»å¼‚å¸¸é€€å‡ºï¼Œè¿”å›ç”¨æˆ·æ€ã€‚\nä½†æ˜¯è¿™ç§åŒæ­¥çš„ç³»ç»Ÿè°ƒç”¨æœºåˆ¶å¯èƒ½å¯¹åº”ç”¨çš„æ€§èƒ½å¸¦æ¥é™åˆ¶ï¼š\nDirect Cost: åœ¨ç³»ç»Ÿè°ƒç”¨åï¼ŒCPUä¼šæ¸…ç©ºæµæ°´çº¿ã€‚ Indirect Cost: ç¨‹åºçš„å±€éƒ¨æ€§ä»¥åŠcacheå¯ä»¥æå‡æ€§èƒ½ã€‚ä½†æ˜¯åœ¨ç³»ç»Ÿè°ƒç”¨åï¼Œè¦åœ¨kernelç©ºé—´æ‰§è¡Œä»£ç ï¼Œè¿™å°±ä¼šå½±å“cacheæ€§èƒ½ã€‚è€Œä¸”åœ¨kernelå¤„ç†ç»“æŸè¿”å›ç”¨æˆ·åï¼Œç›¸æ¯”ä¸åŸæ¥çš„cacheï¼Œcacheå—åˆ°äº†æ±¡æŸ“ï¼Œå¸¦æ¥é—´æ¥æ€§èƒ½æŸå¤±ã€‚ å¯ä»¥çœ‹åˆ°åœ¨ç³»ç»Ÿè°ƒç”¨åï¼ŒIPC(Instructions Per Cycle)é™ä½ã€‚\nimage-20211210165541733.png#center-medium\rException-Less System Call exception-lessç³»ç»Ÿè°ƒç”¨ï¼Œè®©ç³»ç»Ÿè°ƒç”¨å¼‚æ­¥å®Œæˆã€‚åœ¨userå’Œkernelå…±äº«ä¸€äº›syscall pagesï¼Œç”¨è¿™äº›syscall pageè®°å½•å½“å‰è¯·æ±‚çš„ç³»ç»Ÿè°ƒç”¨ã€‚ç”¨æˆ·å‘èµ·ç³»ç»Ÿè°ƒç”¨åï¼Œåœ¨syscall pagesä¸­æ·»åŠ æ–°çš„entryåå°±å¯ä»¥è¿”å›ã€‚åŒæ—¶ï¼Œæœ‰ä¸€äº›ç‰¹æ®Šçš„kernel threadï¼Œsyscall threadï¼Œåœ¨syscall pagesä¸­æ‰¾åˆ°è¯·æ±‚çš„ç³»ç»Ÿè°ƒç”¨ï¼ŒæŠŠè¿”å›å€¼å†™åœ¨ç›¸åº”çš„æ¡ç›®ã€‚æœ€åç”¨æˆ·å°±é€šè¿‡å¯ä»¥æ£€æŸ¥syscall pagesï¼Œæ‹¿åˆ°è¿”å›å€¼ã€‚\n2021-12-10-19-20-47.png#center-large\ré‚£è¿™ç§å°†invokeå’Œexecuteè§£è€¦çš„è®¾è®¡æ€ä¹ˆåšæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ\nå¯ä»¥æ¨è¿Ÿæ‰§è¡Œï¼ŒæŠŠsyscallæŒ‰batchæ‰§è¡Œï¼Œé™ä½modeä¹‹é—´è½¬åŒ–çš„ä»£ä»·ï¼Œimprove temporal localityã€‚ å¯¹äºå¤šæ ¸ç³»ç»Ÿï¼Œå¯ä»¥æŠŠsyscallæ”¾åœ¨å¦ä¸€ä¸ªæ ¸ä¸Šæ‰§è¡Œï¼Œè¿™æ ·å°±å¯ä»¥é™ä½é—´æ¥ä»£ä»·ï¼Œimproved spatial localityã€‚ Implementation åœ¨å®ç°æ—¶ï¼Œä½œè€…æ·»åŠ ä¸¤ä¸ªæ–°çš„ç³»ç»Ÿè°ƒç”¨ï¼Œéƒ½é‡‡ç”¨åŒæ­¥çš„ç³»ç»Ÿè°ƒç”¨æœºåˆ¶ã€‚\nflexsc_registerï¼Œåšä¸€äº›syscall pageçš„æ˜ å°„ï¼Œå¹¶åˆ›å»ºsyscall threadï¼Œæ•°é‡ç­‰äºpageä¸­entryçš„æ•°é‡ã€‚ flexsc_waitï¼Œå› ä¸ºè¿™ç§å¼‚æ­¥æœºåˆ¶ï¼Œä¼šå‡ºç°ç”¨æˆ·éœ€è¦åœä¸‹æ¥ç­‰å¾…ç³»ç»Ÿè°ƒç”¨çš„å®Œæˆã€‚ syscall threadçš„è°ƒåº¦ï¼Œä¼šå½±å“exception-less syscallçš„æ€§èƒ½ã€‚å¯¹äºå•æ ¸ï¼Œè°ƒç”¨flexsc_waitåï¼Œè°ƒåº¦syscall threadå¤„ç†pageä¸­æ¯ä¸ªentryï¼Œå¦‚æœå‡ºç°é˜»å¡ï¼Œå°±ç”¨æ–°çš„syscall threadæ¥ç€å¤„ç†ä¸€ä¸‹ä¸ªentryã€‚å¤šæ ¸æ—¶ï¼Œone syscall thread per application and coreï¼Œè¿™æ ·å°±å¸¦æ¥äº†å¹¶è¡Œå¤„ç†çš„å¯èƒ½ã€‚\nFlexSC Threads ä½†æ˜¯è¿™æ ·å¼‚æ­¥æ–¹å¼ï¼Œå¯èƒ½ä¼šè®©ä½¿ç”¨å˜å¾—å¤æ‚ï¼Œè€Œä¸”éšç€å¤šæ ¸çš„å‘å±•ï¼Œä½œè€…å°±å®ç°äº†FlexSC-Threadsã€‚åˆ©ç”¨dynamic loadingï¼Œç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œè°ƒç”¨ä¸€ä¸ªwrapperï¼Œè¿™æ ·å°±å¯ä»¥è®©åº”ç”¨å¾—åˆ°free lunchã€‚\n2021-12-10-20-03-50.png\rç»´æŠ¤$M$ä¸ªuser-mod threadï¼Œå¯¹ä¸€ä¸ªprocessï¼Œæ¯ä¸ªæ ¸ä¸Šåªæœ‰ä¸€ä¸ªå¯ä»¥è¢«kernelçœ‹è§ã€‚å‘èµ·ç³»ç»Ÿè°ƒç”¨çš„çº¿ç¨‹ï¼Œåœ¨å†™å¥½entryåï¼Œå°±ä¼šè¢«åˆ‡æ¢æ‰§è¡Œä¸€ä¸‹threadã€‚ç”¨å®Œreadyçš„user-mode threadï¼Œå°±çœ‹çœ‹syscall pageä¸Šæœ‰æ²¡æœ‰å®Œæˆçš„ã€‚å¦‚æœè¿˜æ²¡æœ‰readyçš„ï¼Œå°±éœ€è¦è°ƒç”¨ä¸‹flexsc_waitã€‚\nå¯¹äºè¿™ç§è®¾è®¡ï¼Œéœ€è¦æé«˜å¹¶å‘ï¼Œæ¥æå‡æ€§èƒ½ã€‚highly threaded workloadsæ˜¯FlexSC-Threadsçš„ç†æƒ³ç¯å¢ƒã€‚\nReference\n[1] Soares L, Stumm M. FlexSC: Flexible System Call Scheduling with Exception-Less System Calls[C]//Osdi. 2010, 10: 33-46.\n","permalink":"https://Anlarry.github.io/posts/paper-reading/flexsc/","summary":"\u003ch2 id=\"system-call-cost\"\u003eSystem Call Cost\u003c/h2\u003e\n\u003cp\u003eåº”ç”¨ç¨‹åºé€šè¿‡System Callå‘kernelè¯·æ±‚æœåŠ¡ã€‚ä¸€èˆ¬åº”ç”¨ç¨‹åºå‘èµ·ç³»ç»Ÿè°ƒç”¨åï¼Œä»ç”¨æˆ·æ€è¿›å…¥å†…æ ¸æ€ï¼Œæœ€åä»å¼‚å¸¸é€€å‡ºï¼Œè¿”å›ç”¨æˆ·æ€ã€‚\u003c/p\u003e\n\u003cp\u003eä½†æ˜¯è¿™ç§åŒæ­¥çš„ç³»ç»Ÿè°ƒç”¨æœºåˆ¶å¯èƒ½å¯¹åº”ç”¨çš„æ€§èƒ½å¸¦æ¥é™åˆ¶ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eDirect Cost: åœ¨ç³»ç»Ÿè°ƒç”¨åï¼ŒCPUä¼šæ¸…ç©ºæµæ°´çº¿ã€‚\u003c/li\u003e\n\u003cli\u003eIndirect Cost: ç¨‹åºçš„å±€éƒ¨æ€§ä»¥åŠcacheå¯ä»¥æå‡æ€§èƒ½ã€‚ä½†æ˜¯åœ¨ç³»ç»Ÿè°ƒç”¨åï¼Œè¦åœ¨kernelç©ºé—´æ‰§è¡Œä»£ç ï¼Œè¿™å°±ä¼šå½±å“cacheæ€§èƒ½ã€‚è€Œä¸”åœ¨kernelå¤„ç†ç»“æŸè¿”å›ç”¨æˆ·åï¼Œç›¸æ¯”ä¸åŸæ¥çš„cacheï¼Œcacheå—åˆ°äº†æ±¡æŸ“ï¼Œå¸¦æ¥é—´æ¥æ€§èƒ½æŸå¤±ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eå¯ä»¥çœ‹åˆ°åœ¨ç³»ç»Ÿè°ƒç”¨åï¼ŒIPC(\u003cstrong\u003eI\u003c/strong\u003enstructions \u003cstrong\u003eP\u003c/strong\u003eer \u003cstrong\u003eC\u003c/strong\u003eycle)é™ä½ã€‚\u003c/p\u003e\n\u003cp\u003eimage-20211210165541733.png#center-medium\r\n\u003cimg class=\"img-fluid\" src=\"image-20211210165541733.png#center-medium\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003ch2 id=\"exception-less-system-call\"\u003eException-Less System Call\u003c/h2\u003e\n\u003cp\u003eexception-lessç³»ç»Ÿè°ƒç”¨ï¼Œè®©ç³»ç»Ÿè°ƒç”¨å¼‚æ­¥å®Œæˆã€‚åœ¨userå’Œkernelå…±äº«ä¸€äº›\u003cstrong\u003esyscall pages\u003c/strong\u003eï¼Œç”¨è¿™äº›syscall pageè®°å½•å½“å‰è¯·æ±‚çš„ç³»ç»Ÿè°ƒç”¨ã€‚ç”¨æˆ·å‘èµ·ç³»ç»Ÿè°ƒç”¨åï¼Œåœ¨syscall pagesä¸­æ·»åŠ æ–°çš„entryåå°±å¯ä»¥è¿”å›ã€‚åŒæ—¶ï¼Œæœ‰ä¸€äº›ç‰¹æ®Šçš„kernel threadï¼Œ\u003cstrong\u003esyscall thread\u003c/strong\u003eï¼Œåœ¨syscall pagesä¸­æ‰¾åˆ°è¯·æ±‚çš„ç³»ç»Ÿè°ƒç”¨ï¼ŒæŠŠè¿”å›å€¼å†™åœ¨ç›¸åº”çš„æ¡ç›®ã€‚æœ€åç”¨æˆ·å°±é€šè¿‡å¯ä»¥æ£€æŸ¥syscall pagesï¼Œæ‹¿åˆ°è¿”å›å€¼ã€‚\u003c/p\u003e\n\u003cp\u003e2021-12-10-19-20-47.png#center-large\r\n\u003cimg class=\"img-fluid\" src=\"2021-12-10-19-20-47.png#center-large\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eé‚£è¿™ç§å°†invokeå’Œexecuteè§£è€¦çš„è®¾è®¡æ€ä¹ˆåšæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå¯ä»¥æ¨è¿Ÿæ‰§è¡Œï¼ŒæŠŠsyscallæŒ‰batchæ‰§è¡Œï¼Œé™ä½modeä¹‹é—´è½¬åŒ–çš„ä»£ä»·ï¼Œ\u003cem\u003eimprove temporal locality\u003c/em\u003eã€‚\u003c/li\u003e\n\u003cli\u003eå¯¹äºå¤šæ ¸ç³»ç»Ÿï¼Œå¯ä»¥æŠŠsyscallæ”¾åœ¨å¦ä¸€ä¸ªæ ¸ä¸Šæ‰§è¡Œï¼Œè¿™æ ·å°±å¯ä»¥é™ä½é—´æ¥ä»£ä»·ï¼Œ\u003cem\u003eimproved spatial locality\u003c/em\u003eã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"implementation\"\u003eImplementation\u003c/h3\u003e\n\u003cp\u003eåœ¨å®ç°æ—¶ï¼Œä½œè€…æ·»åŠ ä¸¤ä¸ªæ–°çš„ç³»ç»Ÿè°ƒç”¨ï¼Œéƒ½é‡‡ç”¨åŒæ­¥çš„ç³»ç»Ÿè°ƒç”¨æœºåˆ¶ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eflexsc_register\u003c/code\u003eï¼Œåšä¸€äº›syscall pageçš„æ˜ å°„ï¼Œå¹¶åˆ›å»ºsyscall threadï¼Œæ•°é‡ç­‰äºpageä¸­entryçš„æ•°é‡ã€‚\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eflexsc_wait\u003c/code\u003eï¼Œå› ä¸ºè¿™ç§å¼‚æ­¥æœºåˆ¶ï¼Œä¼šå‡ºç°ç”¨æˆ·éœ€è¦åœä¸‹æ¥ç­‰å¾…ç³»ç»Ÿè°ƒç”¨çš„å®Œæˆã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003esyscall threadçš„è°ƒåº¦ï¼Œä¼šå½±å“exception-less syscallçš„æ€§èƒ½ã€‚å¯¹äºå•æ ¸ï¼Œè°ƒç”¨\u003ccode\u003eflexsc_wait\u003c/code\u003eåï¼Œè°ƒåº¦syscall threadå¤„ç†pageä¸­æ¯ä¸ªentryï¼Œå¦‚æœå‡ºç°é˜»å¡ï¼Œå°±ç”¨æ–°çš„syscall threadæ¥ç€å¤„ç†ä¸€ä¸‹ä¸ªentryã€‚å¤šæ ¸æ—¶ï¼Œone syscall thread per application and coreï¼Œè¿™æ ·å°±å¸¦æ¥äº†å¹¶è¡Œå¤„ç†çš„å¯èƒ½ã€‚\u003c/p\u003e\n\u003ch2 id=\"flexsc-threads\"\u003eFlexSC Threads\u003c/h2\u003e\n\u003cp\u003eä½†æ˜¯è¿™æ ·å¼‚æ­¥æ–¹å¼ï¼Œå¯èƒ½ä¼šè®©ä½¿ç”¨å˜å¾—å¤æ‚ï¼Œè€Œä¸”éšç€å¤šæ ¸çš„å‘å±•ï¼Œä½œè€…å°±å®ç°äº†FlexSC-Threadsã€‚åˆ©ç”¨dynamic loadingï¼Œç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œè°ƒç”¨ä¸€ä¸ªwrapperï¼Œè¿™æ ·å°±å¯ä»¥è®©åº”ç”¨å¾—åˆ°\u003cem\u003efree lunch\u003c/em\u003eã€‚\u003c/p\u003e\n\u003cp\u003e2021-12-10-20-03-50.png\r\n\u003cimg class=\"img-fluid\" src=\"2021-12-10-20-03-50.png\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eç»´æŠ¤$M$ä¸ªuser-mod threadï¼Œå¯¹ä¸€ä¸ªprocessï¼Œæ¯ä¸ªæ ¸ä¸Šåªæœ‰ä¸€ä¸ªå¯ä»¥è¢«kernelçœ‹è§ã€‚å‘èµ·ç³»ç»Ÿè°ƒç”¨çš„çº¿ç¨‹ï¼Œåœ¨å†™å¥½entryåï¼Œå°±ä¼šè¢«åˆ‡æ¢æ‰§è¡Œä¸€ä¸‹threadã€‚ç”¨å®Œreadyçš„user-mode threadï¼Œå°±çœ‹çœ‹syscall pageä¸Šæœ‰æ²¡æœ‰å®Œæˆçš„ã€‚å¦‚æœè¿˜æ²¡æœ‰readyçš„ï¼Œå°±éœ€è¦è°ƒç”¨ä¸‹\u003ccode\u003eflexsc_wait\u003c/code\u003eã€‚\u003c/p\u003e\n\u003cp\u003eå¯¹äºè¿™ç§è®¾è®¡ï¼Œéœ€è¦æé«˜å¹¶å‘ï¼Œæ¥æå‡æ€§èƒ½ã€‚highly threaded workloadsæ˜¯FlexSC-Threadsçš„ç†æƒ³ç¯å¢ƒã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eReference\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e[1] Soares L, Stumm M. FlexSC: Flexible System Call Scheduling with Exception-Less System Calls[C]//Osdi. 2010, 10: 33-46.\u003c/p\u003e","title":"FlexSC"},{"content":"Background åŸºæœ¬å„ç§ä¸œè¥¿éƒ½å¯ä»¥ç”¨å›¾æ¥è¡¨ç¤ºï¼Œä¹Ÿå°±ä¿ƒæˆäº†GNNçš„å¿«é€Ÿå‘å±•ã€‚ç„¶è€Œå¾ˆå¤šå›¾éƒ½æœ‰è¿™æ ·çš„ç‰¹ç‚¹ï¼Œä¸€äº›èŠ‚ç‚¹çš„åº¦æ•°å¾ˆé«˜ç„¶è€Œå¤§å¤šæ•°èŠ‚ç‚¹çš„åº¦æ•°å¾ˆä½ã€‚\nè®­ç»ƒæ—¶è¦ç”¨é‚»å±…æ›´æ–°å½“å‰èŠ‚ç‚¹ï¼Œä¸èƒ½å°†æ•´ä¸ªå›¾å…¨éƒ¨æ‹¿æ¥è®­ç»ƒï¼Œå› æ­¤ä¸€èˆ¬é‡‡ç”¨graph sampling+mini batchï¼Œæ¯”å¦‚ï¼Œç»™$n$ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¯¹é‚»å±…é‡‡æ ·ååœ¨è¿›è¡Œè®­ç»ƒã€‚\nç„¶è€Œäº§ç”Ÿäº†æ–°çš„é—®é¢˜ï¼Œé‡‡æ ·åœ¨æ•´ä¸ªè®­ç»ƒè¿‡ç¨‹ä¸­å äº†å¾ˆå¤šæ—¶é—´ã€‚\n./image-20211114114025150.png#center-small#center-medium\rå› æ­¤ï¼Œå¤§å®¶ä¹Ÿä¼šå»æƒ³ç”¨GPUåŠ é€Ÿé‡‡æ ·ï¼Œä½†æ˜¯naiveçš„æ–¹æ³•å¹¶ä¸èƒ½å¾ˆå¥½çš„åˆ©ç”¨GPUã€‚\n\u0026ldquo;Transit-Parallelism\u0026rdquo; ä½œè€…é¦–å…ˆå¯¹é‡‡æ ·è¿›è¡Œäº†æŠ½è±¡ï¼Œé‡‡æ ·ä»ä¸€èŠ‚ç‚¹å¼€å§‹ï¼Œæ‰©å±•å‡ºæ–°çš„èŠ‚ç‚¹åŠ å…¥sampleï¼Œå†ä»æ–°çš„èŠ‚ç‚¹æ‰©å±•$\\cdots$ï¼Œæ¯æ¬¡éå†é‚»å±…æ‰©å±•æ–°èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œä½œè€…æŠŠå®ƒå«åš\u0026quot;transit vertices\u0026quot;\nå°†é‡‡æ ·åˆ†æˆä¸¤ç±»ï¼š\nIndividual Transit Samplingï¼Œè¿™ä¸ªæ˜¯æŒ‰èŠ‚ç‚¹æ¥çš„ï¼Œæ¯ä¸ªtransitèŠ‚ç‚¹ä»é‚»å±…ä¸­é‡‡æ ·ä¸€å®šæ•°é‡çš„èŠ‚ç‚¹ Collective Transit Samplingï¼Œè¿™ä¸ªæ˜¯æŒ‰å±‚æ¥ï¼Œæ¯ä¸€å±‚ä»æ‰€æœ‰transitèŠ‚ç‚¹çš„é‚»å±…ä¸­é‡‡æ ·ä¸€å®šæ•°é‡çš„èŠ‚ç‚¹ image-20211114114804228.png#center\rCUDA \u0026amp; GPU\nä¸€ä¸ªCUDAç¨‹åºè¢«åˆ’åˆ†ç»™å¾ˆå¤šblocks of threadså®Œæˆå¹¶è¡Œï¼Œè€ŒGPUåˆç”±å¾ˆå¤šStreamingMultiprocessors (SMs)æ„æˆï¼Œæ¯ä¸ªblockè¢«æ”¾åˆ°SMä¸Šæ‰§è¡Œ\nautomatic-scalability.png#center\rä¸€ä¸ªblockçš„çº¿ç¨‹æ•°æ˜¯æœ‰é™çš„ï¼Œä½†æ˜¯ç›¸åŒçš„å¤§å°blockå¯ä»¥è¢«ç»„ç»‡æˆgridï¼Œäºæ˜¯kernel(a c++ function)å°±å¯ä»¥ç”¨gridé‡Œé¢æ‰€æœ‰çš„çº¿ç¨‹ã€‚ $$ thread \\xrightarrow[]{array} block \\xrightarrow[]{array} grid $$ ä¼—æ‰€å‘¨çŸ¥ï¼Œå†…å­˜å±‚æ¬¡ç»“æ„ï¼ŒGPUå½“ç„¶ä¹Ÿæœ‰ï¼š\nmemory-hierarchy.png#center\rå‰é¢å·²ç»æåˆ°äº†blockä¼šåœ¨SMä¸Šæ‰§è¡Œï¼Œåœ¨ç‰©ç†å®ç°æ—¶ä¼šç”¨åˆ°SIMT(Single-Instruction, Multiple-Thread)ã€‚multiprocessorç”¨warp(a group of 32 threads)æ¥ç®¡ç†çº¿ç¨‹ã€‚\nwarpä¸­çš„çº¿ç¨‹éƒ½ä»ç›¸åŒçš„èµ·ç‚¹å¼€å§‹ï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„pcï¼Œå¯„å­˜å™¨çŠ¶æ€ä¹Ÿå¯èƒ½ä¸ä¸€æ ·ã€‚è€Œä¸”ä¸€ä¸ªwarpçš„threadæ‰§è¡Œçš„æŒ‡ä»¤è¿˜æ˜¯ç›¸åŒçš„ã€‚\nå¦‚æœå°±æ˜¯æ™®é€šçš„æ²¡æœ‰æ§åˆ¶æµçš„ä»£ç ï¼Œå¤§å®¶å°±ä¸€èµ·æ‰§è¡Œã€‚é‚£é‡åˆ°åˆ†æ”¯æ€ä¹ˆåŠï¼Œæ¯ä¸ªçº¿ç¨‹å¯èƒ½æœ‰ä¸åŒçš„è·¯å¾„ã€‚è¿™æ—¶å°±ä¼šå˜æˆä¸²è¡Œã€‚warpå»æ‰§è¡Œæ¯ä¸ªåˆ†æ”¯è·¯å¾„ï¼Œä¸åœ¨è·¯å¾„ä¸Šçš„threadå°±ç­‰ç€ã€‚è¿™å°±å¯èƒ½ä¼šå¾ˆå½±å“å¹¶è¡Œï¼Œä¹Ÿå°±æ˜¯Branch divergenceã€‚\nSample-Parallelismï¼Œå¯¹äºIndividual Transit Samplingå¯ä»¥å°†æ¯ä¸€å¯¹sampleå’Œtransitåˆ†é…$m_i$ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªsampleæ”¾åˆ°ä¸€ä¸ªblocké‡Œã€‚å¯¹äºCollective Transit Samplingï¼Œéœ€è¦å…ˆæŠŠæ‰€æœ‰çš„é‚»å±…å­˜åˆ°global memoryé‡Œï¼Œå†é‡‡æ ·ã€‚\nimage-20211114120722353.png#center-medium\råœ¨é‡‡æ ·æ—¶ï¼Œé‚»å±…å¤šçš„èŠ‚ç‚¹è®¡ç®—çš„æ—¶é—´å°±ä¼šæ›´ä¹…ã€‚å¦‚æœåŒä¸€ä¸ªwarpé‡Œé¢çš„ä¸¤ä¸ªthreadè¢«åˆ†ç»™ä¸¤ä¸ªé‚»å±…æ•°é‡ä¸åŒçš„transitï¼Œå°±ä¼šæœ‰divergenceã€‚è€Œä¸”ï¼Œå›¾å¾—å­˜åœ¨gobal memoryï¼Œshared memoryåˆ©ç”¨ä¸å……åˆ†ã€‚\nä½†æ˜¯å¦‚æœæ˜¯æŒ‰transitåˆ’åˆ†ï¼Œå±€éƒ¨æ€§å°±ä¼šæ›´å¥½ï¼ŒæŒ‰ç…§å·¥ä½œé‡éœ€æ±‚åˆ†é…çº¿ç¨‹æ•°é‡ã€‚æ˜¯ä¸æ˜¯æœ‰ç‚¹åƒå€’æ’ç´¢å¼• :-)\nimage-20211114121110605.png#center-medium\rçº¿ç¨‹ç»„ä¸­çš„çº¿ç¨‹ï¼Œä»–ä»¬åšçš„äº‹æƒ…æ›´ç›¸ä¼¼ï¼Œè€Œä¸”å·¥ä½œé‡ä¹Ÿå·®ä¸å¤šã€‚ä»–ä»¬è®¿é—®çš„é‚»å±…ä¹Ÿæ˜¯åŒä¸€ä¸ªtransitçš„ï¼Œèƒ½æ›´å¥½åˆ©ç”¨share memoryã€‚\nSampling Large Graphs NextDoorè¿˜å¯ä»¥å»å¯¹è¶…å‡ºGPU memoryçš„å›¾é‡‡æ ·ã€‚æ–¹æ³•æœ‰ç‚¹åƒmini batchï¼ŒæŠŠå›¾åˆ†æˆä¸ç›¸äº¤çš„å­å›¾ï¼Œæ¯æ¬¡å¯¹ä¸€ä¸ªå­å›¾å’Œå’Œå…¶transitèŠ‚ç‚¹é‡‡æ ·ã€‚\nReference\n[1] Jangda A, Polisetty S, Guha A, et al. Accelerating graph sampling for graph machine learning using gpus[C]//Proceedings of the Sixteenth European Conference on Computer Systems. 2021: 311-326.\n[2] Ward I R, Joyner J, Lickfold C, et al. A Practical Guide to Graph Neural Networks[J]. arXiv preprint arXiv:2010.05234, 2020.\n[3] CUDA C++ Programming Guide\n","permalink":"https://Anlarry.github.io/posts/paper-reading/nextdoor/","summary":"\u003ch2 id=\"background\"\u003eBackground\u003c/h2\u003e\n\u003cp\u003eåŸºæœ¬å„ç§ä¸œè¥¿éƒ½å¯ä»¥ç”¨å›¾æ¥è¡¨ç¤ºï¼Œä¹Ÿå°±ä¿ƒæˆäº†GNNçš„å¿«é€Ÿå‘å±•ã€‚ç„¶è€Œå¾ˆå¤šå›¾éƒ½æœ‰è¿™æ ·çš„ç‰¹ç‚¹ï¼Œä¸€äº›èŠ‚ç‚¹çš„åº¦æ•°å¾ˆé«˜ç„¶è€Œå¤§å¤šæ•°èŠ‚ç‚¹çš„åº¦æ•°å¾ˆä½ã€‚\u003c/p\u003e\n\u003cp\u003eè®­ç»ƒæ—¶è¦ç”¨é‚»å±…æ›´æ–°å½“å‰èŠ‚ç‚¹ï¼Œä¸èƒ½å°†æ•´ä¸ªå›¾å…¨éƒ¨æ‹¿æ¥è®­ç»ƒï¼Œå› æ­¤ä¸€èˆ¬é‡‡ç”¨graph sampling+mini batchï¼Œæ¯”å¦‚ï¼Œç»™$n$ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¯¹é‚»å±…é‡‡æ ·ååœ¨è¿›è¡Œè®­ç»ƒã€‚\u003c/p\u003e\n\u003cp\u003eç„¶è€Œäº§ç”Ÿäº†æ–°çš„é—®é¢˜ï¼Œé‡‡æ ·åœ¨æ•´ä¸ªè®­ç»ƒè¿‡ç¨‹ä¸­å äº†å¾ˆå¤šæ—¶é—´ã€‚\u003c/p\u003e\n\u003cp\u003e./image-20211114114025150.png#center-small#center-medium\r\n\u003cimg class=\"img-fluid\" src=\"./image-20211114114025150.png#center-small#center-medium\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eå› æ­¤ï¼Œå¤§å®¶ä¹Ÿä¼šå»æƒ³ç”¨GPUåŠ é€Ÿé‡‡æ ·ï¼Œä½†æ˜¯naiveçš„æ–¹æ³•å¹¶ä¸èƒ½å¾ˆå¥½çš„åˆ©ç”¨GPUã€‚\u003c/p\u003e\n\u003ch2 id=\"transit-parallelism\"\u003e\u0026ldquo;Transit-Parallelism\u0026rdquo;\u003c/h2\u003e\n\u003cp\u003eä½œè€…é¦–å…ˆå¯¹é‡‡æ ·è¿›è¡Œäº†æŠ½è±¡ï¼Œé‡‡æ ·ä»ä¸€èŠ‚ç‚¹å¼€å§‹ï¼Œæ‰©å±•å‡ºæ–°çš„èŠ‚ç‚¹åŠ å…¥sampleï¼Œå†ä»æ–°çš„èŠ‚ç‚¹æ‰©å±•$\\cdots$ï¼Œæ¯æ¬¡éå†é‚»å±…æ‰©å±•æ–°èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œä½œè€…æŠŠå®ƒå«åš\u0026quot;transit vertices\u0026quot;\u003c/p\u003e\n\u003cp\u003eå°†é‡‡æ ·åˆ†æˆä¸¤ç±»ï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eIndividual Transit Sampling\u003c/strong\u003eï¼Œè¿™ä¸ªæ˜¯æŒ‰èŠ‚ç‚¹æ¥çš„ï¼Œæ¯ä¸ªtransitèŠ‚ç‚¹ä»é‚»å±…ä¸­é‡‡æ ·ä¸€å®šæ•°é‡çš„èŠ‚ç‚¹\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCollective Transit Sampling\u003c/strong\u003eï¼Œè¿™ä¸ªæ˜¯æŒ‰å±‚æ¥ï¼Œæ¯ä¸€å±‚ä»æ‰€æœ‰transitèŠ‚ç‚¹çš„é‚»å±…ä¸­é‡‡æ ·ä¸€å®šæ•°é‡çš„èŠ‚ç‚¹\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eimage-20211114114804228.png#center\r\n\u003cimg class=\"img-fluid\" src=\"image-20211114114804228.png#center\" alt='image-20211114114804228' /\u003e\r\n\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eCUDA \u0026amp; GPU\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eä¸€ä¸ªCUDAç¨‹åºè¢«åˆ’åˆ†ç»™å¾ˆå¤šblocks of threadså®Œæˆå¹¶è¡Œï¼Œè€ŒGPUåˆç”±å¾ˆå¤šStreamingMultiprocessors (SMs)æ„æˆï¼Œæ¯ä¸ªblockè¢«æ”¾åˆ°SMä¸Šæ‰§è¡Œ\u003c/p\u003e\n\u003cp\u003eautomatic-scalability.png#center\r\n\u003cimg class=\"img-fluid\" src=\"automatic-scalability.png#center\" alt='Automatic Scalability.' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eä¸€ä¸ªblockçš„çº¿ç¨‹æ•°æ˜¯æœ‰é™çš„ï¼Œä½†æ˜¯ç›¸åŒçš„å¤§å°blockå¯ä»¥è¢«ç»„ç»‡æˆgridï¼Œäºæ˜¯kernel(a c++ function)å°±å¯ä»¥ç”¨gridé‡Œé¢æ‰€æœ‰çš„çº¿ç¨‹ã€‚\n$$\nthread \\xrightarrow[]{array} block \\xrightarrow[]{array} grid\n$$\nä¼—æ‰€å‘¨çŸ¥ï¼Œå†…å­˜å±‚æ¬¡ç»“æ„ï¼ŒGPUå½“ç„¶ä¹Ÿæœ‰ï¼š\u003c/p\u003e\n\u003cp\u003ememory-hierarchy.png#center\r\n\u003cimg class=\"img-fluid\" src=\"memory-hierarchy.png#center\" alt='Memory Hierarchy.' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eå‰é¢å·²ç»æåˆ°äº†blockä¼šåœ¨SMä¸Šæ‰§è¡Œï¼Œåœ¨ç‰©ç†å®ç°æ—¶ä¼šç”¨åˆ°SIMT(Single-Instruction, Multiple-Thread)ã€‚multiprocessorç”¨warp(a group of 32 threads)æ¥ç®¡ç†çº¿ç¨‹ã€‚\u003c/p\u003e\n\u003cp\u003ewarpä¸­çš„çº¿ç¨‹éƒ½ä»ç›¸åŒçš„èµ·ç‚¹å¼€å§‹ï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„pcï¼Œå¯„å­˜å™¨çŠ¶æ€ä¹Ÿå¯èƒ½ä¸ä¸€æ ·ã€‚è€Œä¸”ä¸€ä¸ªwarpçš„threadæ‰§è¡Œçš„æŒ‡ä»¤è¿˜æ˜¯ç›¸åŒçš„ã€‚\u003c/p\u003e\n\u003cp\u003eå¦‚æœå°±æ˜¯æ™®é€šçš„æ²¡æœ‰æ§åˆ¶æµçš„ä»£ç ï¼Œå¤§å®¶å°±ä¸€èµ·æ‰§è¡Œã€‚é‚£é‡åˆ°åˆ†æ”¯æ€ä¹ˆåŠï¼Œæ¯ä¸ªçº¿ç¨‹å¯èƒ½æœ‰ä¸åŒçš„è·¯å¾„ã€‚è¿™æ—¶å°±ä¼šå˜æˆä¸²è¡Œã€‚warpå»æ‰§è¡Œæ¯ä¸ªåˆ†æ”¯è·¯å¾„ï¼Œä¸åœ¨è·¯å¾„ä¸Šçš„threadå°±ç­‰ç€ã€‚è¿™å°±å¯èƒ½ä¼šå¾ˆå½±å“å¹¶è¡Œï¼Œä¹Ÿå°±æ˜¯Branch divergenceã€‚\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003e\u003cstrong\u003eSample-Parallelism\u003c/strong\u003eï¼Œå¯¹äºIndividual Transit Samplingå¯ä»¥å°†æ¯ä¸€å¯¹sampleå’Œtransitåˆ†é…$m_i$ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªsampleæ”¾åˆ°ä¸€ä¸ªblocké‡Œã€‚å¯¹äºCollective Transit Samplingï¼Œéœ€è¦å…ˆæŠŠæ‰€æœ‰çš„é‚»å±…å­˜åˆ°global memoryé‡Œï¼Œå†é‡‡æ ·ã€‚\u003c/p\u003e\n\u003cp\u003eimage-20211114120722353.png#center-medium\r\n\u003cimg class=\"img-fluid\" src=\"image-20211114120722353.png#center-medium\" alt='image-20211114120722353' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eåœ¨é‡‡æ ·æ—¶ï¼Œé‚»å±…å¤šçš„èŠ‚ç‚¹è®¡ç®—çš„æ—¶é—´å°±ä¼šæ›´ä¹…ã€‚å¦‚æœåŒä¸€ä¸ªwarpé‡Œé¢çš„ä¸¤ä¸ªthreadè¢«åˆ†ç»™ä¸¤ä¸ªé‚»å±…æ•°é‡ä¸åŒçš„transitï¼Œå°±ä¼šæœ‰divergenceã€‚è€Œä¸”ï¼Œå›¾å¾—å­˜åœ¨gobal memoryï¼Œshared memoryåˆ©ç”¨ä¸å……åˆ†ã€‚\u003c/p\u003e\n\u003cp\u003eä½†æ˜¯å¦‚æœæ˜¯æŒ‰transitåˆ’åˆ†ï¼Œå±€éƒ¨æ€§å°±ä¼šæ›´å¥½ï¼ŒæŒ‰ç…§å·¥ä½œé‡éœ€æ±‚åˆ†é…çº¿ç¨‹æ•°é‡ã€‚æ˜¯ä¸æ˜¯æœ‰ç‚¹åƒå€’æ’ç´¢å¼• :-)\u003c/p\u003e\n\u003cp\u003eimage-20211114121110605.png#center-medium\r\n\u003cimg class=\"img-fluid\" src=\"image-20211114121110605.png#center-medium\" alt='image-20211114121110605' /\u003e\r\n\u003c/p\u003e","title":"NextDoor"},{"content":" Intro \u0026amp; Background MLæ¨¡å‹ä¼šå› ä¸ºè®­ç»ƒå’Œæµ‹è¯•æ—¶çš„æ•°æ®åˆ†å¸ƒä¸åŒï¼Œå¯¼è‡´å¾ˆå¤šé¢„æµ‹é”™è¯¯ã€‚å°†MLæ¨¡å‹ä¼˜åŒ–databaseä¹Ÿé¢å¯¹è¿™ä¸ªé—®é¢˜ã€‚\nActive learning Active leraning ä¸»åŠ¨å­¦ä¹ é‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼Œå¯ä»¥åœ¨unlabledçš„æ•°æ®ä¸­å†é€‰å‡ºä¸€äº›æ•°æ®ï¼Œä»orcaleå¾—åˆ°æ•°æ®çš„lableï¼Œä»æ–°çš„çŸ¥è¯†ä¸­å­¦ä¹ ã€‚\nAn illustrative example of pool-based active learning Execution cost prediction \u0026amp; Plan regression prediction ECPæ˜¯ä¸€ä¸ªå›å½’ä»»åŠ¡ï¼Œéœ€è¦é¢„æµ‹æ‰§è¡Œplanéœ€è¦çš„æ—¶é—´ã€‚åœ¨ä¼˜åŒ–æŸ¥è¯¢ä¸­ï¼Œå¯ä»¥ç”¨ECPæ¥å¯»æ‰¾æœ€ä¼˜çš„plan PRPæ˜¯ä¸€ä¸ªåˆ†ç±»ä»»åŠ¡ï¼Œç»™å‡ºä¸¤ä¸ªplanï¼Œéœ€è¦æ‰¾åˆ°å“ªä¸ªplanä»£ä»·æ›´é«˜ Architecture åœ¨è¿™é‡Œoracleå¯ä»¥ç”¨databaseçš„å‰¯æœ¬æ‰§è¡Œplanï¼Œè·å–plançš„æ‰§è¡Œæ—¶é—´ã€‚å› æ­¤ä¸åŒçš„planå°±æœ‰ä¸åŒçš„costã€‚\nå¼€å§‹ï¼Œç”¨æˆ·æŒ‡å®šbudgetï¼Œä¹‹åADCPè·å–lableæ•°æ®æ—¶ä¼šæ¶ˆè€—budgetã€‚ADCPè·å–target dataï¼Œé€‰å‡ºunlabeled dataç»™äº¤ç»™å‰¯æœ¬æ‰§è¡Œã€‚è·å¾—æ–°çŸ¥è¯†åretrain MLæ¨¡å‹ï¼Œå†å¯¹target dataæ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œè¿™æ—¶é”™è¯¯å°±ä¼šé™ä½ã€‚\nä½†æ˜¯æ–°çš„ç¯å¢ƒå°±æœ‰æ–°çš„é—®é¢˜ã€‚active learningéœ€è¦é€‰å‡ºè¦æ ‡æ³¨çš„æ•°æ®ï¼Œnoiseä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ã€‚å› æ­¤éœ€è¦ç»¼åˆè€ƒè™‘costã€robustã€ä»¥åŠactive learningæœ€ä¸ç¡®å®šçš„unlabelæ•°æ®ã€‚ $$ w_x=\\frac{u(x)}{c(x)} $$ $c(x)$è¡¨ç¤ºcostï¼Œ$u(x)$è¡¨ç¤ºuncertaintyï¼Œå› æ­¤xçš„æƒé‡å¯ä»¥ç†è§£æˆâ€œuncertainty per costâ€ã€‚\nåŒæ—¶ä¸ºäº†è§£å†³noiseï¼Œè½¬åŒ–ä¸ºæ¦‚ç‡å¹¶åŠ å…¥Gumbelå™ªéŸ³\n$$ p(x)=\\frac{w_x}{\\sum_{x\u0026rsquo;}w_{x\u0026rsquo;}} \\newline {\\rm arg}\\ \\max\\limits_{x} \\log p(x)+G_x $$\nå¦å¤–ï¼Œè¿˜éœ€è¦å‡å°‘sampleæ—¶çš„å†—ä½™ã€‚\nAlgo \u0026 Example Comparison \u0026amp; Why it works HALç›¸æ¯”äºå…¶ä»–ALç­–ç•¥åˆ©ç”¨äº†å„ç§ä¸åŒçš„ç‰¹ç‚¹ã€‚æ„Ÿè§‰è¿™æ˜¯ä¸ºä»€ä¹ˆHALå¯ä»¥workçš„ä¸€ä¸ªåŸå› ã€‚åœ¨å®éªŒä¸­ï¼ŒOPT(A crude baseline)ç›´æ¥ç”¨costä¼°è®¡(for PRP)ï¼ŒHuberå›å½’(for ECP)å¾—åˆ°labelä¸ç”¨retrainä¹Ÿä¸éœ€è¦é¢å¤–çš„labelï¼Œæ¯”å…¶å®ƒALé”™è¯¯è¦é«˜å‡ºå¾ˆå¤šã€‚\nStrategy Properties åœ¨åŒæ ·çš„bugdetä¸‹ï¼ŒHALé€‰å‡ºäº†æ›´å¤šçš„labelï¼Œä¹Ÿå°±æ˜¯è¯´å¹³å‡æ¯ä¸ªlabelçš„costæ›´ä½(a)ã€‚ä½†æ˜¯ï¼Œå¯¹costè¶…è¿‡å¹³å‡å€¼çš„æ•°æ®ï¼Œerrorä¹Ÿæ›´ä½(b)ã€‚\n","permalink":"https://Anlarry.github.io/posts/paper-reading/active-learning-for-ml-enhanced-database-systems/","summary":"\u003cstyle type=\"text/css\"\u003e\nfigcaption {\n\ttext-align: center;\n}\n\u003c/style\u003e\n\u003ch2 id=\"intro--background\"\u003eIntro \u0026amp; Background\u003c/h2\u003e\n\u003cp\u003eMLæ¨¡å‹ä¼šå› ä¸ºè®­ç»ƒå’Œæµ‹è¯•æ—¶çš„æ•°æ®åˆ†å¸ƒä¸åŒï¼Œå¯¼è‡´å¾ˆå¤šé¢„æµ‹é”™è¯¯ã€‚å°†MLæ¨¡å‹ä¼˜åŒ–databaseä¹Ÿé¢å¯¹è¿™ä¸ªé—®é¢˜ã€‚\u003c/p\u003e\n\u003ch3 id=\"active-learning\"\u003eActive learning\u003c/h3\u003e\n\u003cfigure align=\"center\"\u003e\n    \u003ccenter\u003e\u003cimg src=\"image-20211021143600685.png\" alt=\"image-20211021143600685\" style=\"width:400px;\" /\u003e\u003c/center\u003e\n\u003cfigcaption\u003eActive leraning\u003c/figcaption\u003e\n\u003c/figure\u003e\n\u003cp\u003eä¸»åŠ¨å­¦ä¹ é‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼Œå¯ä»¥åœ¨unlabledçš„æ•°æ®ä¸­å†é€‰å‡ºä¸€äº›æ•°æ®ï¼Œä»\u003cem\u003eorcale\u003c/em\u003eå¾—åˆ°æ•°æ®çš„lableï¼Œä»æ–°çš„çŸ¥è¯†ä¸­å­¦ä¹ ã€‚\u003c/p\u003e\n\u003cfigure align=center\u003e\n\u003ccenter\u003e\u003cimg src=\"image-20211021143758851.png\" alt=\"image-20211021143758851\" style=\"zoom:67%;\" /\u003e\u003c/center\u003e\n\u003cfigcaption\u003eAn illustrative example of pool-based active learning\u003c/figcaption\u003e\n\u003c/figure\u003e\n\u003ch2 id=\"execution-cost-prediction--plan-regression-prediction\"\u003eExecution cost prediction \u0026amp; Plan regression prediction\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eECPæ˜¯ä¸€ä¸ªå›å½’ä»»åŠ¡ï¼Œéœ€è¦é¢„æµ‹æ‰§è¡Œplanéœ€è¦çš„æ—¶é—´ã€‚åœ¨ä¼˜åŒ–æŸ¥è¯¢ä¸­ï¼Œå¯ä»¥ç”¨ECPæ¥å¯»æ‰¾æœ€ä¼˜çš„plan\u003c/li\u003e\n\u003cli\u003ePRPæ˜¯ä¸€ä¸ªåˆ†ç±»ä»»åŠ¡ï¼Œç»™å‡ºä¸¤ä¸ªplanï¼Œéœ€è¦æ‰¾åˆ°å“ªä¸ªplanä»£ä»·æ›´é«˜\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"architecture\"\u003eArchitecture\u003c/h2\u003e\n\u003cp\u003eåœ¨è¿™é‡Œoracleå¯ä»¥ç”¨databaseçš„å‰¯æœ¬æ‰§è¡Œplanï¼Œè·å–plançš„æ‰§è¡Œæ—¶é—´ã€‚å› æ­¤ä¸åŒçš„planå°±æœ‰ä¸åŒçš„costã€‚\u003c/p\u003e\n\u003cfigure align=\"center\"\u003e\n\u003ccenter\u003e\u003cimg src=\"image-20211021151111682.png\" alt=\"image-20211021151111682\" style=\"width:400px;\" /\u003e\u003c/center\u003e\u003c/figure\u003e\n\u003cp\u003eå¼€å§‹ï¼Œç”¨æˆ·æŒ‡å®šbudgetï¼Œä¹‹åADCPè·å–lableæ•°æ®æ—¶ä¼šæ¶ˆè€—budgetã€‚ADCPè·å–target dataï¼Œé€‰å‡ºunlabeled dataç»™äº¤ç»™å‰¯æœ¬æ‰§è¡Œã€‚è·å¾—æ–°çŸ¥è¯†åretrain MLæ¨¡å‹ï¼Œå†å¯¹target dataæ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œè¿™æ—¶é”™è¯¯å°±ä¼šé™ä½ã€‚\u003c/p\u003e\n\u003cp\u003eä½†æ˜¯æ–°çš„ç¯å¢ƒå°±æœ‰æ–°çš„é—®é¢˜ã€‚active learningéœ€è¦é€‰å‡ºè¦æ ‡æ³¨çš„æ•°æ®ï¼Œnoiseä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ã€‚å› æ­¤éœ€è¦ç»¼åˆè€ƒè™‘costã€robustã€ä»¥åŠactive learningæœ€ä¸ç¡®å®šçš„unlabelæ•°æ®ã€‚\n$$\nw_x=\\frac{u(x)}{c(x)}\n$$\n$c(x)$è¡¨ç¤ºcostï¼Œ$u(x)$è¡¨ç¤ºuncertaintyï¼Œå› æ­¤xçš„æƒé‡å¯ä»¥ç†è§£æˆâ€œuncertainty per costâ€ã€‚\u003c/p\u003e\n\u003cp\u003eåŒæ—¶ä¸ºäº†è§£å†³noiseï¼Œè½¬åŒ–ä¸ºæ¦‚ç‡å¹¶åŠ å…¥Gumbelå™ªéŸ³\u003c/p\u003e\n\u003cp\u003e$$\np(x)=\\frac{w_x}{\\sum_{x\u0026rsquo;}w_{x\u0026rsquo;}}  \\newline\n{\\rm arg}\\ \\max\\limits_{x} \\log p(x)+G_x\n$$\u003c/p\u003e\n\u003cp\u003eå¦å¤–ï¼Œè¿˜éœ€è¦å‡å°‘sampleæ—¶çš„å†—ä½™ã€‚\u003c/p\u003e\n\u003cfigure align=center\u003e\n\u003ccenter\u003e\u003cimg src=\"image-20211021152358535.png\" alt=\"image-20211021152358535\" style=\"width:400px;\" /\u003e\u003c/center\u003e\n\u003ccenter\u003e\u003cimg src=\"image-20211021154457669.png\" alt=\"image-20211021154457669\" st1\nyle=\"zoom:100%; margin-top: 5px;\" /\u003e\u003c/center\u003e\n\u003cfigcaption\u003eAlgo \u0026 Example\u003c/figcaption\u003e\n\u003c/figure\u003e\n\u003c!-- \u003cimg src=\"https://sebastiandedeyne.com/media/dog-nap.jpg\" style=\"zoom:67%;\" /\u003e --\u003e\n\u003c!-- ![](../../static/Active%20Learning%20for%20ML%20Enhanced%20Database%20Systems.assets/image-20211021152358535.png) --\u003e\n\u003ch2 id=\"comparison--why-it-works\"\u003eComparison \u0026amp; Why it works\u003c/h2\u003e\n\u003ccenter\u003e\u003cimg src=\"image-20211021160444681.png\" style=\"width:70%;\"\u003e\u003c/center\u003e\n\u003cp\u003eHALç›¸æ¯”äºå…¶ä»–ALç­–ç•¥åˆ©ç”¨äº†å„ç§ä¸åŒçš„ç‰¹ç‚¹ã€‚æ„Ÿè§‰è¿™æ˜¯ä¸ºä»€ä¹ˆHALå¯ä»¥workçš„ä¸€ä¸ªåŸå› ã€‚åœ¨å®éªŒä¸­ï¼ŒOPT(A crude baseline)ç›´æ¥ç”¨costä¼°è®¡(for PRP)ï¼ŒHuberå›å½’(for ECP)å¾—åˆ°labelä¸ç”¨retrainä¹Ÿä¸éœ€è¦é¢å¤–çš„labelï¼Œæ¯”å…¶å®ƒALé”™è¯¯è¦é«˜å‡ºå¾ˆå¤šã€‚\u003c/p\u003e","title":"Active Learning for ML Enhanced Database Systems"},{"content":"Inter-Process Communication å¾®å†…æ ¸ç›¸æ¯”ä¸å®å†…æ ¸ï¼Œå…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§ã€å®‰å…¨æ€§ï¼Œä¹Ÿèƒ½å¤Ÿæ›´å¥½åœ°å®¹å¿é”™è¯¯ã€‚ä½†æ˜¯å¾®å†…æ ¸åªä¿ç•™å¾ˆåŸºæœ¬çš„åŠŸèƒ½ï¼Œå¾ˆå¤šæœåŠ¡éƒ½ä½œä¸ºä¸€ä¸ªç”¨æˆ·è¿›ç¨‹å­˜åœ¨ï¼Œè¿›ç¨‹ä¹‹é—´å¤§é‡ä½¿ç”¨IPCä¼ é€’æ¶ˆæ¯ã€‚\nå¦å¤–åœ¨å®å†…æ ¸ä¸­ä¹Ÿä¼šç»å¸¸ä½¿ç”¨IPCï¼Œå¦‚Android Binderã€‚\nOptimize synchronous IPC ä¸€èˆ¬IPCè¿‡ç¨‹éœ€è¦ç»è¿‡å†…æ ¸ï¼Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦ä¿å­˜ç”¨æˆ·æ€çŠ¶æ€ï¼Œå½“é€€å‡ºå†…æ ¸æ—¶è¿˜éœ€æ¢å¤ç”¨æˆ·çŠ¶æ€ã€‚å› ä¸ºæ¯ä¸ªè¿›ç¨‹éƒ½åœ¨è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ï¼ŒIPCè¿‡ç¨‹è¿˜éœ€è¦åˆ‡æ¢è™šæ‹Ÿåœ°å€ç©ºé—´ã€‚å¦å¤–è¿˜æœ‰ä¸€äº›é€»è¾‘éœ€è¦å¤„ç†ã€‚è¿™äº›éƒ½å¯¼è‡´IPCæœ‰è¾ƒé«˜çš„å»¶è¿Ÿã€‚\nseL4ç”¨fastpathé™ä½IPCå»¶è¿Ÿï¼Œæ¶ˆæ¯ä¼šè¢«ç«‹å³å‘é€ï¼Œè®©kernelç›´æ¥åˆ‡æ¢åˆ°serverè¿›ç¨‹é¿å…äº†è°ƒåº¦å™¨ï¼Œå› æ­¤å¯ä»¥æå‡IPCæ€§èƒ½ã€‚ä½†æ˜¯ä¹Ÿæ— æ³•é¿å…kernelã€‚\nå¦ä¸€æ–¹é¢å½“ä¼ é€’çš„æ¶ˆæ¯è¾ƒå¤§æ—¶ï¼ŒIPCä¸€èˆ¬éœ€è¦å°†æ¶ˆæ¯å¤åˆ¶åˆ°å†…æ ¸ï¼Œå†ä»å†…æ ¸å¤åˆ¶åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ã€‚æˆ–è€…ä½¿ç”¨å…±äº«å†…å­˜ï¼Œå‡å°‘ä¸€æ¬¡å¤åˆ¶ã€‚\nIPCtime.png\råœ¨seL4ä¸Šæµ‹è¯•è´Ÿè½½ï¼ŒIPCå ç”¨çš„æ—¶é—´æ˜¯å¾ˆå¤šçš„ã€‚\nSkyBridge ä¸ºäº†æé«˜IPCæ€§èƒ½ï¼ŒSkyBridgeæƒ³æ³•æ˜¯IPCä¸ç»è¿‡kernel,senderå¯ä»¥ç›´æ¥è°ƒç”¨receiverçš„procedureã€‚ä¸è¿›è¿‡kernelå¦‚ä½•è°ƒç”¨receiverå‘¢ï¼Ÿä¼¼ä¹éœ€è¦ä¸€ä¸ªæ–°çš„æ¨¡å—å®Œæˆè¿™ä¸ªåŠŸèƒ½ï¼ŒSkyBridgeåˆ©ç”¨Intelä¸ºè™šæ‹ŸåŒ–æä¾›çš„ç¡¬ä»¶ï¼ŒEPT(extended page table) åˆ‡æ¢ï¼Œå…è®¸åœ¨ç”¨æˆ·æ€ä¸‹åˆ‡æ¢EPTï¼Œè¿™æ ·å°±å¯ä»¥å®ç°åœ¨ç”¨æˆ·æ€ä¸‹åˆ‡æ¢è™šæ‹Ÿåœ°å€ç©ºé—´ã€‚\nä½†æ˜¯ä¸ºäº†åˆ©ç”¨EPTåˆ‡æ¢ï¼Œå°±éœ€è¦åœ¨å¢åŠ ä¸€ä¸ªhypervisorã€‚ï¼ˆæœ‰å¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼‰\nåœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œçš„è¿›ç¨‹ï¼Œå¦‚æœè¦è®¿é—®å†…å­˜ä¼šç»è¿‡\nGVA(Guest virtual address)â¡GPA(Guest physical address)â¡HPA(Host physical address)\nè¿™æ ·çš„ä¸¤çº§åœ°å€è½¬æ¢ï¼Œç»è¿‡Guesté¡µè¡¨å¾—åˆ°GPAï¼Œå†ç»è¿‡EPTå¾—åˆ°HPA\nåŒæ—¶SkyBridgeä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨è‡ªå·±çš„è™šæ‹Ÿç©ºé—´ä¸­ï¼Œå½¼æ­¤ä¹‹é—´ç›¸äº’éš”ç¦»ã€‚å¦‚æœé€šè¿‡å°†è¿›ç¨‹æ”¾åœ¨åŒä¸€ä¸ªè™šæ‹Ÿç©ºé—´ï¼Œç„¶åç”¨EPTå°†ä»–ä»¬éš”ç¦»ï¼Œè¿™æ ·çš„è¯å½“è¿›ç¨‹æ•°å¾ˆå¤šçš„æ—¶å€™å°±ä¼šæ¯”è¾ƒå¤æ‚ã€‚\nskybridge.png\rcode.png\rä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°SkyBridgeçš„ä¸¤ä¸ªkernelï¼šRootKernel( a tiny hypervisor)å’ŒSubKernel(å³microkernel)ã€‚\né¦–å…ˆserveråœ¨kernelä¸­æ³¨å†Œã€‚kernelä¼šå§trapoline-relatedä»£ç å’Œæ•°æ®æ˜ å°„åˆ°serverçš„è™šæ‹Ÿç©ºé—´ï¼Œå¹¶è¿”å›ä¸€ä¸ªIDç”¨æ¥ç»™clientè°ƒç”¨ã€‚clientå‘kernelæ³¨å†Œæ—¶æä¾›1server ID,kernelåŒæ ·å°†ä»£ç å’Œæ•°æ®æ˜ å°„åˆ°ä»–çš„è™šæ‹Ÿç©ºé—´ã€‚\nSubkernelè°ƒç”¨Rootkernelçš„å€Ÿå£è®©serverå’Œclientåœ¨EPT levelä¸Šç»‘å®šï¼Œkernelä¼šä¸ºclientå’Œserveré…ç½®EPTã€‚é…ç½®serverçš„EPTæ—¶ï¼ŒSkyBridgeæŠŠclientçš„é¡µè¡¨æ˜ å°„åˆ°ç›¸åº”serverçš„é¡µè¡¨ã€‚clientè°ƒç”¨direct_server_callï¼Œåˆ‡æ¢è‡³serverçš„EPTåä½¿ç”¨serverçš„é¡µè¡¨ç¿»è¯‘åç»­çš„åœ°å€ã€‚trapolineä»£ç å®‰è£…serverçš„stack,è°ƒç”¨handlerã€‚\naddressT.png\råœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œclientçš„CR3(é¡µè¡¨åœ°å€)ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼ŒSkyBridgeå°†client CR3çš„HPAæ˜ å°„ä¸ºserver C3çš„HPAï¼Œè¿™æ ·å°±ç›¸å½“äºåˆ‡æ¢åˆ°äº†serverçš„ç©ºé—´ã€‚\nsomething else RootKernel \u0026amp; è™šæ‹ŸåŒ–å¼€é”€ï¼ŒRootkernelåªæä¾›æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼ŒåŒæ—¶ä¸ºäº†é™ä½VM exitï¼ŒRootkernelå…è®¸åƒæ›´æ”¹CR3çš„æŒ‡ä»¤ä¸è§¦å‘VM exitã€è®©å¤–éƒ¨ä¸­æ–­ç›´æ¥åˆ°microkernelå¤„ç†ã€‚ä¸ºäº†è§£å†³EPT violationï¼ŒRootkernelç”¨1GBçš„é¡µï¼ŒæŠŠå¤§éƒ¨åˆ†hostç‰©ç†å†…å­˜æ˜ å°„åˆ°microkernelï¼ˆé™¤äº†Rootkernelä¿ç•™çš„éƒ¨åˆ†ï¼Œå¤§æ¦‚100MBï¼‰ã€‚è¿™æ ·microkernelè®¿é—®ç‰©ç†åœ°å€æ—¶ï¼Œå°±ä¸ä¼šæœ‰EPT iolationã€‚è¿™æ ·ä¸ä»…é™ä½äº†å¤„ç†TLB missçš„æ—¶é—´ï¼Œä¹Ÿé™ä½äº†TLS missçš„æ¬¡æ•°ã€‚\nillegal VMFUNCï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›å®‰å…¨é—®é¢˜ã€‚SkyBrdigeçš„æ–¹æ³•æ˜¯åŠŸèƒ½ç›¸åŒçš„æŒ‡ä»¤æ›¿æ¢ä¹‹å‰çš„æŒ‡ä»¤ã€‚\nrewrite.png\rXPC ä½†æ˜¯SkyBridgeéœ€è¦å·¥ä½œåœ¨è™šæ‹ŸåŒ–ç¯å¢ƒä¸­ï¼Œè€Œä¸”å½“å‡ºç°è°ƒç”¨é“¾çš„æ—¶å€™ï¼ˆe.g., A$\\rightarrow$B$\\rightarrow$Cï¼‰è¿™æ ·å‡ºç°æ¶ˆæ¯è¢«å¤šæ¬¡å¤åˆ¶çš„æƒ…å†µã€‚\nXPCä»ä¸¤ä¸ªæ–¹é¢æé«˜IPCæ€§èƒ½ï¼Œ\nè®©IPCä¸ç»è¿‡kernel ä¸å¤åˆ¶ä¼ é€’æ¶ˆæ¯ xpc.png\rå’ŒSkyBridgeä¸€æ ·XPCä¹Ÿå±äºç¡¬ä»¶ä¼˜åŒ–IPCï¼ŒSkyBridgeé€šè¿‡VMFUNC, XPCåˆ™é€šè¿‡åœ¨æ–°çš„ç¡¬ä»¶ï¼ŒXPC engineã€‚XPC engineæä¾›äº†IPCçš„åŸºæœ¬åŠŸèƒ½ï¼Œå¦‚capabilityæ£€æŸ¥ã€ä¸Šä¸‹æ–‡åˆ‡æ¢ã€é«˜æ•ˆè½»é‡çº§çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶(relay-seg)ã€‚\nXPC engineæä¾›äº†ä¸¤ä¸ªç¡¬ä»¶åŸè¯­ï¼šUser-level Cross Process Callï¼ŒLightweight Message Transfer\nCross Procss Call x-entry, å’Œå…¶ä»–è¿›ç¨‹çš„procedureç»‘å®šã€‚æ¯ä¸ªè¿›ç¨‹å¯ä»¥åˆ›å»ºå¤šä¸ªx-entry,æ‰€æœ‰çš„x-entryéƒ½å­˜åœ¨x-entry-tableï¼ˆx-entry-table-regæŒ‡å‘çš„ä¸€ä¸ªå…¨å±€å†…å­˜ç©ºé—´ï¼‰ä¸­ã€‚é€šè¿‡x-entry-table-sizeæ§åˆ¶x-entry-tableçš„å¤§å°ã€‚xcall-cap(XPC call capability)è®°å½•æ¯ä¸ªentryçš„capabilityã€‚\nlink stack \u0026amp; linkage record, linkage recordç”¨æ¥ç»´æŠ¤è°ƒç”¨æ—¶çš„ä¿¡æ¯ï¼Œå­˜åœ¨link stackä¸­ã€‚link stackæ˜¯å­˜åœ¨link-regæŒ‡å‘çš„è¿›ç¨‹å†…å­˜ä¸­ã€‚å¯ä»¥è€ƒè™‘ä½¿ç”¨éé˜»å¡çš„æ–¹æ³•ä¼˜åŒ–å‹æ ˆï¼Œå‡å°‘å»¶è¿Ÿã€‚\nx-call, ç”¨æ¥è°ƒåœ¨ç”¨ä¸€ä¸ªx-entryã€‚XPC engineå»æ£€æŸ¥callerçš„xcall-capã€åŠ è½½x-entryå¹¶æ£€æŸ¥ã€åœ¨link stackä¸­å‹å…¥linkage recordã€åŠ è½½æ–°çš„é¡µè¡¨æŒ‡é’ˆã€‚\nx-reg, ä»link stackä¸­å¼¹å‡ºä¸€ä¸ªrecord,è¿”å›ä¹‹å‰çš„è¿›ç¨‹ã€‚CPUä¼šé¦–å…ˆæ£€æŸ¥linkage recordä¸­çš„æœ‰æ•ˆä½ï¼Œç„¶åæ¢å¤callerã€‚\nXPC Engine Cache, å¯ä»¥ç”¨cacheä¼˜åŒ–XPC engineå–x-entryå’Œcapabilityã€‚å› ä¸ºå¯¹å•çº¿ç¨‹IPCå…·æœ‰é«˜å±€éƒ¨æ€§ã€IPCæ˜¯å¯é¢„æµ‹çš„ã€‚\nRelay Segment relay-seg, æœ‰å››ä¸ªå­—æ®µï¼Œè™šåœ°å€åŸºå€ã€ç‰©ç†åœ°å€åŸºå€ã€é•¿åº¦ã€æƒé™ã€‚åœ°å€ç¿»è¯‘æ—¶ï¼Œseg-regçš„æ¯”é¡µè¡¨æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚\nseg-mask, è™½ç„¶ä¸èƒ½æ”¹å˜seg-regçš„æ˜ å°„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡seg-maskç¼©å°relay-seg\nseg-list-reg, å­˜æ”¾seg-regçš„åˆ—è¡¨ï¼Œå­˜æ”¾åœ¨è¿›ç¨‹å†…å­˜ã€‚ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åˆ›å»ºå¤šä¸ªrelay-segã€‚å¯ä»¥é€šè¿‡swapseg #regåˆ‡æ¢seg-reg\nrelayseg.png\ræ¯ä¸ªæ—¶åˆ»æ¯ä¸ªrelay-segåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰€æœ‰ï¼ŒåŒä¸€ä¸ªæ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªæ ¸å¯¹relay-regè¿›è¡Œæ“ä½œï¼Œä¸ç„¶æœ‰ä¼šå¯¼è‡´TOCTTOCæ”»å‡»ã€‚\nåœ¨x-retæ—¶ï¼Œseg-regéœ€è¦å’Œè°ƒç”¨æ—¶ä¸€æ ·ï¼Œå› ä¸ºæœ‰å¯èƒ½æ¶æ„çš„ç¨‹åºä¼šå»ä¿®æ”¹seg-regã€‚\nReference\n[1] Mi, Zeyu, et al. \u0026ldquo;Skybridge: Fast and secure inter-process communication for microkernels.\u0026rdquo; Proceedings of the Fourteenth EuroSys Conference 2019. 2019.\n[2] Du, Dong, et al. \u0026ldquo;Xpc: Architectural support for secure and efficient cross process call.\u0026rdquo; Proceedings of the 46th International Symposium on Computer Architecture. 2019.\n[3] KVMç¡¬ä»¶è¾…åŠ©è™šæ‹ŸåŒ–ä¹‹ EPT(Extended Page Table)\n","permalink":"https://Anlarry.github.io/posts/paper-reading/skybridge--xpc/","summary":"\u003ch2 id=\"inter-process-communication\"\u003eInter-Process Communication\u003c/h2\u003e\n\u003cp\u003eå¾®å†…æ ¸ç›¸æ¯”ä¸å®å†…æ ¸ï¼Œå…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§ã€å®‰å…¨æ€§ï¼Œä¹Ÿèƒ½å¤Ÿæ›´å¥½åœ°å®¹å¿é”™è¯¯ã€‚ä½†æ˜¯å¾®å†…æ ¸åªä¿ç•™å¾ˆåŸºæœ¬çš„åŠŸèƒ½ï¼Œå¾ˆå¤šæœåŠ¡éƒ½ä½œä¸ºä¸€ä¸ªç”¨æˆ·è¿›ç¨‹å­˜åœ¨ï¼Œè¿›ç¨‹ä¹‹é—´å¤§é‡ä½¿ç”¨IPCä¼ é€’æ¶ˆæ¯ã€‚\u003c/p\u003e\n\u003cp\u003eå¦å¤–åœ¨å®å†…æ ¸ä¸­ä¹Ÿä¼šç»å¸¸ä½¿ç”¨IPCï¼Œå¦‚Android Binderã€‚\u003c/p\u003e\n\u003ch2 id=\"optimize-synchronous-ipc\"\u003eOptimize synchronous IPC\u003c/h2\u003e\n\u003cp\u003eä¸€èˆ¬IPCè¿‡ç¨‹éœ€è¦ç»è¿‡å†…æ ¸ï¼Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦ä¿å­˜ç”¨æˆ·æ€çŠ¶æ€ï¼Œå½“é€€å‡ºå†…æ ¸æ—¶è¿˜éœ€æ¢å¤ç”¨æˆ·çŠ¶æ€ã€‚å› ä¸ºæ¯ä¸ªè¿›ç¨‹éƒ½åœ¨è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ï¼ŒIPCè¿‡ç¨‹è¿˜éœ€è¦åˆ‡æ¢è™šæ‹Ÿåœ°å€ç©ºé—´ã€‚å¦å¤–è¿˜æœ‰ä¸€äº›é€»è¾‘éœ€è¦å¤„ç†ã€‚è¿™äº›éƒ½å¯¼è‡´IPCæœ‰è¾ƒé«˜çš„å»¶è¿Ÿã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://sel4.systems/\"\u003eseL4\u003c/a\u003eç”¨fastpathé™ä½IPCå»¶è¿Ÿï¼Œæ¶ˆæ¯ä¼šè¢«ç«‹å³å‘é€ï¼Œè®©kernelç›´æ¥åˆ‡æ¢åˆ°serverè¿›ç¨‹é¿å…äº†è°ƒåº¦å™¨ï¼Œå› æ­¤å¯ä»¥æå‡IPCæ€§èƒ½ã€‚ä½†æ˜¯ä¹Ÿæ— æ³•é¿å…kernelã€‚\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003eå¦ä¸€æ–¹é¢å½“ä¼ é€’çš„æ¶ˆæ¯è¾ƒå¤§æ—¶ï¼ŒIPCä¸€èˆ¬éœ€è¦å°†æ¶ˆæ¯å¤åˆ¶åˆ°å†…æ ¸ï¼Œå†ä»å†…æ ¸å¤åˆ¶åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ã€‚æˆ–è€…ä½¿ç”¨å…±äº«å†…å­˜ï¼Œå‡å°‘ä¸€æ¬¡å¤åˆ¶ã€‚\u003c/p\u003e\n\u003cp\u003eIPCtime.png\r\n\u003cimg class=\"img-fluid\" src=\"IPCtime.png\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eåœ¨seL4ä¸Šæµ‹è¯•è´Ÿè½½ï¼ŒIPCå ç”¨çš„æ—¶é—´æ˜¯å¾ˆå¤šçš„ã€‚\u003c/p\u003e\n\u003ch2 id=\"skybridge\"\u003eSkyBridge\u003c/h2\u003e\n\u003cp\u003eä¸ºäº†æé«˜IPCæ€§èƒ½ï¼ŒSkyBridgeæƒ³æ³•æ˜¯IPCä¸ç»è¿‡kernel,senderå¯ä»¥ç›´æ¥è°ƒç”¨receiverçš„procedureã€‚ä¸è¿›è¿‡kernelå¦‚ä½•è°ƒç”¨receiverå‘¢ï¼Ÿä¼¼ä¹éœ€è¦ä¸€ä¸ªæ–°çš„æ¨¡å—å®Œæˆè¿™ä¸ªåŠŸèƒ½ï¼ŒSkyBridgeåˆ©ç”¨Intelä¸ºè™šæ‹ŸåŒ–æä¾›çš„ç¡¬ä»¶ï¼Œ\u003cstrong\u003eEPT(extended page table)\u003c/strong\u003e åˆ‡æ¢ï¼Œå…è®¸åœ¨ç”¨æˆ·æ€ä¸‹åˆ‡æ¢EPTï¼Œè¿™æ ·å°±å¯ä»¥å®ç°åœ¨ç”¨æˆ·æ€ä¸‹åˆ‡æ¢è™šæ‹Ÿåœ°å€ç©ºé—´ã€‚\u003c/p\u003e\n\u003cp\u003eä½†æ˜¯ä¸ºäº†åˆ©ç”¨EPTåˆ‡æ¢ï¼Œå°±éœ€è¦åœ¨å¢åŠ ä¸€ä¸ªhypervisorã€‚ï¼ˆæœ‰å¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼‰\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eåœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œçš„è¿›ç¨‹ï¼Œå¦‚æœè¦è®¿é—®å†…å­˜ä¼šç»è¿‡\u003c/p\u003e\n\u003cp\u003eGVA(Guest virtual address)â¡GPA(Guest physical address)â¡HPA(Host physical address)\u003c/p\u003e\n\u003cp\u003eè¿™æ ·çš„ä¸¤çº§åœ°å€è½¬æ¢ï¼Œç»è¿‡Guesté¡µè¡¨å¾—åˆ°GPAï¼Œå†ç»è¿‡EPTå¾—åˆ°HPA\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003eåŒæ—¶SkyBridgeä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨è‡ªå·±çš„è™šæ‹Ÿç©ºé—´ä¸­ï¼Œå½¼æ­¤ä¹‹é—´ç›¸äº’éš”ç¦»ã€‚å¦‚æœé€šè¿‡å°†è¿›ç¨‹æ”¾åœ¨åŒä¸€ä¸ªè™šæ‹Ÿç©ºé—´ï¼Œç„¶åç”¨EPTå°†ä»–ä»¬éš”ç¦»ï¼Œè¿™æ ·çš„è¯å½“è¿›ç¨‹æ•°å¾ˆå¤šçš„æ—¶å€™å°±ä¼šæ¯”è¾ƒå¤æ‚ã€‚\u003c/p\u003e\n\u003cp\u003eskybridge.png\r\n\u003cimg class=\"img-fluid\" src=\"skybridge.png\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003ecode.png\r\n\u003cimg class=\"img-fluid\" src=\"code.png\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°SkyBridgeçš„ä¸¤ä¸ªkernelï¼š\u003ccode\u003eRootKernel\u003c/code\u003e( a tiny hypervisor)å’Œ\u003ccode\u003eSubKernel\u003c/code\u003e(å³microkernel)ã€‚\u003c/p\u003e\n\u003cp\u003eé¦–å…ˆserveråœ¨kernelä¸­æ³¨å†Œã€‚kernelä¼šå§trapoline-relatedä»£ç å’Œæ•°æ®æ˜ å°„åˆ°serverçš„è™šæ‹Ÿç©ºé—´ï¼Œå¹¶è¿”å›ä¸€ä¸ªIDç”¨æ¥ç»™clientè°ƒç”¨ã€‚clientå‘kernelæ³¨å†Œæ—¶æä¾›1server ID,kernelåŒæ ·å°†ä»£ç å’Œæ•°æ®æ˜ å°„åˆ°ä»–çš„è™šæ‹Ÿç©ºé—´ã€‚\u003c/p\u003e\n\u003cp\u003eSubkernelè°ƒç”¨Rootkernelçš„å€Ÿå£è®©serverå’Œclientåœ¨EPT levelä¸Šç»‘å®šï¼Œkernelä¼šä¸ºclientå’Œserveré…ç½®EPTã€‚é…ç½®serverçš„EPTæ—¶ï¼ŒSkyBridgeæŠŠclientçš„é¡µè¡¨æ˜ å°„åˆ°ç›¸åº”serverçš„é¡µè¡¨ã€‚clientè°ƒç”¨\u003ccode\u003edirect_server_call\u003c/code\u003eï¼Œåˆ‡æ¢è‡³serverçš„EPTåä½¿ç”¨serverçš„é¡µè¡¨ç¿»è¯‘åç»­çš„åœ°å€ã€‚trapolineä»£ç å®‰è£…serverçš„stack,è°ƒç”¨handlerã€‚\u003c/p\u003e\n\u003cp\u003eaddressT.png\r\n\u003cimg class=\"img-fluid\" src=\"addressT.png\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œclientçš„CR3(é¡µè¡¨åœ°å€)ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼ŒSkyBridgeå°†client CR3çš„HPAæ˜ å°„ä¸ºserver C3çš„HPAï¼Œè¿™æ ·å°±ç›¸å½“äºåˆ‡æ¢åˆ°äº†serverçš„ç©ºé—´ã€‚\u003c/p\u003e\n\u003ch3 id=\"something-else\"\u003esomething else\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eRootKernel \u0026amp; è™šæ‹ŸåŒ–å¼€é”€\u003c/strong\u003eï¼ŒRootkernelåªæä¾›æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼ŒåŒæ—¶ä¸ºäº†é™ä½VM exitï¼ŒRootkernelå…è®¸åƒæ›´æ”¹CR3çš„æŒ‡ä»¤ä¸è§¦å‘VM exitã€è®©å¤–éƒ¨ä¸­æ–­ç›´æ¥åˆ°microkernelå¤„ç†ã€‚ä¸ºäº†è§£å†³EPT violationï¼ŒRootkernelç”¨1GBçš„é¡µï¼ŒæŠŠå¤§éƒ¨åˆ†hostç‰©ç†å†…å­˜æ˜ å°„åˆ°microkernelï¼ˆé™¤äº†Rootkernelä¿ç•™çš„éƒ¨åˆ†ï¼Œå¤§æ¦‚100MBï¼‰ã€‚è¿™æ ·microkernelè®¿é—®ç‰©ç†åœ°å€æ—¶ï¼Œå°±ä¸ä¼šæœ‰EPT iolationã€‚è¿™æ ·ä¸ä»…é™ä½äº†å¤„ç†TLB missçš„æ—¶é—´ï¼Œä¹Ÿé™ä½äº†TLS missçš„æ¬¡æ•°ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eillegal VMFUNC\u003c/strong\u003eï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›å®‰å…¨é—®é¢˜ã€‚SkyBrdigeçš„æ–¹æ³•æ˜¯åŠŸèƒ½ç›¸åŒçš„æŒ‡ä»¤æ›¿æ¢ä¹‹å‰çš„æŒ‡ä»¤ã€‚\u003c/p\u003e\n\u003cp\u003erewrite.png\r\n\u003cimg class=\"img-fluid\" src=\"rewrite.png\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003ch2 id=\"xpc\"\u003eXPC\u003c/h2\u003e\n\u003cp\u003eä½†æ˜¯SkyBridgeéœ€è¦å·¥ä½œåœ¨è™šæ‹ŸåŒ–ç¯å¢ƒä¸­ï¼Œè€Œä¸”å½“å‡ºç°è°ƒç”¨é“¾çš„æ—¶å€™ï¼ˆe.g., A$\\rightarrow$B$\\rightarrow$Cï¼‰è¿™æ ·å‡ºç°æ¶ˆæ¯è¢«å¤šæ¬¡å¤åˆ¶çš„æƒ…å†µã€‚\u003c/p\u003e\n\u003cp\u003eXPCä»ä¸¤ä¸ªæ–¹é¢æé«˜IPCæ€§èƒ½ï¼Œ\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eè®©IPCä¸ç»è¿‡kernel\u003c/li\u003e\n\u003cli\u003eä¸å¤åˆ¶ä¼ é€’æ¶ˆæ¯\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003expc.png\r\n\u003cimg class=\"img-fluid\" src=\"xpc.png\" alt='' /\u003e\r\n\u003c/p\u003e","title":"SkyBridge \u0026 XPC"},{"content":" Primus liber means the first book in latin, and means first commit here in some way.\n2021 Project Hail Mary\n./ProjectHailMary.png#center-small\rè®²è¿°Graceå’Œå¤–æ˜ŸäººRockyä¸€èµ·â€œç”¨é­”æ³•å¯¹æŠ—é­”æ³•â€ï¼ˆAstrophagå’ŒTaumoebaï¼‰çš„æ˜Ÿé™…æ—…è¡Œæ•…äº‹ï¼ŒSave Earth \u0026amp; Save Eridã€‚\nRich Dad, Poor Dad\n./RichDadPoorDad.jpg#center-small\rä»ä¸€ä¸ªä¸ä¼—ä¸åŒçš„æ€è·¯ï¼Œè®²è¿°ç†è´¢çš„é‡è¦æ€§ï¼Œä»ä¸åŒçš„è§’åº¦å†æ€è€ƒè¿™ä¸ªé—®é¢˜ã€‚\n","permalink":"https://Anlarry.github.io/book-reading/2021-primusliber/","summary":"\u003cblockquote\u003e\n\u003cp\u003e\u003cem\u003ePrimus liber\u003c/em\u003e means the \u003cem\u003efirst book\u003c/em\u003e in latin, and means \u003cem\u003efirst commit\u003c/em\u003e here in some way.\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"2021\"\u003e2021\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eProject Hail Mary\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e./ProjectHailMary.png#center-small\r\n\u003cimg class=\"img-fluid\" src=\"./ProjectHailMary.png#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eè®²è¿°\u003cem\u003eGrace\u003c/em\u003eå’Œå¤–æ˜Ÿäºº\u003cem\u003eRocky\u003c/em\u003eä¸€èµ·â€œç”¨é­”æ³•å¯¹æŠ—é­”æ³•â€ï¼ˆ\u003cem\u003eAstrophag\u003c/em\u003eå’Œ\u003cem\u003eTaumoeba\u003c/em\u003eï¼‰çš„æ˜Ÿé™…æ—…è¡Œæ•…äº‹ï¼Œ\u003cem\u003eSave Earth \u0026amp; Save Erid\u003c/em\u003eã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eRich Dad, Poor Dad\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e./RichDadPoorDad.jpg#center-small\r\n\u003cimg class=\"img-fluid\" src=\"./RichDadPoorDad.jpg#center-small\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eä»ä¸€ä¸ªä¸ä¼—ä¸åŒçš„æ€è·¯ï¼Œè®²è¿°ç†è´¢çš„é‡è¦æ€§ï¼Œä»ä¸åŒçš„è§’åº¦å†æ€è€ƒè¿™ä¸ªé—®é¢˜ã€‚\u003c/p\u003e","title":"2021-PrimusLiber"},{"content":"Codeforces Round #664 https://codeforces.com/contest/1395\nA é¢˜æ„\nç»™å››ç§é¢œè‰²çš„çƒï¼Œå¯ä»¥æŠŠä¸€ä¸ªçº¢è‰²ä¸€ä¸ªè“è‰²ä¸€ä¸ªç»¿è‰²æŸ“æˆç™½è‰²ï¼Œé—®èƒ½ä¸èƒ½å˜æˆå›æ–‡ä¸²\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 2e6 + 500; #endif const int mod = 1e9 + 7; void file_read() { #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); // freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout); #endif } int main() { file_read(); int T; LL a, b, c, d; scanf(\u0026#34;%d\u0026#34;, \u0026amp;T); while (T--) { cin \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b \u0026gt;\u0026gt; c \u0026gt;\u0026gt; d; LL tot = a + b + c + d; if(tot \u0026amp; 1) { int odd = (a \u0026amp; 1) + (b \u0026amp; 1) + (c \u0026amp; 1) + (d \u0026amp; 1); if(odd == 1) { puts(\u0026#34;Yes\u0026#34;); continue; } if(a \u0026gt; 0 and b \u0026gt; 0 and c \u0026gt; 0) { a--, b--, c--, d+=3; odd = (a \u0026amp; 1) + (b \u0026amp; 1) + (c \u0026amp; 1) + (d \u0026amp; 1); if(odd == 1) { puts(\u0026#34;Yes\u0026#34;); continue; } } puts(\u0026#34;No\u0026#34;); continue; }\telse { int odd = (a \u0026amp; 1) + (b \u0026amp; 1) + (c \u0026amp; 1) + (d \u0026amp; 1); if(odd == 0 ) { puts(\u0026#34;Yes\u0026#34;); continue; } if(a \u0026gt; 0 and b \u0026gt; 0 and c \u0026gt; 0 and d \u0026gt; 0) { a--, b--, c--, d += 3; odd = (a \u0026amp; 1) + (b \u0026amp; 1) + (c \u0026amp; 1) + (d \u0026amp; 1); if(odd == 0) { puts(\u0026#34;Yes\u0026#34;); continue; } }\tputs(\u0026#34;No\u0026#34;); } } return 0; } B é¢˜æ„\nåœ¨æ£‹ç›˜ä¸Šèµ°ï¼Œç±»ä¼¼äºè½¦ï¼Œæ±‚éå†æ‰€æœ‰æ ¼å­ä¸€æ¬¡çš„æ–¹æ¡ˆ\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 2e6 + 500; #endif const int mod = 1e9 + 7; void file_read() { #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); // freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout); #endif } void print(int x, int y) { printf(\u0026#34;%d %d\\n\u0026#34;, x, y); } bool vis[105][105]; int main() { file_read(); int n, m, x, y; int X, Y; cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m \u0026gt;\u0026gt; x \u0026gt;\u0026gt; y; X = x, Y = y; print(x, y--); while(y \u0026gt;= 1) { print(x, y--); } y = Y+1; while(y \u0026lt;= m) { print(x, y++); } y = m; for(int i = x-1; i \u0026gt;= 1; i--) { if(y == m){ for(; y \u0026gt;= 1; y--) print(i, y); y = 1; } else if(y == 1) { for(; y \u0026lt;= m; y++) print(i, y); y = m; } } for(int i = x+1; i \u0026lt;= n; i++) { if(y == m){ for(; y \u0026gt;= 1; y--) print(i, y); y = 1; } else if(y == 1) { for(; y \u0026lt;= m; y++) print(i, y); y = m; } } return 0; } C é¢˜æ„\nç»™ä¸¤ä¸ªåºåˆ—$a$,$b$, å¯¹æ¯ä¸ª$a_i$å¯ä»¥é€‰æ‹©ä¸€ä¸ª$b_j$,$c_i=a_i \u0026amp; b_j$,æ±‚æœ€å°çš„$c_1|c_2|\\dots|c_n$\nSolution\nä»é«˜ä½åˆ°ä½ä½ï¼Œä½¿å¾—æ¯ä¸€ä½å°½å¯èƒ½ä¸º0ï¼Œç»´æŠ¤å¯¹äºæ¯ä¸ª$a_i$,å¯ä»¥ç”¨çš„$b_j$\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 2e6 + 500; #endif const int mod = 1e9 + 7; void file_read() { #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); // freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout); #endif } int n, m; LL a[MAX], b[MAX]; bool ok[205][205]; bool check(LL x) { bool res = true; for(int i = 1; i \u0026lt;= n; i++) { bool cur = false; for(int j = 1; j \u0026lt;= m; j++) { if(!ok[i][j]) continue; if((a[i] \u0026amp; b[j] \u0026amp; x) == 0) { cur = true; break; } } res \u0026amp;= cur; } if(res) { for(int i = 1; i \u0026lt;= n; i++) { for(int j = 1; j \u0026lt;= m; j++) { if((a[i] \u0026amp; b[j] \u0026amp; x) != 0) { ok[i][j] = false; } } } } return res; } int main() { file_read(); scanf(\u0026#34;%d%d\u0026#34;, \u0026amp;n, \u0026amp;m); for(int i = 1; i \u0026lt;= n; i++) cin \u0026gt;\u0026gt; a[i]; for(int i = 1; i \u0026lt;= m; i++) cin \u0026gt;\u0026gt; b[i]; LL ans = 0; mset(ok, 1); for(LL i = 32; i \u0026gt;= 0; i--) { if(!check(1LL\u0026lt;\u0026lt;i)) { ans |= (1LL\u0026lt;\u0026lt;i); } } cout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; return 0; } D é¢˜æ„\nç»™ä»¥åºåˆ—$a$,å¯ä»¥é€‰$n$æ¬¡æ•°å­—ï¼Œå¦‚æœæ•°å­—å¤§äº$m$,é‚£ä¹ˆå$d$æ¬¡å°±ä¸èƒ½é€‰ï¼Œæ±‚é€‰å‡ºçš„æ•°å­—çš„æœ€å¤§å€¼\nSolution\næšä¸¾é€‰çš„æ•°å­—å°äºç­‰äº$m$çš„ä¸ªæ•°ï¼Œå¯ä»¥é€‰æ‹©è¶…è¿‡$m$çš„æ•°å­—å°±æ˜¯å›ºå®šçš„ï¼Œé€‰æ‹©æœ€å¤§çš„\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 2e6 + 500; #endif const int mod = 1e9 + 7; void file_read() { #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); // freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout); #endif } LL a[MAX]; LL A[MAX], B[MAX]; LL sa[MAX], sb[MAX]; int main() { file_read(); LL n, d, m; cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; d \u0026gt;\u0026gt; m; for(int i = 1; i \u0026lt;= n; i++) cin \u0026gt;\u0026gt; a[i]; sort(a+1, a+1+n, [](LL x, LL y) { return x \u0026gt; y; }); int tot1 = 0, tot2 = 0; for(int i = 1; i \u0026lt;= n; i++) { if(a[i] \u0026lt;= m) A[++tot1] = a[i]; else B[++tot2] = a[i]; } if(tot1 == 0) { LL nn = (n+d) / (d + 1); LL ans = 0; for(int i = 1; i \u0026lt;= nn; i++) { ans += B[i]; } cout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; return 0; } if(tot2 == 0) { LL ans = 0; for(int i = 1; i \u0026lt;= n; i++) { ans += A[i]; } cout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; return 0; } for(int i = 1; i \u0026lt;= tot1; i++) sa[i] = sa[i-1] + A[i]; for(int i = 1; i \u0026lt;= tot2; i++) sb[i] = sb[i-1] + B[i]; LL ans = 0; for(int i = 0; i \u0026lt;= tot1; i++) { LL cur = sa[i]; LL nn = (n-i+d) / (d+1); ans = max(cur+sb[nn], ans); } cout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; return 0; } E é¢˜æ„\nç»™ä¸€ä¸ªå›¾$G=(V,E)$,é€‰æ‹©ä¸€ä¸ªtuple $(c_1,\\dots, c_k)$ä½œä¸ºéå†å›¾çš„è§„åˆ™ï¼Œå‡ºåº¦ä¸º$i$çš„ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ç¬¬$c_i$å°çš„è¾¹æŒ‡å‘çš„ç‚¹ï¼Œé—®æœ‰å¤šå°‘ç§tupleå¯ä»¥æŠŠå›¾éå†ä¸€é\nSolution\nä¸èƒ½å‘ç°å…¶å®æœ€åçš„è·¯å¾„æ˜¯ä¸€ä¸ªç¯ï¼Œå¯ä»¥å¯¹æ¯ä¸ªç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ‰€ç»„æˆçš„é›†åˆæ˜¯$V$ï¼Œå› æ­¤å¯ä»¥é€šåˆ¤æ–­è¿‡è¿™æ˜¯å¦æˆç«‹æ¥æ£€æŸ¥ä¸€ä¸ªtuple å¦å¤–å¯ä»¥å°†ç‚¹æŒ‰å‡ºåº¦åˆ†ç±»ï¼Œç»´æŠ¤$S[i][j]$è¡¨ç¤ºå‡ºåº¦ä¸º$i$çš„ç‚¹ï¼Œé€‰ç¬¬$j$å°çš„è¾¹æ‰€åˆ°è¾¾çš„ç‚¹çš„é›†åˆ å¯ä»¥ç”¨hashåˆ¤æ–­é›†åˆæ˜¯å¦ç›¸ç­‰ï¼Œæœ‰å¯èƒ½ä¼šå†²çª #include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 2e6 + 500; #endif const int mod = 1e9 + 7; void file_read() { #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); // freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout); #endif } #define ULL unsigned long long const int mod2 = 998244353; vector\u0026lt;P\u0026gt; G[MAX]; ULL s[100][100]; LL g[100][100]; LL t[100][100]; bool vis[MAX]; ULL val[MAX]; ULL TARGET1 = 1; LL TARGET2 = 1; LL TARGET3 = 1; int n, m, k; int ans; void dfs(int u) { vis[u] = 1; for(int i = 0; i \u0026lt; G[u].size(); i++) { int v = G[u][i].first; s[G[u].size()][i+1] *= (ULL)val[v]; g[G[u].size()][i+1] = g[G[u].size()][i+1] * val[v] % mod; t[G[u].size()][i+1] = t[G[u].size()][i+1] * val[v] % mod2; if(vis[v]) continue; dfs(v); } } void dfs2(int x, ULL cur1, LL cur2, LL cur3) { if(x \u0026gt; k) { if(cur1 == TARGET1 and cur2 == TARGET2 and cur3 == TARGET3) ans ++; return ; } for(int i = 1; i \u0026lt;= x; i++) { dfs2(x+1, cur1*s[x][i], cur2*g[x][i]%mod, cur3 * t[x][i] % mod2); } } int main() { srand((int)time(0)); file_read(); for(int i = 0; i \u0026lt; 100; i++) for(int j = 0; j \u0026lt; 100; j++) s[i][j] = g[i][j] = t[i][j] = 1; scanf(\u0026#34;%d%d%d\u0026#34;, \u0026amp;n, \u0026amp;m, \u0026amp;k); for(int i = 1; i \u0026lt;= n; i++) val[i] = rand() % mod; for(ULL i = 1; i \u0026lt;= n; i++) TARGET1 = TARGET1 * val[i], TARGET2 = TARGET2 * val[i] % mod, TARGET3 = TARGET3 * val[i] % mod2; for(int i = 1; i \u0026lt;= m; i++) { int u, v, w; scanf(\u0026#34;%d%d%d\u0026#34;, \u0026amp;u, \u0026amp;v, \u0026amp;w); G[u].push_back({v, w}); } for(int i = 1; i \u0026lt;= n; i++) { sort(G[i].begin(), G[i].end(), [](const P\u0026amp;A, const P\u0026amp;B){ return A.second \u0026lt; B.second; }); } dfs(1); dfs2(1, 1, 1, 1); printf(\u0026#34;%d\\n\u0026#34;, ans); return 0; } F é¢˜æ„\nå®šä¹‰ä¸²åªæœ‰Nå’ŒBï¼Œæœ‰å››ç§æ“ä½œï¼Œç»™$s_1, \\dots, s_n$ï¼Œæ±‚ä¸€ä¸ªä¸²$t$ä½¿å¾—å’Œ$s$çš„æœ€å¤§è·ç¦»æœ€å°\nSolution\nä¸éš¾å‘ç°å­—ç¬¦ä¸²å¯¹åº”ä¸€ä¸ªåæ ‡ï¼Œå¯¹äºä¸€ä¸ª$x,y$å¯ä»¥ç§»åŠ¨ä¸Šä¸‹å·¦å³ï¼Œæˆ–è€…å³ä¸Šï¼Œå·¦ä¸‹ å¯¹äºä¸€ä¸ªç‚¹ï¼Œåœ¨å›ºå®šè·ç¦»å†…å¯ä»¥è®¿é—®çš„ç‚¹æ˜¯ä¸€ä¸ªå…­è¾¹å½¢ è¦æ‰¾ä¸€ä¸ªæœ€å°åŠå¾„çš„å…­è¾¹å½¢è¦†ç›–æ‰€æœ‰çš„ç‚¹ å› æ­¤äºŒåˆ†åŠå¾„ï¼Œè®¡ç®—å…­è¾¹å½¢ä¸­å¿ƒçš„å¯è¡ŒåŒºåŸŸ æœ€ååœ¨å¯è¡ŒåŒºåŸŸé€‰ä¸€ä¸ªä½œä¸º$t$,ä¸èƒ½æ˜¯ç©ºä¸² #include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __inf64 = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 2e6 + 500; #endif const int mod = 1e9 + 7; void file_read() { #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); // freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout); #endif } vector\u0026lt;P\u0026gt; pt; int xL, xR, yL, yR, zL, zR; bool check(int mid) { xL = -inf, xR = inf, yL = -inf, yR = inf, zL = -inf, zR = inf; for(auto p : pt) { xL = max(xL, p.first-mid); xR = min(xR, p.first+mid); yL = max(yL, p.second-mid); yR = min(yR, p.second+mid); zL = max(zL, p.first-p.second-mid); zR = min(zR, p.first-p.second+mid); } if(xL \u0026gt; xR || yL \u0026gt; yR || zL \u0026gt; zR) return false; yL = max(yL, xL-zR); yR = min(yR, xR-zL); if(yL \u0026gt; yR) return false; return true; } int main() { file_read(); int n; cin \u0026gt;\u0026gt; n; for(int i = 1; i \u0026lt;= n; i++) { string s; cin \u0026gt;\u0026gt; s; int x = 0, y = 0; for(auto c : s) { if(c == \u0026#39;B\u0026#39;) x++; else y++; } pt.emplace_back(x, y); } int l = 0, r = inf; while(l \u0026lt; r) { int mid = (l + r) \u0026gt;\u0026gt; 1; if(check(mid)) r = mid; else l = mid + 1; } // cout \u0026lt;\u0026lt; check(l) \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; check(l); int ansx, ansy; for(int x = max(0, xL); x \u0026lt;= xR; x++) { int curyL = max(yR, x-zR); int curyR = min(yR, x-zL); if(curyL \u0026gt; curyR) continue; if(x \u0026gt; 0 || curyR \u0026gt; 0) { ansx = x; ansy = curyR; break; }\t} cout \u0026lt;\u0026lt; l \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; while(ansx--) printf(\u0026#34;B\u0026#34;); while(ansy--) printf(\u0026#34;N\u0026#34;); return 0; } ","permalink":"https://Anlarry.github.io/posts/acm-icpc/codeforces-round-664/","summary":"\u003ch1 id=\"codeforces-round-664\"\u003eCodeforces Round #664\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://codeforces.com/contest/1395\"\u003ehttps://codeforces.com/contest/1395\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"a\"\u003eA\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eé¢˜æ„\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eç»™å››ç§é¢œè‰²çš„çƒï¼Œå¯ä»¥æŠŠä¸€ä¸ªçº¢è‰²ä¸€ä¸ªè“è‰²ä¸€ä¸ªç»¿è‰²æŸ“æˆç™½è‰²ï¼Œé—®èƒ½ä¸èƒ½å˜æˆå›æ–‡ä¸²\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-cpp\" data-lang=\"cpp\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdio\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;stack\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;set\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cmath\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;time.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;string\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstring\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;algorithm\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e//#include \u0026lt;memory.h\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdlib\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;queue\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iomanip\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cassert\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;unordered_map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define P pair\u0026lt;int, int\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LL long long\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LD long double\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PLL pair\u0026lt;LL, LL\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define mset(a, b) memset(a, b, sizeof(a))\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define rep(i, a, b) for (int i = a; i \u0026lt; b; i++)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PI acos(-1.0)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define random(x) rand() % x\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eusing\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e std;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e LL __64inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2e3\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#else\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2e6\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e500\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e9\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efile_read\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\tfreopen(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#75715e\"\u003e// freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tfile_read();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e T;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tLL a, b, c, d;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tscanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eT);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e (T\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tcin \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e a \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e b \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e c \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e d;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tLL tot \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e a \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e b \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e c \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e d;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(tot \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e odd \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (a \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (b \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (c \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (d \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(odd \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\tputs(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Yes\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\t\u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(a \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e and b \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e and c \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\ta\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e, b\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e, c\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e, d\u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\todd \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (a \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (b \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (c \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (d \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(odd \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\t\tputs(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Yes\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\t\t\u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\tputs(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;No\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t}\t\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e odd \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (a \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (b \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (c \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (d \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(odd \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e ) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\tputs(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Yes\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\t\u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(a \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e and b \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e and c \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e and d \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\ta\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e, b\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e, c\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e, d \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\todd \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (a \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (b \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (c \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (d \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(odd \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\t\tputs(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Yes\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\t\t\u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t}\t\t\t\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\tputs(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;No\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"b\"\u003eB\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eé¢˜æ„\u003c/strong\u003e\u003c/p\u003e","title":"Codeforces Round #664"},{"content":"Gym - 102501D Gnalcats https://codeforces.com/gym/102501/problem/D\né¢˜æ„ ç»™ä¸¤ç§æ ˆæ“ä½œåˆ¤æ–­æ˜¯å¦ç›¸ç­‰,å¦‚æœä¸¤ä¸ªæ“ä½œéƒ½failï¼Œä¹Ÿè®¤ä¸ºç›¸ç­‰\nSolution æ¨¡æ‹Ÿï¼Œæ¯ä¸ªæ°¨åŸºé…¸ä¸€ä¸ªhashå€¼ã€‚é€šè¿‡åˆ¤æ–­æœ€åæ ˆå…ƒç´ æ˜¯å¦å¯¹åº”hashç›¸ç­‰ï¼Œåˆ¤æ–­æ“ä½œæ˜¯å¦ç›¸ç­‰\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 1e6 + 50; #endif const int mod = 1e9 + 7; void file_read() { #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); // freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout); #endif } #define ULL unsigned long long struct DNA { struct Node { int l, r; unsigned LL val; Node(){} Node(int l, int r, unsigned LL val) : l(l), r(r), val(val) {} bool complex() const { return l and r; } }tr[MAX]; stack\u0026lt;int\u0026gt; stk; int tot; int num; DNA() : tot(1), num(1) { for(int i = 1; i \u0026lt;= (int)1e5; i++) { tr[tot] = Node(0, 0, num++); stk.push(tot); tot++; } } ULL hash(int u, int v) { ULL base = 131; return tr[u].val * base + tr[v].val; } bool op_C() { auto u = stk.top(); tr[tot] = tr[u]; stk.push(tot); tot++; return true;\t} bool op_D() { stk.pop(); return true; } bool op_L() { auto u = stk.top(); stk.pop(); if(!tr[u].complex()) return false;\t// tr[tot] = tr[tr[u].l]; // stk.push(tot); stk.push(tr[u].l); return true; } bool op_P() { auto u = stk.top(); stk.pop(); auto v = stk.top(); stk.pop(); tr[tot] = Node(u, v, hash(u, v)); stk.push(tot); tot++; return true; } bool op_R() { auto u = stk.top(); stk.pop(); if(!tr[u].complex()) return false; // tr[tot] = tr[tr[u].r]; // stk.push(tot++); stk.push(tr[u].r); return true; } bool op_S() { auto u = stk.top(); stk.pop(); auto v = stk.top(); stk.pop(); stk.push(u); stk.push(v); return true; } bool op_U() { auto u = stk.top(); stk.pop(); if(!tr[u].complex()) return false; stk.push(tr[u].r); stk.push(tr[u].l); return true; } bool op(const string \u0026amp;s) { bool res = true; for(auto c : s) { switch (c) { case \u0026#39;C\u0026#39;:res \u0026amp;= op_C(); break; case \u0026#39;D\u0026#39;:res \u0026amp;= op_D(); break; case \u0026#39;L\u0026#39;:res \u0026amp;= op_L(); break; case \u0026#39;P\u0026#39;:res \u0026amp;= op_P(); break; case \u0026#39;R\u0026#39;:res \u0026amp;= op_R(); break; case \u0026#39;S\u0026#39;:res \u0026amp;= op_S(); break; case \u0026#39;U\u0026#39;:res \u0026amp;= op_U(); break; default: break; } } return res ; } }; DNA A, B; int main() { file_read(); string s, t; cin \u0026gt;\u0026gt; s \u0026gt;\u0026gt; t; A = DNA(); B = DNA(); bool a = A.op(s); bool b = B.op(t); if(a ^ b) { puts(\u0026#34;False\u0026#34;); return 0; } if(!a and !b) { puts(\u0026#34;True\u0026#34;); return 0; } while(!A.stk.empty() and !B.stk.empty()) { auto u = A.stk.top(); A.stk.pop(); auto v = B.stk.top(); B.stk.pop(); if(A.tr[u].val != B.tr[v].val) { puts(\u0026#34;False\u0026#34;); return 0; } } if(!A.stk.empty() || !B.stk.empty()) { puts(\u0026#34;False\u0026#34;); return 0; } puts(\u0026#34;True\u0026#34;); return 0; } Gym - 102501J https://codeforces.com/gym/102501/problem/J\né¢˜æ„ ç»™ä¸€ä¸ªæ ‘çš„ä¸­åºéå†åºåˆ—ï¼Œåˆ¤æ–­æœ‰å¤šå°‘æ»¡è¶³ç±»ä¼¼å°æ ¹å †çš„æ ‘ï¼Œ$n\u0026lt;=1e5$\nSolution ç›´æ¥dpä¸€å®šä¼šè¶…æ—¶ è€ƒè™‘æ ¹å¯èƒ½åœ¨çš„ä½ç½®ï¼Œå³å½“å‰æœ€å°å…ƒç´ çš„ä½ç½® è€ƒè™‘é€‰è¿™äº›å…ƒç´ ä¸ºæ ¹ä¼šæœ‰å“ªäº›æ ‘ï¼Œå°±å¯ä»¥å‘ç°å½“å‰çš„æœ€å°å…ƒç´ å°†åºåˆ—åˆ†æˆå­æ®µï¼Œå½“å‰å…ƒç´ ä½œä¸ºæ ¹çš„ç§ç±»æ•°æ˜¯å¡ç‰¹å…°æ•° å› æ­¤é€’å½’è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡ç”¨æœ€å°å…ƒç´ åˆ†å‰²å½“å‰åºåˆ—ï¼Œæœ€åå…¶å®å°±æ˜¯ä¸€äº›å¡ç‰¹å…°æ•°çš„ä¹˜ç§¯ ç”¨å•è°ƒæ ˆä¼šæ›´ä¼˜ç¾ä¸€ç‚¹ #include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 2e6 + 500; #endif const int mod = 1e9 + 7; void file_read() { #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); // freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout); #endif } int a[MAX]; LL fact[MAX]; LL inv[MAX]; map\u0026lt;int, vector\u0026lt;int\u0026gt;\u0026gt; pos; LL qpow(LL x, LL n) { LL res = 1; while(n) { if(n \u0026amp; 1) { res = res * x % mod; } x = x * x % mod; n \u0026gt;\u0026gt;= 1; } return res; } LL f(LL x) { return fact[2*x] * inv[x] % mod * inv[x+1] % mod; } int main() { file_read(); int n; scanf(\u0026#34;%d\u0026#34;, \u0026amp;n); for(int i = 1; i \u0026lt;= n; i++) { scanf(\u0026#34;%d\u0026#34;, \u0026amp;a[i]); } fact[0] = 1; for(int i = 1; i \u0026lt; MAX; i++) fact[i] = 1LL * fact[i-1] * i % mod; inv[MAX-1] = qpow(fact[MAX-1], mod-2); for(int i = MAX-2; i \u0026gt;= 1; i--) inv[i] = 1LL * (i+1) * inv[i+1] % mod; inv[0] = 1; LL res = 1; stack\u0026lt;int\u0026gt; stk; for(int i = 1; i \u0026lt;= n; i++) { if(stk.empty()) { stk.push(a[i]); continue; } int cnt = 0; int cur = inf; while(!stk.empty() and stk.top() \u0026gt; a[i]) { if(stk.top() == cur) { cnt++; } else { res = res * f(cnt) % mod; cnt = 1; cur = stk.top(); } stk.pop(); } stk.push(a[i]); res = res * f(cnt) % mod; } int cur = inf; int cnt = 0; while(!stk.empty()) { if(stk.top() == cur) { cnt++; } else { res = res * f(cnt) % mod; cur = stk.top(); cnt = 1; } stk.pop(); } res = res * f(cnt ) % mod; printf(\u0026#34;%lld\\n\u0026#34;, res); } ","permalink":"https://Anlarry.github.io/posts/acm-icpc/gym-102501%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/","summary":"\u003ch1 id=\"gym---102501d-gnalcats\"\u003eGym - 102501D Gnalcats\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://codeforces.com/gym/102501/problem/D\"\u003ehttps://codeforces.com/gym/102501/problem/D\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"é¢˜æ„\"\u003eé¢˜æ„\u003c/h2\u003e\n\u003cp\u003eç»™ä¸¤ç§æ ˆæ“ä½œåˆ¤æ–­æ˜¯å¦ç›¸ç­‰,å¦‚æœä¸¤ä¸ªæ“ä½œéƒ½failï¼Œä¹Ÿè®¤ä¸ºç›¸ç­‰\u003c/p\u003e\n\u003ch2 id=\"solution\"\u003eSolution\u003c/h2\u003e\n\u003cp\u003eæ¨¡æ‹Ÿï¼Œæ¯ä¸ªæ°¨åŸºé…¸ä¸€ä¸ªhashå€¼ã€‚é€šè¿‡åˆ¤æ–­æœ€åæ ˆå…ƒç´ æ˜¯å¦å¯¹åº”hashç›¸ç­‰ï¼Œåˆ¤æ–­æ“ä½œæ˜¯å¦ç›¸ç­‰\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-cpp\" data-lang=\"cpp\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdio\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;stack\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;set\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cmath\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;time.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;string\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstring\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;algorithm\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e//#include \u0026lt;memory.h\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdlib\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;queue\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iomanip\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cassert\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;unordered_map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define P pair\u0026lt;int, int\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LL long long\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LD long double\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PLL pair\u0026lt;LL, LL\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define mset(a, b) memset(a, b, sizeof(a))\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define rep(i, a, b) for (int i = a; i \u0026lt; b; i++)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PI acos(-1.0)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define random(x) rand() % x\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eusing\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e std;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e LL __64inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2e3\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#else\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e6\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e9\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efile_read\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\tfreopen(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#75715e\"\u003e// freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define ULL unsigned long long\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003estruct\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eDNA\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003estruct\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eNode\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e l, r;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eunsigned\u003c/span\u003e LL val;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tNode(){}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tNode(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e l, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e r, \u003cspan style=\"color:#66d9ef\"\u003eunsigned\u003c/span\u003e LL val) \u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e l(l), r(r), val(val) {}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecomplex\u003c/span\u003e() \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e l and r;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}tr[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tstack\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e stk;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e tot;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e num;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tDNA() \u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e tot(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e), num(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e)\u003cspan style=\"color:#ae81ff\"\u003e1e5\u003c/span\u003e; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\ttr[tot] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e Node(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, num\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\tstk.push(tot);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\ttot\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tULL \u003cspan style=\"color:#a6e22e\"\u003ehash\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e v) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tULL base \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e131\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e tr[u].val \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e base \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e tr[v].val;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eop_C\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e stk.top();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\ttr[tot] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e tr[u];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tstk.push(tot);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\ttot\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e true;\t\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eop_D\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tstk.pop();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e true;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eop_L\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e stk.top(); stk.pop();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003etr[u].complex())  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e false;\t\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#75715e\"\u003e// tr[tot] = tr[tr[u].l];\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\t\t\u003cspan style=\"color:#75715e\"\u003e// stk.push(tot);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\t\tstk.push(tr[u].l);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e true;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eop_P\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e stk.top(); stk.pop();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e v \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e stk.top(); stk.pop();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\ttr[tot] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e Node(u, v, hash(u, v));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tstk.push(tot);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\ttot\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e true;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eop_R\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e stk.top(); stk.pop();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003etr[u].complex()) \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e false;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#75715e\"\u003e// tr[tot] = tr[tr[u].r];\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\t\t\u003cspan style=\"color:#75715e\"\u003e// stk.push(tot++);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\t\tstk.push(tr[u].r);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e true;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eop_S\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e stk.top(); stk.pop();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e v \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e stk.top(); stk.pop();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tstk.push(u);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tstk.push(v);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e true;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eop_U\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e stk.top(); stk.pop();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003etr[u].complex()) \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e false;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tstk.push(tr[u].r);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tstk.push(tr[u].l);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e true;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eop\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e string \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003es) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e true;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e c : s) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003eswitch\u003c/span\u003e (c)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;C\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003eres \u003cspan style=\"color:#f92672\"\u003e\u0026amp;=\u003c/span\u003e op_C(); \u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;D\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003eres \u003cspan style=\"color:#f92672\"\u003e\u0026amp;=\u003c/span\u003e op_D(); \u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;L\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003eres \u003cspan style=\"color:#f92672\"\u003e\u0026amp;=\u003c/span\u003e op_L(); \u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;P\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003eres \u003cspan style=\"color:#f92672\"\u003e\u0026amp;=\u003c/span\u003e op_P(); \u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;R\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003eres \u003cspan style=\"color:#f92672\"\u003e\u0026amp;=\u003c/span\u003e op_R(); \u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;S\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003eres \u003cspan style=\"color:#f92672\"\u003e\u0026amp;=\u003c/span\u003e op_S(); \u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;U\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003eres \u003cspan style=\"color:#f92672\"\u003e\u0026amp;=\u003c/span\u003e op_U(); \u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003edefault\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res ;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e};\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eDNA A, B;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tfile_read();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tstring s, t;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tcin \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e s \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e t;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tA \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e DNA();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tB \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e DNA();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e a \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e A.op(s);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e b \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e B.op(t);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(a \u003cspan style=\"color:#f92672\"\u003e^\u003c/span\u003e b) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tputs(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;False\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003ea and \u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003eb) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tputs(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;True\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003eA.stk.empty() and \u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003eB.stk.empty()) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e A.stk.top(); A.stk.pop();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e v \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e B.stk.top(); B.stk.pop();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(A.tr[u].val \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e B.tr[v].val) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\tputs(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;False\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003eA.stk.empty() \u003cspan style=\"color:#f92672\"\u003e||\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003eB.stk.empty()) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\tputs(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;False\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\tputs(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;True\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch1 id=\"gym---102501j\"\u003eGym - 102501J\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://codeforces.com/gym/102501/problem/J\"\u003ehttps://codeforces.com/gym/102501/problem/J\u003c/a\u003e\u003c/p\u003e","title":"Gym 102501éƒ¨åˆ†é¢˜è§£"},{"content":"Gym 102460L Largest Quadrilateral Largest Quadrilateral\né¢˜æ„ ç»™$n$ä¸ªç‚¹ä»ä¸­é€‰å‡ºå››ä¸ªç‚¹ï¼Œä½¿å¾—é¢ç§¯æœ€å¤§\nSolution é¦–å…ˆï¼Œè‚¯å®šæ˜¯æ±‚å‡¸åŒ…ï¼Œè¦æ±‚çš„ç‚¹ä¸€å®šåœ¨å‡¸åŒ…ä¸Šã€‚ ä¸éš¾è”æƒ³åˆ°å‡¸åŒ…å¯¹æ¯ä¸ªè¾¹æ±‚æœ€å¤§ä¸‰è§’å½¢é¢ç§¯çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯æ—‹è½¬å¡å£³ã€‚ å¯ä»¥å°†é—®é¢˜è½¬åŒ–ä¸ºï¼Œå¯¹å‡¸åŒ…çš„æ¯ä¸€ä¸ªå¯¹è§’çº¿$A_iA_j$ï¼Œæ±‚æœ€å¤§é¢ç§¯çš„ä¸¤ä¸ªä¸‰è§’å½¢ï¼Œ$\\triangle{A_iA_jP}$, $\\triangle{A_iA_jQ}$, ç„¶åå°±å¯ä»¥æšä¸¾å¯¹è§’çº¿ï¼Œæ—‹è½¬å¡å£³ç®—æœ€å¤§é¢ç§¯ ç»†èŠ‚\nè¾“å‡ºçš„æ ¼å¼ å‡¸åŒ…ä¸Šåº”è¯¥ç•™ä¸‹å…±çº¿çš„ç‚¹ #include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; // #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 1e6 + 50; #endif const int mod = 1e9+9; void file_read(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); // freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout); #endif } template\u0026lt;typename type\u0026gt; struct Vec { type x, y; Vec() {} Vec(type x, type y) : x(x), y(y) {} friend istream \u0026amp; operator \u0026gt;\u0026gt; (istream \u0026amp;in, Vec \u0026amp;A) { in \u0026gt;\u0026gt; A.x \u0026gt;\u0026gt; A.y; return in; } friend Vec operator - (const Vec \u0026amp;A, const Vec \u0026amp;B) { return Vec(A.x-B.x, A.y-B.y); } friend Vec operator + (const Vec \u0026amp;A, const Vec \u0026amp;B) { return Vec(A.x + B.x, A.y + B.y); } friend type det(const Vec \u0026amp;A, const Vec \u0026amp;B) { return A.x * B.y - A.y * B.x; } friend type dot(const Vec \u0026amp;A, const Vec \u0026amp;B) { return A.x * B.x + A.y * B.y; } friend bool operator \u0026lt; (const Vec \u0026amp;A, const Vec \u0026amp;B) { if(A.x != B.x) return A.x \u0026lt; B.x; return A.y \u0026lt; B.y; } friend type area(const Vec \u0026amp;A, const Vec \u0026amp;B) { return abs(det(A, B)); } friend type operator == (const Vec \u0026amp;A, const Vec \u0026amp;B) { return A.x == B.x and A.y == B.y; } }; template\u0026lt;typename type\u0026gt; vector\u0026lt;Vec\u0026lt;type\u0026gt;\u0026gt; convex_hull(vector\u0026lt;Vec\u0026lt;type\u0026gt;\u0026gt; \u0026amp;pt) { sort(pt.begin(), pt.end()); int n = pt.size(); vector\u0026lt;Vec\u0026lt;type\u0026gt;\u0026gt; res(2*n); int k = 0 ; for(int i = 0; i \u0026lt; n; i++) { while(k \u0026gt; 1 and det(res[k-1]-res[k-2], pt[i]-res[k-1]) \u0026lt; 0) // \u0026lt;=ä¼šwa k--; res[k++] = pt[i]; } for(int i = n-2, t = k; i \u0026gt;= 0; i--) { while(k \u0026gt; t and det(res[k-1]-res[k-2], pt[i]-res[k-1]) \u0026lt; 0) // \u0026lt;=ä¼šwa k--; res[k++] = pt[i]; } res.resize(k-1); return res; } struct ModI { int i, n; ModI(int n ) : i(0), n(n) { assert(n \u0026gt; 0) ;} ModI(int i, int n) : i(i%n), n(n) { assert(n \u0026gt; 0); } ModI operator ++ ( int ) { ModI row = ModI(i, n); i = (i + 1) % n; return row; } ModI operator + (int x) { ModI res = ModI(i, n); res.i = (res.i + x) % n; return res; } int operator = (int x) { return i = x; } bool operator \u0026lt; (int x) const { return i \u0026lt; x; } bool operator == (const ModI \u0026amp;other) const { return i == other.i; } operator int () { return i; } }; template\u0026lt;typename type\u0026gt; type area(const Vec\u0026lt;type\u0026gt; \u0026amp;A, const Vec\u0026lt;type\u0026gt; \u0026amp;B, const Vec\u0026lt;type\u0026gt; \u0026amp;C) { return area(A-B, A-C); } template\u0026lt;typename type\u0026gt; type rotateCalipers(vector\u0026lt;Vec\u0026lt;type\u0026gt;\u0026gt; pt) { int n = pt.size(); type res = 0; for(int i = 0; i \u0026lt; pt.size(); i++) { ModI p1 = ModI(i+1, n); ModI p2 = ModI(i+3, n); for(ModI j = ModI(i+2, n); j+1 != i; j++) { while(p1+1 != j and area(pt[p1], pt[i], pt[j]) \u0026lt; area(pt[p1+1], pt[i], pt[j])) p1 ++; if(j == p2) p2++; while(p2+1 != i and area(pt[p2], pt[i], pt[j]) \u0026lt; area(pt[p2+1], pt[i], pt[j])) p2 ++; auto cur = area(pt[p1], pt[i], pt[j]) + area(pt[p2], pt[i], pt[j]); res = max(res, cur); } } return res; } void out(LL ans) { if(ans \u0026amp; 1) { printf(\u0026#34;%lld.5\\n\u0026#34;, ans \u0026gt;\u0026gt; 1); } else { printf(\u0026#34;%lld\\n\u0026#34;, ans \u0026gt;\u0026gt; 1); } } int main() { file_read(); int T; scanf(\u0026#34;%d\u0026#34;, \u0026amp;T); while (T--) { int n; scanf(\u0026#34;%d\u0026#34;, \u0026amp;n); vector\u0026lt;Vec\u0026lt;LL\u0026gt;\u0026gt; pt(n); for(int i = 0; i \u0026lt; n; i++) cin \u0026gt;\u0026gt; pt[i]; auto ch = convex_hull(pt); if(ch.size() \u0026lt; 3) { printf(\u0026#34;0\\n\u0026#34;); continue; } if(ch.size() == 3) { LL ans = 0; LL A = area(ch[0], ch[1], ch[2]); for(auto p : pt) { if(p == ch[0] or p == ch[1] or p == ch[2]) continue; auto a = area(p, ch[1], ch[2]); a = min(a, area(p, ch[0], ch[2])); a = min(a, area(p, ch[0], ch[1])); ans = max(ans, A-a); } out(ans); continue; } LL res = rotateCalipers(ch); out(res); } return 0; } ","permalink":"https://Anlarry.github.io/posts/acm-icpc/gym-102460l-largest-quadrilateral/","summary":"\u003ch1 id=\"gym-102460l-largest-quadrilateral\"\u003eGym 102460L Largest Quadrilateral\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://codeforces.com/gym/102460/\"\u003eLargest Quadrilateral\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"é¢˜æ„\"\u003eé¢˜æ„\u003c/h2\u003e\n\u003cp\u003eç»™$n$ä¸ªç‚¹ä»ä¸­é€‰å‡ºå››ä¸ªç‚¹ï¼Œä½¿å¾—é¢ç§¯æœ€å¤§\u003c/p\u003e\n\u003ch2 id=\"solution\"\u003eSolution\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eé¦–å…ˆï¼Œè‚¯å®šæ˜¯æ±‚å‡¸åŒ…ï¼Œè¦æ±‚çš„ç‚¹ä¸€å®šåœ¨å‡¸åŒ…ä¸Šã€‚\u003c/li\u003e\n\u003cli\u003eä¸éš¾è”æƒ³åˆ°å‡¸åŒ…å¯¹æ¯ä¸ªè¾¹æ±‚æœ€å¤§ä¸‰è§’å½¢é¢ç§¯çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯æ—‹è½¬å¡å£³ã€‚\u003c/li\u003e\n\u003cli\u003eå¯ä»¥å°†é—®é¢˜è½¬åŒ–ä¸ºï¼Œå¯¹å‡¸åŒ…çš„æ¯ä¸€ä¸ªå¯¹è§’çº¿$A_iA_j$ï¼Œæ±‚æœ€å¤§é¢ç§¯çš„ä¸¤ä¸ªä¸‰è§’å½¢ï¼Œ$\\triangle{A_iA_jP}$, $\\triangle{A_iA_jQ}$, ç„¶åå°±å¯ä»¥æšä¸¾å¯¹è§’çº¿ï¼Œæ—‹è½¬å¡å£³ç®—æœ€å¤§é¢ç§¯\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eç»†èŠ‚\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eè¾“å‡ºçš„æ ¼å¼\u003c/li\u003e\n\u003cli\u003eå‡¸åŒ…ä¸Šåº”è¯¥ç•™ä¸‹å…±çº¿çš„ç‚¹\u003c/li\u003e\n\u003c/ul\u003e\u003c/blockquote\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-cpp\" data-lang=\"cpp\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdio\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;stack\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;set\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cmath\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;time.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;string\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstring\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;algorithm\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e//#include \u0026lt;memory.h\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdlib\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;queue\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iomanip\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cassert\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e// #include \u0026lt;unordered_map\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e#define P pair\u0026lt;int, int\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LL long long\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LD long double\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PLL pair\u0026lt;LL, LL\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define mset(a, b) memset(a, b, sizeof(a))\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define rep(i, a, b) for (int i = a; i \u0026lt; b; i++)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PI acos(-1.0)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define random(x) rand() % x\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eusing\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e std;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e LL __64inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2e3\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#else\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e6\u003c/span\u003e  \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e9\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e9\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efile_read\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    freopen(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// freopen(\u0026#34;out\u0026#34;, \u0026#34;w\u0026#34;, stdout);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003etemplate\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003etypename\u003c/span\u003e type\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003estruct\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eVec\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    type x, y;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Vec() {}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Vec(type x, type y) \u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e x(x), y(y) {}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efriend\u003c/span\u003e istream \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eoperator\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e (istream \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003ein, Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eA) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        in \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e A.x \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e A.y;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e in;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efriend\u003c/span\u003e Vec \u003cspan style=\"color:#66d9ef\"\u003eoperator\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eA, \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eB) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eVec\u003c/span\u003e(A.x\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003eB.x, A.y\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003eB.y);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efriend\u003c/span\u003e Vec \u003cspan style=\"color:#66d9ef\"\u003eoperator\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eA, \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eB) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eVec\u003c/span\u003e(A.x \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e B.x, A.y \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e B.y);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efriend\u003c/span\u003e type \u003cspan style=\"color:#a6e22e\"\u003edet\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eA, \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eB) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e A.x \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e B.y \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e A.y \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e B.x;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efriend\u003c/span\u003e type \u003cspan style=\"color:#a6e22e\"\u003edot\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eA, \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eB) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e A.x \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e B.x \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e A.y \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e B.y;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efriend\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eoperator\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eA, \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eB) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(A.x \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e B.x) \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e A.x \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e B.x;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e A.y \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e B.y;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efriend\u003c/span\u003e type \u003cspan style=\"color:#a6e22e\"\u003earea\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eA, \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eB) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e abs(det(A, B));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efriend\u003c/span\u003e type \u003cspan style=\"color:#66d9ef\"\u003eoperator\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eA, \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eB) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e A.x \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e B.x and A.y \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e B.y;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e};\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003etemplate\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003etypename\u003c/span\u003e type\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eVec\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003etype\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e convex_hull(vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eVec\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003etype\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003ept) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    sort(pt.begin(), pt.end());\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pt.size();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eVec\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003etype\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e res(\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003en);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e k \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e ;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(k \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e and det(res[k\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003eres[k\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e], pt[i]\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003eres[k\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e) \u003cspan style=\"color:#75715e\"\u003e// \u0026lt;=ä¼šwa\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e            k\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        res[k\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pt[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e n\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e, t \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e k; i \u003cspan style=\"color:#f92672\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(k \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e t and det(res[k\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003eres[k\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e], pt[i]\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003eres[k\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e) \u003cspan style=\"color:#75715e\"\u003e// \u0026lt;=ä¼šwa\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e            k\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        res[k\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pt[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    res.resize(k\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003estruct\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eModI\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i, n;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    ModI(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n ) \u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e i(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e), n(n) { assert(n \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e) ;} \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    ModI(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n) \u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e i(i\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003en), n(n) { assert(n \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e); }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    ModI \u003cspan style=\"color:#66d9ef\"\u003eoperator\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e ( \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e ) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        ModI row \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e ModI(i, n);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (i \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e n;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e row;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    ModI \u003cspan style=\"color:#66d9ef\"\u003eoperator\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e x) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        ModI res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e ModI(i, n);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        res.i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (res.i \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e x) \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e n;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eoperator\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e x) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e x;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eoperator\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e x) \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e x;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eoperator\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e ModI \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eother) \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e i  \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e other.i;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eoperator\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eint\u003c/span\u003e () {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e i;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e};\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003etemplate\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003etypename\u003c/span\u003e type\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etype area(\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003etype\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eA, \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003etype\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eB, \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e Vec\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003etype\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eC) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003earea\u003c/span\u003e(A\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003eB, A\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003eC);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003etemplate\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003etypename\u003c/span\u003e type\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etype rotateCalipers(vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eVec\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003etype\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e pt) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pt.size();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    type res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e pt.size(); i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        ModI p1 \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e ModI(i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, n);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        ModI p2 \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e ModI(i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e, n);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(ModI j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e ModI(i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e, n); j\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e i; j\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(p1\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e j and area(pt[p1], pt[i], pt[j]) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e area(pt[p1\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], pt[i], pt[j])) \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                p1 \u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(j \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e p2) p2\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(p2\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e i and area(pt[p2], pt[i], pt[j]) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e area(pt[p2\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], pt[i], pt[j]))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                p2 \u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e cur \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e area(pt[p1], pt[i], pt[j]) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e area(pt[p2], pt[i], pt[j]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e max(res, cur);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eout\u003c/span\u003e(LL ans) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(ans \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%lld.5\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, ans \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%lld\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, ans \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    file_read();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e T;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eT);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e (T\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003en);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eVec\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eLL\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e pt(n);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) cin \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e pt[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e ch \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e convex_hull(pt);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(ch.size() \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;0\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(ch.size() \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            LL ans \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            LL A \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e area(ch[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], ch[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], ch[\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e p : pt) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(p \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e ch[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] or p \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e ch[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] or p \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e ch[\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e]) \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e a \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e area(p, ch[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], ch[\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                a \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e min(a, area(p, ch[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], ch[\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e]));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                a \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e min(a, area(p, ch[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], ch[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                ans \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e max(ans, A\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ea);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            out(ans);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        LL res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e rotateCalipers(ch);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        out(res);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Gym 102460L Largest Quadrilateral "},{"content":"Codeforces Round #663 http://codeforces.com/contest/1391\nC é¢˜æ„\nå¯¹äºä¸€ä¸ªæ’åˆ—${p_1, p_2, \\dots, p_n}$ï¼Œå¯¹äºæ¯ä¸ªæ•°å­—$p_i$ï¼Œå‘å‰æ‰¾ç¬¬ä¸€ä¸ªå¤§äº$p_i$çš„$p_j$ï¼Œ$i$å’Œ$j$è¿ä¸€æ¡è¾¹ï¼Œå‘ååŒç†ã€‚æ±‚å¤šå°‘ç§æ’åˆ—ç”Ÿæˆçš„å›¾æ˜¯æœ‰ç¯çš„\nSolution\nå¯¹äº$p_i$ï¼Œå¦‚æœå­˜åœ¨$p_j\u0026gt;p_i(j\u0026lt;i)$, $p_k\u0026gt;p_i(k\u0026gt;i)$ï¼Œé‚£ä¹ˆå°±æ˜¯å­˜åœ¨ç¯çš„ é‚£ä¹ˆå¯¹äº$\\forall i$éƒ½ä¸æˆç«‹æ—¶ï¼Œå°±æ²¡æœ‰ç¯ æ­¤æ—¶å°±æ˜¯åºåˆ—çš„ç‰¹ç‚¹å°±æ˜¯,æ•°å­—$n$å·¦è¾¹å’Œå³è¾¹å‘ä¸¤è¾¹é€’å‡ å› æ­¤æ’åˆ—æ•°å°±æ˜¯$n!-2^{n-1}$ #include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const LL inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 2e6 + 50; #endif const int mod = 1e9+7; void file_read(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif } int main(){ file_read(); LL n; scanf(\u0026#34;%lld\\n\u0026#34;, \u0026amp;n); LL fact = 1; for(LL i = 1; i \u0026lt;= n; i++) { fact = fact * i % mod; } LL pow2 = 1; for(int i = 1; i \u0026lt; n; i++) { pow2 = pow2 * 2 % mod; } LL res = (fact - pow2) % mod; if(res \u0026lt; 0) res += mod; printf(\u0026#34;%lld\\n\u0026#34;, res); } D é¢˜æ„\nç»™ä¸€ä¸ª01çŸ©é˜µï¼Œå¯¹äºæ¯ä¸ªå˜æˆä½å¶æ•°çš„æ­£æ–¹å½¢ï¼Œ1çš„ä¸ªæ•°å¿…é¡»æ—¶å¥‡æ•°ä¸ªï¼Œæ±‚æœ€å°æ”¹å˜01çš„æ¬¡æ•°\nSolution\né¦–å…ˆï¼Œå¯¹äº4*4çš„çŸ©é˜µæ˜¯æ— è§£çš„ï¼Œå› æ­¤ï¼Œ$n,m$å¿…æœ‰ä¸€ä¸ªå°äº4ï¼Œä¸å¦¨å‡è®¾$n\u0026lt;4$, ä¸”$n\u0026lt;m$ ç„¶åé—®é¢˜å°±å¯ä»¥dpï¼Œæšä¸¾çŠ¶æ€è½¬ç§» $$ dp[i][mask_y] = min(dp[i-1][mask_x]+cost(i,mask_y), dp[i][mask_y]) $$ #include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; // #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 2e6 + 50; #endif const int mod = 1e9+7; void file_read(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif } char s[10][MAX]; int dp[MAX][10]; int n, m; int cost(int col, int mask){ int res = 0; for(int i = 1; i \u0026lt;= n; i++) { int x = s[i][col] - \u0026#39;0\u0026#39;; int y = mask \u0026amp; 1; res += x != y; mask \u0026gt;\u0026gt;= 1; } return res; } bool check(int x, int y) { int A[2][10]; for(int i = 1; i \u0026lt;= n; i++) { int a = x \u0026amp; 1; int b = y \u0026amp; 1; A[0][i] = a; A[1][i] = b; x \u0026gt;\u0026gt;= 1; y \u0026gt;\u0026gt;= 1; } int res = A[0][1] ^ A[0][2] ^ A[1][1] ^ A[1][2]; if(!res) return false; if(n == 2) return true; res = A[0][2] ^ A[0][3] ^ A[1][2] ^ A[1][3]; return res; } int main(){ file_read(); scanf(\u0026#34;%d%d\u0026#34;, \u0026amp;n, \u0026amp;m); if(n == 1 || m == 1) { puts(\u0026#34;0\u0026#34;); return 0; } if(n \u0026gt;= 4 and m \u0026gt;= 4) { puts(\u0026#34;-1\u0026#34;); return 0; } if(n \u0026lt;= m) { for(int i = 1; i \u0026lt;= n; i++) scanf(\u0026#34;%s\u0026#34;, s[i]+1); } else { for(int i = 1; i \u0026lt;= n; i++) { char t[10]; scanf(\u0026#34;%s\u0026#34;, t+1); for(int j = 1; j \u0026lt;= m; j++) { s[j][i] = t[j]; } } swap(n, m); } // n \u0026lt;= m; mset(dp, 0x3f); int up = n == 2 ? 4 : 8; for(int i = 0; i \u0026lt; up; i++) { for(int j = 0; j \u0026lt; up; j++) { if(check(i, j)) dp[2][j] = min(dp[2][j], cost(1, i)+cost(2, j)); } } for(int i = 3; i \u0026lt;= m; i++) { for(int x = 0; x \u0026lt; up; x++) { for(int y = 0; y \u0026lt; up; y++) { if(check(x, y)) dp[i][y] = min(dp[i][y], dp[i-1][x]+cost(i, y)); } } } int res = inf; for(int i = 0; i \u0026lt; up; i++ ) { res = min(res, dp[m][i]); } printf(\u0026#34;%d\\n\u0026#34;, res); } E é¢˜æ„\nç»™ä¸€ä¸ªæ— å‘å›¾è¿é€šå›¾ï¼Œæœ‰$n$ä¸ªç‚¹ï¼Œæ±‚ä¸‹é¢ä»»æ„ä¸€ä¸ªï¼Œ\né•¿åº¦ä¸å°äº$\\lceil n \\rceil$ ä¸€ä¸ªä¸å°äº$\\lceil n \\rceil$çš„ç‚¹é›†ï¼Œä¸¤ä¸¤ç»„æˆpairï¼Œpairä¹‹é—´çš„ç”Ÿæˆå›¾è¾¹æ•°ä¸å¤§äº2 Solution\nè¿™æ˜¯ä¸ªæ„é€ é¢˜ è€ƒè™‘åœ¨å›¾ä¸Šè·‘dfsåå¾—åˆ°çš„æ ‘ å¯¹äºä¸€ä¸ªèŠ‚ç‚¹ï¼Œé™¤äº†æ ‘è¾¹ï¼Œä¸ä¼šå­˜åœ¨å‘æ—è¾¹è¿çš„è¾¹ï¼Œåªæœ‰è¿å‘ç¥–å…ˆçš„è¾¹ å¦‚æœå­˜åœ¨ä¸€ä¸ªæ·±åº¦ä¸å°äº$\\lceil n \\rceil$ï¼Œç­”æ¡ˆå°±å­˜åœ¨äº† å¦åˆ™ï¼Œå¯¹äºæ¯ä¸ªæ·±åº¦ä¸¤ä¸¤pairï¼Œå¯¹äºä»»æ„çš„pairçš„ç”Ÿæˆå›¾éƒ½æ˜¯æ»¡è¶³è¦æ±‚çš„ã€‚å¯¹äºæ¯ä¸€å±‚ï¼Œæœ€å¤šåªå‰©ä¸€ä¸ªï¼Œè€Œä¸”æœ€å¤šæœ‰$\\lfloor n\\rfloor$,å› æ­¤ç‚¹é›†çš„å¤§å°ä¸å°äº$n-\\lfloor n \\rfloor$ #include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; // #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 2e6 + 50; #endif const int mod = 1e9+7; void file_read(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif } vector\u0026lt;int\u0026gt; G[MAX]; bool vis[MAX]; int dep[MAX]; vector\u0026lt;int\u0026gt; dep_set[MAX]; int p[MAX]; int pr[MAX]; void dfs(int u, int parent, int d) { dep[u] = d; vis[u] = 1; p[u] = parent; for(auto v : G[u]) { if(vis[v]) continue; dfs(v, u, d+1); } } int main(){ file_read(); int T; scanf(\u0026#34;%d\u0026#34;, \u0026amp;T); while (T--) { int n, m; scanf(\u0026#34;%d%d\u0026#34;, \u0026amp;n, \u0026amp;m); memset(vis, 0, sizeof(bool) * (n +50)); memset(dep, 0, sizeof(int) * (n+50)); memset(p, 0, sizeof(int) * (n+50)); for(int i = 1; i \u0026lt;= n; i++) G[i].clear(); for(int i = 1; i \u0026lt;= n; i++) dep_set[i].clear(); for(int i = 1; i \u0026lt;= m; i++) { int u, v; scanf(\u0026#34;%d%d\u0026#34;, \u0026amp;u, \u0026amp;v); G[u].push_back(v); G[v].push_back(u); } dfs(1, -1, 1); int Max = -1, id = -1; for(int i = 1; i \u0026lt;= n; i++) { if(dep[i] \u0026gt; Max) { Max = dep[i]; id = i; } } if(Max * 2 \u0026gt;= n) { puts(\u0026#34;PATH\u0026#34;); vector\u0026lt;int\u0026gt; ans; int u = id; while(u != -1) { ans.push_back(u); u = p[u]; } printf(\u0026#34;%d\\n\u0026#34;, ans.size()); for(auto x: ans) printf(\u0026#34;%d \u0026#34;, x); puts(\u0026#34;\u0026#34;); continue; } for(int i = 1; i \u0026lt;= n; i++) { dep_set[dep[i]].push_back(i); } puts(\u0026#34;PAIRING\u0026#34;); vector\u0026lt;P\u0026gt; ans; for(int k = 1; k \u0026lt;= Max; k++) { for(int i = 0; i+1 \u0026lt; dep_set[k].size(); i+=2) { ans.emplace_back(dep_set[k][i], dep_set[k][i+1]); } } printf(\u0026#34;%d\\n\u0026#34;, ans.size()); for(auto p : ans ) printf(\u0026#34;%d %d\\n\u0026#34;, p.first, p.second); } return 0; } A B A B\n","permalink":"https://Anlarry.github.io/posts/acm-icpc/codeforces-round-663/","summary":"\u003ch1 id=\"codeforces-round-663\"\u003eCodeforces Round #663\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"http://codeforces.com/contest/1391\"\u003ehttp://codeforces.com/contest/1391\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"c\"\u003eC\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eé¢˜æ„\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eå¯¹äºä¸€ä¸ªæ’åˆ—${p_1, p_2, \\dots, p_n}$ï¼Œå¯¹äºæ¯ä¸ªæ•°å­—$p_i$ï¼Œå‘å‰æ‰¾ç¬¬ä¸€ä¸ªå¤§äº$p_i$çš„$p_j$ï¼Œ$i$å’Œ$j$è¿ä¸€æ¡è¾¹ï¼Œå‘ååŒç†ã€‚æ±‚å¤šå°‘ç§æ’åˆ—ç”Ÿæˆçš„å›¾æ˜¯æœ‰ç¯çš„\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå¯¹äº$p_i$ï¼Œå¦‚æœå­˜åœ¨$p_j\u0026gt;p_i(j\u0026lt;i)$, $p_k\u0026gt;p_i(k\u0026gt;i)$ï¼Œé‚£ä¹ˆå°±æ˜¯å­˜åœ¨ç¯çš„\u003c/li\u003e\n\u003cli\u003eé‚£ä¹ˆå¯¹äº$\\forall i$éƒ½ä¸æˆç«‹æ—¶ï¼Œå°±æ²¡æœ‰ç¯\u003c/li\u003e\n\u003cli\u003eæ­¤æ—¶å°±æ˜¯åºåˆ—çš„ç‰¹ç‚¹å°±æ˜¯,æ•°å­—$n$å·¦è¾¹å’Œå³è¾¹å‘ä¸¤è¾¹é€’å‡\u003c/li\u003e\n\u003cli\u003eå› æ­¤æ’åˆ—æ•°å°±æ˜¯$n!-2^{n-1}$\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-cpp\" data-lang=\"cpp\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdio\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;stack\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;set\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cmath\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;time.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;string\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstring\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;algorithm\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdlib\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;queue\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iomanip\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cassert\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define P pair\u0026lt;int, int\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LL long long\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LD long double\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PLL pair\u0026lt;LL, LL\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define mset(a, b) memset(a, b, sizeof(a))\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define rep(i, a, b) for (int i = a; i \u0026lt; b; i++)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PI acos(-1.0)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define random(x) rand() % x\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eusing\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e std;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e LL inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2e3\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#else\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2e6\u003c/span\u003e  \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e9\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efile_read\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    freopen(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    file_read();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL n;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%lld\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003en);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL fact \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(LL i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        fact \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e fact \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e mod;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL pow2 \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        pow2 \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pow2 \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e mod;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (fact \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e pow2) \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e mod;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(res \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e) res \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e mod;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%lld\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, res);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"d\"\u003eD\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eé¢˜æ„\u003c/strong\u003e\u003c/p\u003e","title":"Codeforces Round #663"},{"content":"Codeforces Round #660 https://codeforces.com/contest/1388\nE é¢˜æ„\nå¹³é¢ä¸Šæœ‰ä¸€äº›çº¿æ®µï¼Œå°†ä»–ä»¬æŠ•å½±åˆ°$x$è½´ä¸Šï¼Œä½¿å¾—å½¼æ­¤ä¸æƒ³äº¤(ä½†æ˜¯å¯ä»¥æŒ¨ç€)ï¼Œè®¾æœ€å·¦è¾¹çš„ç‚¹å’Œæœ€å³è¾¹çš„ç‚¹çš„æ¨ªåæ ‡åˆ†åˆ«æ˜¯$x_l, x_r$ï¼Œ æ±‚$min{x_r-x_l}$\nSolution\né¦–å…ˆå¯¹äºä¸¤ä¸ªçº¿æ®µ$s_1, s_2$, å¹¶ä¸”$s_1.y \u0026lt; s_2.y$, äº¤å‰è¿æ¥ä»–ä»¬çš„å·¦å³ç«¯ç‚¹ï¼Œå¾—åˆ°ä¸€ä¸ªå‘é‡é›†åˆ$bound$ï¼Œå¯¹æŠ•å½±å‘é‡é™åˆ¶é™åˆ¶ã€‚ å› æ­¤å…ˆä¸¤ä¸¤æšä¸¾ï¼Œå¾—åˆ°æŠ•å½±å‘é‡çš„å¯è¡Œçš„å–å€¼ã€‚\nè€Œä¸”æœ€ä¼˜çš„æŠ•å½±å‘é‡ï¼Œæ˜¯é›†åˆ$bound$ä¸­çš„æŸä¸€é¡¹\nå› æ­¤ï¼Œå¯¹å‰©ä¸‹çš„å¯è¡Œçš„æŠ•å½±å‘é‡, å‡è®¾å½“å‰æšä¸¾çš„æ–¹å‘æ˜¯$k_i$ï¼Œè®¡ç®—\n$$ max{x_j+y_jKi}-min{x_j+y_jk_i} $$\nè®¡ç®—è¿™ä¸ªå¼å­å¯ä»¥ç”¨Convex hull trick, ç„¶åä¸æ–­æ›´æ–°ans\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; #include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;bitset\u0026gt; #include \u0026lt;unordered_map\u0026gt; #include \u0026lt;assert.h\u0026gt; #include \u0026lt;list\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 1e3 + 50; #else const int MAX = 1e6 + 50; #endif const int mod = 998244353; void file_read(){ #ifdef DEBUG freopen64(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif } struct Seg { double xl, xr, y; Seg(double xl, double xr, double y) : xl(xl), xr(xr), y(y) {} }; vector\u0026lt;Seg\u0026gt; seg; vector\u0026lt;pair\u0026lt;double, double\u0026gt;\u0026gt; bd; void bound() { for(int i = 0; i \u0026lt; seg.size(); i++) { for(int j = i+1; j \u0026lt; seg.size(); j++) { if(seg[i].y == seg[j].y) continue; auto s1 = seg[i]; auto s2 = seg[j]; if(s1.y \u0026gt; s2.y) swap(s1, s2); double beta1 = (s1.xr - s2.xl) / (s2.y - s1.y); double beta2 = (s1.xl - s2.xr) / (s2.y - s1.y); bd.emplace_back(beta2, beta1); } } } void filter(vector\u0026lt;double\u0026gt; \u0026amp;theta) { double cur = -__64inf; for(auto x : bd) { if(x.first \u0026gt;= cur) { theta.push_back(x.first); if(cur \u0026gt; -__64inf) theta.push_back(cur); } cur = max(cur, x.second); } theta.push_back(cur); } double cross(pair\u0026lt;double, double\u0026gt; A, pair\u0026lt;double, double\u0026gt; B) { return (A.first - B.first) / (B.second - A.second); } template\u0026lt;typename Cmp_1, typename Cmp_2\u0026gt; struct Convex { int top; vector\u0026lt;pair\u0026lt;double, double\u0026gt;\u0026gt; pts; vector\u0026lt;double\u0026gt; X; pair\u0026lt;double, double\u0026gt; stk[3000]; Cmp_1 cmp_1; Cmp_2 cmp_2; Convex(vector\u0026lt;Seg\u0026gt; \u0026amp;seg) : cmp_1(Cmp_1()), cmp_2(Cmp_2()) { for(auto s : seg) { pts.emplace_back(s.xl, s.y); pts.emplace_back(s.xr, s.y); } sort(pts.begin(), pts.end(), [this](const pair\u0026lt;double, double\u0026gt; \u0026amp;A, const pair\u0026lt;double, double\u0026gt; \u0026amp;B){ if(abs(A.second - B.second) \u0026lt; 1e-8 ) return this-\u0026gt;cmp_1(A.first, B.first);//return A.first \u0026lt; B.first; // return A.second \u0026gt; B.second; return this-\u0026gt;cmp_2(A.second, B.second); }); int i = 0; top = 0; stk[top++] = pts[0]; while(i \u0026lt; pts.size() and abs(pts[i].second-pts[0].second) \u0026lt; 1e-8) i++; if(i == pts.size()) { X.push_back(-__64inf); return ; } stk[top++] = pts[i++]; while(i \u0026lt; pts.size()) { int j = i; while(j \u0026lt; pts.size() and abs(pts[j].second-pts[i].second) \u0026lt; 1e-8) j++; if(j == pts.size()) break; auto cur = pts[j]; while(top \u0026gt;= 2) { double cross_x = cross(stk[top-1], stk[top-2]); double cross_cur = cross(cur, stk[top-2]); if(cross_cur \u0026lt; cross_x) top--; else break; } stk[top++] = cur; i = j+1; } X.push_back(-__64inf); for(int i = 1; i \u0026lt; top; i++) { X.push_back(cross(stk[i-1], stk[i])); } } double query(double a) { int idx = lower_bound(X.begin(), X.end(), a)- X.begin(); idx--; return stk[idx].first + stk[idx].second * a; } }; struct Less { bool operator () (double A, double B) { return A \u0026lt; B; } }; struct Great { bool operator () (double A, double B) { return A \u0026gt; B; } }; int main(){ #ifdef DEBUG freopen64(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif int n; scanf(\u0026#34;%d\u0026#34;, \u0026amp;n); set\u0026lt;double\u0026gt; Y; for(int i = 0; i \u0026lt; n; i++) { double xl, xr, y; scanf(\u0026#34;%lf%lf%lf\u0026#34;, \u0026amp;xl, \u0026amp;xr, \u0026amp;y) ; seg.emplace_back(xl, xr, y); Y.insert(y); } if(Y.size() == 1) { double Min = __64inf, Max = -__64inf; for(auto s : seg) { Min = min(s.xl, Min); Max = max(Max, s.xr); } printf(\u0026#34;%.10f\\n\u0026#34;, Max-Min); return 0; } bound(); vector\u0026lt;double\u0026gt; theta; sort(bd.begin(), bd.end()); filter(theta); #ifdef DEBUG for(auto t : theta) printf(\u0026#34;%.2f \u0026#34;, t); puts(\u0026#34;\u0026#34;); #endif double ans = __64inf; Convex\u0026lt;Less, Great\u0026gt; left(seg); Convex\u0026lt;Great, Less\u0026gt; right(seg); for(auto x : theta) { double l = left.query(x); double r = right.query(x); ans = min(ans, r-l); } printf(\u0026#34;%.10f\\n\u0026#34;, ans); } A B C D A B C D\n","permalink":"https://Anlarry.github.io/posts/acm-icpc/codeforces-round-660/","summary":"\u003ch1 id=\"codeforces-round-660\"\u003eCodeforces Round #660\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://codeforces.com/contest/1388\"\u003ehttps://codeforces.com/contest/1388\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"e\"\u003eE\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eé¢˜æ„\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eå¹³é¢ä¸Šæœ‰ä¸€äº›çº¿æ®µï¼Œå°†ä»–ä»¬æŠ•å½±åˆ°$x$è½´ä¸Šï¼Œä½¿å¾—å½¼æ­¤ä¸æƒ³äº¤(ä½†æ˜¯å¯ä»¥æŒ¨ç€)ï¼Œè®¾æœ€å·¦è¾¹çš„ç‚¹å’Œæœ€å³è¾¹çš„ç‚¹çš„æ¨ªåæ ‡åˆ†åˆ«æ˜¯$x_l, x_r$ï¼Œ\næ±‚$min{x_r-x_l}$\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eé¦–å…ˆå¯¹äºä¸¤ä¸ªçº¿æ®µ$s_1, s_2$, å¹¶ä¸”$s_1.y \u0026lt; s_2.y$, äº¤å‰è¿æ¥ä»–ä»¬çš„å·¦å³ç«¯ç‚¹ï¼Œå¾—åˆ°ä¸€ä¸ªå‘é‡é›†åˆ$bound$ï¼Œå¯¹æŠ•å½±å‘é‡é™åˆ¶é™åˆ¶ã€‚\nå› æ­¤å…ˆä¸¤ä¸¤æšä¸¾ï¼Œå¾—åˆ°æŠ•å½±å‘é‡çš„å¯è¡Œçš„å–å€¼ã€‚\u003c/p\u003e\n\u003cp\u003eè€Œä¸”æœ€ä¼˜çš„æŠ•å½±å‘é‡ï¼Œæ˜¯é›†åˆ$bound$ä¸­çš„æŸä¸€é¡¹\u003c/p\u003e\n\u003cp\u003eå› æ­¤ï¼Œå¯¹å‰©ä¸‹çš„å¯è¡Œçš„æŠ•å½±å‘é‡, å‡è®¾å½“å‰æšä¸¾çš„æ–¹å‘æ˜¯$k_i$ï¼Œè®¡ç®—\u003c/p\u003e\n\u003cp\u003e$$\nmax{x_j+y_jKi}-min{x_j+y_jk_i}\n$$\u003c/p\u003e\n\u003cp\u003eè®¡ç®—è¿™ä¸ªå¼å­å¯ä»¥ç”¨\u003ca href=\"http://wcipeg.com/wiki/Convex_hull_trick\"\u003eConvex hull trick\u003c/a\u003e, ç„¶åä¸æ–­æ›´æ–°\u003ccode\u003eans\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-cpp\" data-lang=\"cpp\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdio\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;stack\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;set\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cmath\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;time.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;string\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstring\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;algorithm\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;memory.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdlib\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;queue\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iomanip\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;bitset\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;unordered_map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;assert.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;list\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define P pair\u0026lt;int, int\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LL long long\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LD long double\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PLL pair\u0026lt;LL, LL\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define mset(a, b) memset(a, b, sizeof(a))\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define rep(i, a, b) for (int i = a; i \u0026lt; b; i++)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PI acos(-1.0)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define random(x) rand() % x\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eusing\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e std;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e LL __64inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e3\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#else\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e6\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e998244353\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efile_read\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    freopen64(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003estruct\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eSeg\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e xl, xr, y;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Seg(\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e xl, \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e xr, \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e y) \u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e xl(xl), xr(xr), y(y) {}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e};\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eSeg\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e seg;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003epair\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e, \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e bd;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ebound\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e seg.size(); i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; j \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e seg.size(); j\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(seg[i].y \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e seg[j].y) \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e s1 \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e seg[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e s2 \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e seg[j];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(s1.y \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e s2.y) swap(s1, s2);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e beta1 \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (s1.xr \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e s2.xl) \u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003e (s2.y \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e s1.y);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e beta2 \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (s1.xl \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e s2.xr) \u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003e (s2.y \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e s1.y);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            bd.emplace_back(beta2, beta1);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efilter\u003c/span\u003e(vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003etheta) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e cur \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e__64inf;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e x : bd) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(x.first \u003cspan style=\"color:#f92672\"\u003e\u0026gt;=\u003c/span\u003e cur) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            theta.push_back(x.first);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(cur \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e__64inf) theta.push_back(cur);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        cur \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e max(cur, x.second);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    theta.push_back(cur);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecross\u003c/span\u003e(pair\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e, \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e A, pair\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e, \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e B) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e (A.first \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e B.first) \u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003e (B.second \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e A.second);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003etemplate\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003etypename\u003c/span\u003e Cmp_1, \u003cspan style=\"color:#66d9ef\"\u003etypename\u003c/span\u003e Cmp_2\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003estruct\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eConvex\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e top;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003epair\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e, \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e pts;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e X;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    pair\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e, \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e stk[\u003cspan style=\"color:#ae81ff\"\u003e3000\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Cmp_1 cmp_1;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Cmp_2 cmp_2;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Convex(vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eSeg\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eseg) \u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e cmp_1(Cmp_1()), cmp_2(Cmp_2()) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e s : seg) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            pts.emplace_back(s.xl, s.y);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            pts.emplace_back(s.xr, s.y);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        sort(pts.begin(), pts.end(), [\u003cspan style=\"color:#66d9ef\"\u003ethis\u003c/span\u003e](\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e pair\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e, \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eA, \u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e pair\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e, \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eB){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(abs(A.second \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e  B.second) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e-8\u003c/span\u003e )  \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003ethis\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003ecmp_1(A.first, B.first);\u003cspan style=\"color:#75715e\"\u003e//return A.first \u0026lt; B.first;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e            \u003cspan style=\"color:#75715e\"\u003e// return A.second \u0026gt; B.second;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e            \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003ethis\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003ecmp_2(A.second, B.second);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        });\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        top \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        stk[top\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pts[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e pts.size() and abs(pts[i].second\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003epts[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e].second) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e-8\u003c/span\u003e) i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(i \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e pts.size()) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            X.push_back(\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e__64inf);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e ;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        stk[top\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pts[i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e pts.size()) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e i;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(j \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e pts.size() and abs(pts[j].second\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003epts[i].second) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e-8\u003c/span\u003e) j\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(j \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e pts.size()) \u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e cur \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pts[j];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(top \u003cspan style=\"color:#f92672\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e cross_x \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e cross(stk[top\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], stk[top\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e cross_cur \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e cross(cur, stk[top\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(cross_cur \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e cross_x) top\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            stk[top\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e cur;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e j\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        X.push_back(\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e__64inf);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e top; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            X.push_back(cross(stk[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], stk[i]));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003equery\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e a) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e idx \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e lower_bound(X.begin(), X.end(), a)\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e X.begin();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        idx\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e stk[idx].first \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e stk[idx].second \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e a;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e};\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003estruct\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eLess\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eoperator\u003c/span\u003e () (\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e A, \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e B)  {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e A \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e B;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e};\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003estruct\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eGreat\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eoperator\u003c/span\u003e () (\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e A, \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e B) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e A \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e B;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e};\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    freopen64(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003en);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    set\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e Y;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e xl, xr, y;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%lf%lf%lf\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003exl, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003exr, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003ey) ;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        seg.emplace_back(xl, xr, y);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        Y.insert(y);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(Y.size() \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e Min \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e __64inf, Max \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e__64inf;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e s : seg) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            Min \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e min(s.xl, Min);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            Max \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e max(Max, s.xr);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%.10f\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, Max\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003eMin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    bound();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e theta;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    sort(bd.begin(), bd.end());\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    filter(theta);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e t : theta)  printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%.2f \u0026#34;\u003c/span\u003e, t);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        puts(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e ans \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e __64inf;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Convex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eLess, Great\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e left(seg);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Convex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eGreat, Less\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e right(seg);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e x : theta) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e l \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e left.query(x);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e r \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e right.query(x);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        ans \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e min(ans, r\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003el);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%.10f\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, ans);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"a-b-c-d\"\u003eA B C D\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://codeforces.com/contest/1388/submission/88644307\"\u003eA\u003c/a\u003e\n\u003ca href=\"https://codeforces.com/contest/1388/submission/88645786/\"\u003eB\u003c/a\u003e\n\u003ca href=\"https://codeforces.com/contest/1388/submission/88678461/\"\u003eC\u003c/a\u003e\n\u003ca href=\"https://codeforces.com/contest/1388/submission/88747196/\"\u003eD\u003c/a\u003e\u003c/p\u003e","title":"Codeforces Round #660"},{"content":"nowcoder 2020 å¤šæ ¡ ç¬¬ä¸‰åœº E Two Matchings é¢˜æ„\nå¯ä»¥ç®€åŒ–é¢˜æ„ä¸ºï¼Œæ¯ä¸ªç‚¹æœ‰ä¸ªæƒé‡$w$ï¼Œä¸¤ä¸ªç‚¹$i,j$ç›¸è¿çš„ä»£ä»·$abs(w_i-w_j)$,æ‰¾ä¸¤ä¸ªæ²¡æœ‰é‡å çš„åŒ¹é…ä½¿å¾—ä»£ä»·æœ€å°\nSolution\nå…¶å®å°±æ˜¯åœ¨å°†æ•°å­—ç”¨é•¿åº¦ä¸ºå¶æ•°çš„ç¯è¿èµ·æ¥ï¼Œæ±‚æœ€å°ä»£ä»·ã€‚è¿›ä¸€æ­¥å¯ä»¥å‘ç°ï¼Œç¯ç”¨é•¿åº¦ä¸º4æˆ–6ï¼Œé•¿åº¦æ›´é•¿çš„ç¯å¯ä»¥è¢«åˆ†è§£è¾¾åˆ°æ›´å°çš„ä»£ä»·\nLL n; LL a[MAX]; LL dp[MAX][2]; LL four(const vector\u0026lt;LL\u0026gt; \u0026amp;a){ return 2LL * (a[3]-a[0]); } LL six(const vector\u0026lt;LL\u0026gt; \u0026amp;a){ return 2LL * (a[5]-a[0]); } int main(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif int T; scanf(\u0026#34;%d\u0026#34;, \u0026amp;T); while (T--) { cin \u0026gt;\u0026gt; n; for(int i = 0; i \u0026lt; n; i++) cin \u0026gt;\u0026gt; a[i]; sort(a, a+n); for(LL i = 0; i \u0026lt;= n; i++ ) dp[i][0] = dp[i][1] = __64inf; dp[3][0] = 2LL * (a[3]-a[0]); dp[5][0] = 2LL * (a[5]-a[0]); dp[7][0] = 2LL * (a[7]-a[4] + a[3] - a[0]); for(LL i = 9; i \u0026lt; n; i+=2){ dp[i][0] = min(dp[i-4][0], dp[i-4][1]) + four(vector\u0026lt;LL\u0026gt;({a[i-3], a[i-2], a[i-1], a[i]})); dp[i][1] = min(dp[i-6][0], dp[i-6][1]) + six(vector\u0026lt;LL\u0026gt;({a[i-5], a[i-4], a[i-3], a[i-2], a[i-1], a[i]})); } printf(\u0026#34;%d\\n\u0026#34;, min(dp[n-1][0], dp[n-1][1])); } } F Fraction Construction Problem é¢˜æ„\né—®æœ‰æ²¡æœ‰æ»¡è¶³$\\displaystyle\\frac{c}{d}-\\frac{e}{f}=\\frac{a}{b}$çš„$c,d,e,f$\nSolution\næ„Ÿè§‰æ˜¯åˆ†ç±»è®¨è®ºï¼Œç„¶åæ„é€ è§£\nvoid ex_gcd(LL a, LL b, LL \u0026amp;x, LL \u0026amp;y){ if(b == 0){ x = 1; y = 0; return; } ex_gcd(b, a % b, x, y); LL tmp = x; x = y; y = tmp - (a / b) * y; } LL p[MAX]; LL cnt[MAX]; vector\u0026lt;LL\u0026gt; prime; bool isprime[MAX]; void init(){ mset(isprime, 1); isprime[0] = isprime[1] = 0; for(int i = 2; i \u0026lt; MAX; i++){ if(isprime[i]) { prime.push_back(i); cnt[i] = 1; p[i] = i; } for(int j = 0; j \u0026lt; prime.size() and i * prime[j] \u0026lt; MAX; j++){ isprime[i * prime[j]] = 0; cnt[i * prime[j]] = i % prime[j] == 0 ? cnt[i] : cnt[i] + 1; p[i * prime[j]] = prime[j]; } } } int main(){ #ifdef DEBUG #else ios::sync_with_stdio(0); cin.tie(0); #endif init(); int T; cin \u0026gt;\u0026gt; T; while (T--) { LL a, b; cin \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b; LL g = __gcd(a, b); if(g \u0026gt; 1){ LL bb = b / g, aa = a / g; cout \u0026lt;\u0026lt; aa + 1 \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; bb \u0026lt;\u0026lt; \u0026#39; \u0026#39; \u0026lt;\u0026lt; 1 \u0026lt;\u0026lt; \u0026#39; \u0026#39; \u0026lt;\u0026lt; bb \u0026lt;\u0026lt; \u0026#39;\\n\u0026#39;; continue; } LL tmp = b; if(cnt[b] \u0026lt;= 1) { cout \u0026lt;\u0026lt; \u0026#34;-1 -1 -1 -1\\n\u0026#34;; continue; } LL d = 1; tmp = b; while(tmp % p[b] == 0) { tmp /= p[b]; d *= p[b]; } LL f = b / d; LL c, e; ex_gcd(f, d, c, e); if(c \u0026lt; 0) { LL t = - (c -d + 1) / d; c += t * d; e -= t * f; } e = -e; e *= a; c *= a; cout \u0026lt;\u0026lt; c \u0026lt;\u0026lt; \u0026#39; \u0026#39; \u0026lt;\u0026lt; d \u0026lt;\u0026lt; \u0026#39; \u0026#39; \u0026lt;\u0026lt; e \u0026lt;\u0026lt; \u0026#39; \u0026#39; \u0026lt;\u0026lt; f \u0026lt;\u0026lt; \u0026#39;\\n\u0026#39;; } } G Operating on a Graph é¢˜æ„\nç»™ä¸€ä¸ªå›¾ï¼Œä¸€å¼€å§‹æ¯ä¸ªç‚¹$i$,å±äº$i$ç±»ï¼Œæ¯æ¬¡æ“ä½œä¼šå§æŸä¸ªç±»$x$çš„ç›¸é‚»çš„ç±»å½’ä¸º$x$,æ±‚æœ€åæ¯ä¸ªç‚¹å±äºé‚£ä¸ªç±»\nSolution\nå¹¶æŸ¥é›†æ¨¡æ‹Ÿ\nlist\u0026lt;int\u0026gt; lk[MAX]; vector\u0026lt;int\u0026gt; G[MAX]; int fa[MAX]; int Find(int x) { return fa[x] == x ? x : fa[x] = Find(fa[x]); } int main(){ #ifdef DEBUG freopen64(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif int T; scanf(\u0026#34;%d\u0026#34;, \u0026amp;T); while (T--) { int n, m; scanf(\u0026#34;%d%d\u0026#34;,\u0026amp;n, \u0026amp;m); for(int i = 1; i \u0026lt;= n; i++){ G[i].clear(); fa[i] = i; lk[i].clear(); lk[i].push_back(i); } for(int i = 0; i \u0026lt; m; i++) { int u, v; scanf(\u0026#34;%d%d\u0026#34;, \u0026amp;u, \u0026amp;v); u++, v++; G[u].push_back(v); G[v].push_back(u); } int q; scanf(\u0026#34;%d\u0026#34;,\u0026amp;q); while (q--) { int o; scanf(\u0026#34;%d\u0026#34;, \u0026amp;o); o++; int siz = lk[o].size(); if(Find(o) != o) continue; for(int i = 0; i \u0026lt; siz; i++) { int cur = lk[o].front(); lk[o].pop_front(); for(int j = 0; j \u0026lt; G[cur].size(); j++) { int v = G[cur][j]; int pv = Find(v); if(pv != o) { fa[pv] = o; lk[o].splice(lk[o].end(), lk[pv]); } } } } for(int i = 1; i \u0026lt;= n; i++) printf(\u0026#34;%d \u0026#34;, Find(i)-1); puts(\u0026#34;\u0026#34;); } return 0; } ","permalink":"https://Anlarry.github.io/posts/acm-icpc/nowcoder-2020-%E5%A4%9A%E6%A0%A1-%E7%AC%AC%E4%B8%89%E5%9C%BA/","summary":"\u003ch1 id=\"nowcoder-2020-å¤šæ ¡-ç¬¬ä¸‰åœº\"\u003enowcoder 2020 å¤šæ ¡ ç¬¬ä¸‰åœº\u003c/h1\u003e\n\u003ch2 id=\"e-two-matchings\"\u003eE Two Matchings\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eé¢˜æ„\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eå¯ä»¥ç®€åŒ–é¢˜æ„ä¸ºï¼Œæ¯ä¸ªç‚¹æœ‰ä¸ªæƒé‡$w$ï¼Œä¸¤ä¸ªç‚¹$i,j$ç›¸è¿çš„ä»£ä»·$abs(w_i-w_j)$,æ‰¾ä¸¤ä¸ªæ²¡æœ‰é‡å çš„åŒ¹é…ä½¿å¾—ä»£ä»·æœ€å°\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eå…¶å®å°±æ˜¯åœ¨å°†æ•°å­—ç”¨é•¿åº¦ä¸ºå¶æ•°çš„ç¯è¿èµ·æ¥ï¼Œæ±‚æœ€å°ä»£ä»·ã€‚è¿›ä¸€æ­¥å¯ä»¥å‘ç°ï¼Œç¯ç”¨é•¿åº¦ä¸º4æˆ–6ï¼Œé•¿åº¦æ›´é•¿çš„ç¯å¯ä»¥è¢«åˆ†è§£è¾¾åˆ°æ›´å°çš„ä»£ä»·\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-cpp\" data-lang=\"cpp\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL n;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL a[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL dp[MAX][\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL \u003cspan style=\"color:#a6e22e\"\u003efour\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eLL\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003ea){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2LL\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e (a[\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ea[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL \u003cspan style=\"color:#a6e22e\"\u003esix\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eLL\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003ea){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2LL\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e (a[\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ea[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    freopen(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e T;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eT);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e (T\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        cin \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e n;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            cin \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e a[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        sort(a, a\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003en);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(LL i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e )\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            dp[i][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e dp[i][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e __64inf;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        dp[\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2LL\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e (a[\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ea[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        dp[\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2LL\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e (a[\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ea[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        dp[\u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2LL\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e (a[\u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ea[\u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e a[\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e a[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(LL i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e9\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            dp[i][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e min(dp[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], dp[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e four(vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eLL\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e({a[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e], a[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e], a[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], a[i]}));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            dp[i][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e min(dp[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], dp[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                six(vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eLL\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e({a[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e], a[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e], a[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e], a[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e], a[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], a[i]}));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, min(dp[n\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], dp[n\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e     \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"f---fraction-construction-problem\"\u003eF   Fraction Construction Problem\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eé¢˜æ„\u003c/strong\u003e\u003c/p\u003e","title":"nowcoder 2020 å¤šæ ¡ ç¬¬ä¸‰åœº"},{"content":"nowcoder 2020 å¤šæ ¡ ç¬¬äº”åœº https://ac.nowcoder.com/acm/contest/5670\nB Graph tireæ ‘ï¼Œæœ€å°ç”Ÿæˆæ ‘\né¢˜æ„ï¼š\nç»™ä¸€ä¸ªå¸¦æœ‰è¾¹æƒçš„æ ‘ï¼Œå¯ä»¥åˆ é™¤æˆ–æ·»åŠ è¾¹ï¼Œä½†è¦ä¿è¯ï¼š\nå›¾è”é€š ç¯ä¸Šè¾¹æƒå¼‚æˆ–ä¸º0 Solution\nä¸ç®¡æ€ä¹ˆæ“ä½œï¼Œä¸¤ç‚¹è·¯å¾„ä¸Šè¾¹æƒçš„å¼‚æˆ–å€¼æ˜¯å›ºå®šçš„ï¼Œäºæ˜¯é—®é¢˜å°±è½¬åŒ–æˆä¸€ä¸ªæœ€å°ç”Ÿæˆæ ‘é—®é¢˜ã€‚æ¯æ¬¡é€‰å‡ºä¸è”é€šçš„ç‚¹é›†$S_1$, $S_2$, å°†ä»–ä»¬è”é€šçš„ä»£ä»·æ˜¯\n$$ \\min\\limits_{u\\in S_1 v\\in S_2} {\\mathord{dis}(u,v)} $$\nå¯ä»¥é€šè¿‡tireæ ‘å®ç°è¿™ä¸ªè¿‡ç¨‹ï¼Œå°±æ˜¯tireæ ‘åˆå¹¶å­èŠ‚ç‚¹ï¼Œå¤æ‚åº¦ä¸º$O(n\\log n)$\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; #include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;bitset\u0026gt; #include \u0026lt;unordered_map\u0026gt; #include \u0026lt;assert.h\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 1e3 + 50; #else const int MAX = 3e6 + 50; #endif const int mod = 10007; LL pow2[100]; vector\u0026lt;P\u0026gt; G[MAX]; int dis[MAX]; struct Tire{ int nex[MAX][2]; int siz[MAX]; int tot ; LL ans; void init(){ ans = 0; siz[0] = 0; mset(nex[0], 0); tot = 1; } void add(int x, int d) { int rt = 0; for(int i = d; i \u0026gt;= 0; i--){ int e = x \u0026amp; pow2[i] ? 1 : 0; if(!nex[rt][e]) { mset(nex[tot], 0); siz[tot] = 0; nex[rt][e] = tot ++; } rt = nex[rt][e]; siz[rt] ++; } } LL query(int val, int u, int d) { int rt = u; LL res = val; for(int i = d; i \u0026gt;= 0; i--){ if(res \u0026amp; pow2[i]) { if(nex[rt][1]) { res ^= pow2[i]; rt = nex[rt][1]; } else rt = nex[rt][0]; } else { if(nex[rt][0]) { rt = nex[rt][0]; } else { res ^= pow2[i]; rt = nex[rt][1]; } } } return res; } LL merge(int l, int r, int val, int d, int row_d){ if(!nex[l][0] and !nex[l][1]) { return query(val, r, row_d); } LL res = inf; if(nex[l][0]) res = min(res, merge(nex[l][0], r, val, d-1, row_d)); if(nex[l][1]) res = min(res, merge(nex[l][1], r, val^pow2[d], d-1, row_d)); return res; } void dfs(int u, int val, int d) { if(nex[u][0]) dfs(nex[u][0], val, d-1); if(nex[u][1]) dfs(nex[u][1], val ^ pow2[d], d-1); if(!nex[u][0] or !nex[u][1]) return; int l = nex[u][0], r = nex[u][1]; if(siz[l] \u0026gt; siz[r]) swap(l, r); ans += 1LL * merge(l, r, 0, d-1, d-1) + pow2[d]; } }tire; void dfs(int u, int p, int d){ dis[u] = d; for(int i = 0; i \u0026lt; G[u].size(); i++){ int v = G[u][i].first; if(v == p) continue; dfs(v, u, d^G[u][i].second); } } int main(){ #ifdef DEBUG freopen64(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif pow2[0] = 1; for(int i = 1; i \u0026lt; 32; i++) pow2[i] = pow2[i-1] \u0026lt;\u0026lt; 1; int n; scanf(\u0026#34;%d\u0026#34;, \u0026amp;n); for(int i = 1; i \u0026lt; n; i++) { int u, v, c; scanf(\u0026#34;%d%d%d\u0026#34;, \u0026amp;u, \u0026amp;v, \u0026amp;c); u++, v++; G[u].emplace_back(v, c); G[v].emplace_back(u, c); } dfs(1, -1, 0); tire.init(); for(int i = 1; i \u0026lt;= n; i++) tire.add(dis[i], 29); tire.dfs(0, 0, 29); printf(\u0026#34;%lld\\n\u0026#34;, tire.ans); return 0; } D Drop Voicing æœ€é•¿ä¸Šå‡å­åºåˆ—\né¢˜æ„\nç»™ä¸€ä¸ªåºåˆ—$p_1\\dots p_n$ï¼Œå¯ä»¥è¿›è¡Œä¸¤ç§æ“ä½œï¼Œè¿›è¡Œè¿ç»­çš„ç¬¬ä¸€ä¸ªæ“ä½œè€—è´¹ä¸€ä¸ªä»£ä»·\næŠŠ$p_{n-1}$æ”¾åˆ°æœ€å‰é¢ $p_1$æ”¾åˆ°æœ€åé¢ æ±‚æŠŠåºåˆ—å˜æˆå‡åºçš„æœ€å°ä»£ä»·\nSolution\nç»“åˆä¸¤ç§æ“ä½œå…¶å®å°±æ˜¯æŠŠä¸€ä¸ªå…ƒç´ $p_i$ç§»åˆ°ä¸€ä¸ªä½ç½®ï¼Œéœ€è¦ä¸€ä¸ªä»£ä»·ã€‚äºæ˜¯å˜æˆæ±‚LIS\nint n; int a[MAX]; int b[MAX]; int solve(){ mset(b, 0); int ans = 0; for(int i = 1; i \u0026lt;= n; i++) { int idx = lower_bound(b, b+ans, a[i]) - b; b[idx] = a[i]; if(idx == ans) ans ++; } // cout \u0026lt;\u0026lt; n - ans \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; return ans; } int main(){ #ifdef DEBUG freopen64(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #else ios::sync_with_stdio(0); cin.tie(0); #endif cin \u0026gt;\u0026gt; n; for(int i = 1; i \u0026lt;= n; i++) cin \u0026gt;\u0026gt; a[i]; int ans = 0; for(int i = 0; i \u0026lt; n; i++) { rotate(a+1, a+2, a+n+1); ans = max(ans, solve()); } cout \u0026lt;\u0026lt; n - ans \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; return 0; } E Bogo Sort é¢˜æ„\nç»™ä¸€ä¸ªç½®æ¢ï¼Œæ±‚æœ‰å¤šå°‘ç§æ’åˆ—å¯ä»¥é€šè¿‡è¿™ä¸ªç½®æ¢å˜æˆå‡åº\nfrom math import gcd def lcm(a:int, b:int) -\u0026gt;int: return a * b // gcd(a, b) n = int(input()) a = [0] + list(map(int, input().split())) vis = [False for i in range(len(a))] ans = 1 for i in range(1, n+1): x = a[i] if vis[x] : continue cur = 0 while not vis[x] : vis[x] = True cur += 1 x = a[x] ans = lcm(ans, cur) print(ans) ","permalink":"https://Anlarry.github.io/posts/acm-icpc/nowcoder-2020-%E5%A4%9A%E6%A0%A1-%E7%AC%AC%E4%BA%94%E5%9C%BA/","summary":"\u003ch1 id=\"nowcoder-2020-å¤šæ ¡-ç¬¬äº”åœº\"\u003enowcoder 2020 å¤šæ ¡ ç¬¬äº”åœº\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://ac.nowcoder.com/acm/contest/5670\"\u003ehttps://ac.nowcoder.com/acm/contest/5670\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"b-graph\"\u003eB Graph\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003etireæ ‘ï¼Œæœ€å°ç”Ÿæˆæ ‘\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003e\u003cstrong\u003eé¢˜æ„\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cp\u003eç»™ä¸€ä¸ªå¸¦æœ‰è¾¹æƒçš„æ ‘ï¼Œå¯ä»¥åˆ é™¤æˆ–æ·»åŠ è¾¹ï¼Œä½†è¦ä¿è¯ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå›¾è”é€š\u003c/li\u003e\n\u003cli\u003eç¯ä¸Šè¾¹æƒå¼‚æˆ–ä¸º0\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eä¸ç®¡æ€ä¹ˆæ“ä½œï¼Œä¸¤ç‚¹è·¯å¾„ä¸Šè¾¹æƒçš„å¼‚æˆ–å€¼æ˜¯å›ºå®šçš„ï¼Œäºæ˜¯é—®é¢˜å°±è½¬åŒ–æˆä¸€ä¸ªæœ€å°ç”Ÿæˆæ ‘é—®é¢˜ã€‚æ¯æ¬¡é€‰å‡ºä¸è”é€šçš„ç‚¹é›†$S_1$, $S_2$,\nå°†ä»–ä»¬è”é€šçš„ä»£ä»·æ˜¯\u003c/p\u003e\n\u003cp\u003e$$\n\\min\\limits_{u\\in S_1 v\\in S_2} {\\mathord{dis}(u,v)}\n$$\u003c/p\u003e\n\u003cp\u003eå¯ä»¥é€šè¿‡tireæ ‘å®ç°è¿™ä¸ªè¿‡ç¨‹ï¼Œå°±æ˜¯tireæ ‘åˆå¹¶å­èŠ‚ç‚¹ï¼Œå¤æ‚åº¦ä¸º$O(n\\log n)$\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-cpp\" data-lang=\"cpp\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdio\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;stack\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;set\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cmath\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;time.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;string\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstring\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;algorithm\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;memory.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdlib\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;queue\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iomanip\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;bitset\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;unordered_map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;assert.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define P pair\u0026lt;int, int\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LL long long\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LD long double\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PLL pair\u0026lt;LL, LL\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define mset(a, b) memset(a, b, sizeof(a))\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define rep(i, a, b) for (int i = a; i \u0026lt; b; i++)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PI acos(-1.0)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define random(x) rand() % x\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eusing\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e std;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e LL __64inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e3\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#else\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e3e6\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e10007\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL pow2[\u003cspan style=\"color:#ae81ff\"\u003e100\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003eP\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e G[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e dis[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003estruct\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eTire\u003c/span\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e nex[MAX][\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e siz[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e tot ;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL ans;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003einit\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        ans \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        siz[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        mset(nex[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        tot \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eadd\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e x, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e d) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e rt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e d; i \u003cspan style=\"color:#f92672\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e x \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e pow2[i] \u003cspan style=\"color:#f92672\"\u003e?\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003enex[rt][e]) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                mset(nex[tot], \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                siz[tot] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                nex[rt][e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e tot \u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            rt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e nex[rt][e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            siz[rt] \u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL \u003cspan style=\"color:#a6e22e\"\u003equery\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e val, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e d) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e rt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e u;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        LL res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e val;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e d; i \u003cspan style=\"color:#f92672\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(res \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e pow2[i]) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(nex[rt][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    res \u003cspan style=\"color:#f92672\"\u003e^=\u003c/span\u003e pow2[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    rt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e nex[rt][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e rt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e nex[rt][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(nex[rt][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    rt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e nex[rt][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    res \u003cspan style=\"color:#f92672\"\u003e^=\u003c/span\u003e pow2[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    rt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e nex[rt][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL \u003cspan style=\"color:#a6e22e\"\u003emerge\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e l, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e r, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e val, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e d, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e row_d){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003enex[l][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] and \u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003enex[l][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e query(val, r, row_d);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        LL res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e inf;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(nex[l][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]) res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e min(res, merge(nex[l][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], r, val, d\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, row_d));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(nex[l][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]) res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e min(res, merge(nex[l][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], r, val\u003cspan style=\"color:#f92672\"\u003e^\u003c/span\u003epow2[d], d\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, row_d));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003edfs\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e val, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e d) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(nex[u][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]) dfs(nex[u][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], val, d\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(nex[u][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]) dfs(nex[u][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], val \u003cspan style=\"color:#f92672\"\u003e^\u003c/span\u003e pow2[d], d\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003enex[u][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] or \u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003enex[u][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]) \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e l \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e nex[u][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], r \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e nex[u][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(siz[l] \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e siz[r]) swap(l, r);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        ans \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1LL\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e merge(l, r, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, d\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, d\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e pow2[d];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}tire;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003edfs\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e p, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e d){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    dis[u] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e d;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e G[u].size(); i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e v \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e G[u][i].first;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(v \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e p) \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        dfs(v, u, d\u003cspan style=\"color:#f92672\"\u003e^\u003c/span\u003eG[u][i].second);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    freopen64(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    pow2[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e32\u003c/span\u003e; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) pow2[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pow2[i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003en);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u, v, c;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d%d%d\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eu, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003ev, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003ec);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        u\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e, v\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        G[u].emplace_back(v, c);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        G[v].emplace_back(u, c);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    dfs(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    tire.init();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        tire.add(dis[i], \u003cspan style=\"color:#ae81ff\"\u003e29\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    tire.dfs(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e29\u003c/span\u003e);  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%lld\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, tire.ans);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"d-drop-voicing\"\u003eD Drop Voicing\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæœ€é•¿ä¸Šå‡å­åºåˆ—\u003c/p\u003e","title":"nowcoder 2020 å¤šæ ¡ ç¬¬äº”åœº"},{"content":"POJ 3376 tire + manacher\né¢˜æ„ http://poj.org/problem?id=3376 ç»™$n$ä¸ªä¸²ï¼Œä¸¤ä¸¤è¿æ¥ï¼Œä¸€å…±$n^2$ç§ï¼Œæ±‚å…¶ä¸­æœ‰å¤šå°‘æ˜¯å›æ–‡ï¼Œ å­—ç¬¦ä¸²çš„é•¿åº¦å’Œå°äº$2e6$\nSolution åœ¨è€ƒè™‘ç¬¬$i$ä¸ªä¸²$t$å’Œå¤šå°‘ä¸ªä¸²$s$æ‹¼æ¥æ˜¯å›æ–‡æ—¶ï¼Œè®¡ç®—$s+t$æ˜¯å›æ–‡çš„æ•°é‡ï¼Œå°†æ‰€æœ‰æ•°é‡ç´¯åŠ å°±æ˜¯æœ€ç»ˆçš„å›æ–‡æ•°ã€‚\né¦–å…ˆè€ƒè™‘ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä¸¤ä¸ªä¸²æ‹¼æ¥ä¼šæ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚\ncase 1ï¼š s=reverse(t)\n$$ \\begin{cases} s = a_0\\dots a_{n-1} \\newline t = a_{n-1}\\dots a_0 \\end{cases} $$\ncase 2\n$$ \\begin{cases} \\begin{matrix} \u0026amp;\\mathrm{palindrome} \\newline s = a_0\\dots a_i \u0026amp;\\overbrace{a_{i+1}\\dots a_{n-1}} \\end{matrix} \\newline \\newline t = a_i\\dots a_0 \\end{cases} $$ ä»¥åŠå¯¹ç§°çš„æƒ…å†µ $$ \\begin{cases} s = a_{n-1}\\dots a_i \\newline \\begin{matrix} \\ \\ \\ \\ \\ \\mathrm{palindrome} \u0026amp;\\newline t = \\overbrace{a_0\\dots a_{i-1}} \u0026amp;a_i\\dots a_{n-1} \\end{matrix} \\end{cases} $$\nå› æ­¤å¯ä»¥å¯¹æ¯ä¸ªä¸²ï¼Œæ±‚å‡ºå‰ç¼€å’Œåç¼€æ˜¯å¦æ˜¯å›æ–‡ã€‚æŠŠæ‰€æœ‰çš„ä¸²æ”¾åˆ°tireæ ‘ä¸Šï¼Œç»Ÿè®¡ç­”æ¡ˆã€‚\nç”¨stlå¯èƒ½ä¼šTLE\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; //#include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;cassert\u0026gt; // #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e6 + 50; #else const int MAX = 2e6 + 50; #endif const int mod = 998244353; int str_len[MAX]; char str[MAX\u0026lt;\u0026lt;1]; char* str_p[MAX]; int sufix_palin[MAX]; int prefix_parlin[MAX]; int *sufix_palin_p[MAX]; int *prefix_parlin_p[MAX]; int radius[MAX]; int n; int zero; int palin; struct Tire { int tot; int nex[MAX][26]; int siz[MAX]; int _siz[MAX]; int rest_palin[MAX]; void init(){ tot = 1; mset(nex[0], 0); siz[0] = 0; _siz[0] = 0; rest_palin[0] = 0; } void add(const int idx, char *s){ int last = 0; int rt = 0; for(int i = 0; i \u0026lt; str_len[idx]; i++){ int c = s[i] - \u0026#39;a\u0026#39;; if(!nex[rt][c] ){ mset(nex[tot], 0); siz[tot] = 0; _siz[tot] = 0; rest_palin[tot] = 0; nex[rt][c] = tot ++; } last = rt; rt = nex[rt][c]; if(i + 2 == str_len[idx]) _siz[rt]++; if(sufix_palin_p[idx][i]){ rest_palin[last]++; } } siz[rt]++; } int* operator [] (int idx){ return nex[idx]; } }tire; string manacherStr(int len, char *s){ string res = \u0026#34;#\u0026#34;; for(int i = 0; i \u0026lt; len; i++){ res += s[i]; res += \u0026#39;#\u0026#39;; } return res; } void solve(const int idx, char *s){ if(str_len[idx] == 0) return ; int R = -1; int C = -1; int Max = -1; string str = manacherStr(str_len[idx], s); for(int i = 0; i \u0026lt; str.size(); i++){ radius[i] = R \u0026gt; i ? min(radius[2*C-i], R-i+1) : 1; while(i + radius[i] \u0026lt; str.size() and i - radius[i] \u0026gt; -1) { if(str[i-radius[i]] == str[i+radius[i]]) radius[i]++; else break; } if(i + radius[i] \u0026gt; R) { R = i + radius[i]-1; C = i; } Max = max(Max, radius[i]); } if(Max - 1 == str_len[idx]) palin++; for(int i = 1; i+1 \u0026lt; str.size(); i++){ if(str[i] == \u0026#39;#\u0026#39;) { int len = radius[i]-1; int r = len / 2; int start_idx = (i-2) / 2 - r + 1; if(start_idx + len - 1 == str_len[idx]-1) sufix_palin_p[idx][start_idx] = 1; if(start_idx == 0) prefix_parlin_p[idx][start_idx+len-1] = 1; } else { int len = radius[i]-1; int r = len / 2; int start_idx = (i-1)/2 - r; if(start_idx + len - 1 == str_len[idx]-1) sufix_palin_p[idx][start_idx] = 1; if(start_idx == 0) prefix_parlin_p[idx][start_idx+len-1] = 1; } } } LL calcu(const int idx, char* s){ int rt = 0; LL res = 0; for(int i = str_len[idx]-1; i \u0026gt;= 0; i--){ int c = s[i] - \u0026#39;a\u0026#39;; rt = tire[rt][c] ; if(!rt) break; if(i == 0){ res += (LL)tire.siz[rt]; res += (LL)tire.rest_palin[rt]; } else if(i \u0026gt;= 1 and prefix_parlin_p[idx][i-1]){ res += (LL)tire.siz[rt]; } } return res; } int main(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif tire.init(); scanf(\u0026#34;%d\u0026#34;, \u0026amp;n); int cur = 0; for(int i = 0; i \u0026lt; n; i++) { int x; scanf(\u0026#34;%d%s\u0026#34;, \u0026amp;x, \u0026amp;str[cur]); zero += x == 0; str_p[i] = str+cur; str_len[i] = x; prefix_parlin_p[i] = prefix_parlin+cur; sufix_palin_p[i] = sufix_palin +cur; cur += x; } for(int i = 0; i \u0026lt; n; i++){ solve(i, str_p[i]); } for(int i = 0; i \u0026lt; n; i++) tire.add(i, str_p[i]); LL ans = 0; tire.rest_palin[0] = tire.siz[0] = 0; for(int i = 0; i \u0026lt; n; i++){ #ifdef DEBUG printf(\u0026#34;debug i:%d calcu:%d\\n\u0026#34;, i, calcu(i, str_p[i])); #endif ans += 1LL * calcu(i, str_p[i]); } ans += 1LL * zero * zero; ans += 1LL * zero * palin * 2; #ifdef DEBUG for(int i = 0; i \u0026lt; n; i++){ for(int j = 0; j \u0026lt; str_len[i]; j++) cout \u0026lt;\u0026lt; prefix_parlin_p[i][j] \u0026lt;\u0026lt; \u0026#34; \u0026#34;; puts(\u0026#34;\u0026#34;); for(int j = 0; j \u0026lt; str_len[i]; j++) cout \u0026lt;\u0026lt; sufix_palin_p[i][j] \u0026lt;\u0026lt; \u0026#34; \u0026#34; ; puts(\u0026#34;\\n\u0026#34;); } #endif printf(\u0026#34;%lld\\n\u0026#34;, ans); return 0; } ","permalink":"https://Anlarry.github.io/posts/acm-icpc/poj-3376/","summary":"\u003ch1 id=\"poj-3376\"\u003ePOJ 3376\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003etire + manacher\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"é¢˜æ„\"\u003eé¢˜æ„\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"http://poj.org/problem?id=3376\"\u003ehttp://poj.org/problem?id=3376\u003c/a\u003e\nç»™$n$ä¸ªä¸²ï¼Œä¸¤ä¸¤è¿æ¥ï¼Œä¸€å…±$n^2$ç§ï¼Œæ±‚å…¶ä¸­æœ‰å¤šå°‘æ˜¯å›æ–‡ï¼Œ å­—ç¬¦ä¸²çš„é•¿åº¦å’Œå°äº$2e6$\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"solution\"\u003eSolution\u003c/h2\u003e\n\u003cp\u003eåœ¨è€ƒè™‘ç¬¬$i$ä¸ªä¸²$t$å’Œå¤šå°‘ä¸ªä¸²$s$æ‹¼æ¥æ˜¯å›æ–‡æ—¶ï¼Œè®¡ç®—$s+t$æ˜¯å›æ–‡çš„æ•°é‡ï¼Œå°†æ‰€æœ‰æ•°é‡ç´¯åŠ å°±æ˜¯æœ€ç»ˆçš„å›æ–‡æ•°ã€‚\u003c/p\u003e\n\u003cp\u003eé¦–å…ˆè€ƒè™‘ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä¸¤ä¸ªä¸²æ‹¼æ¥ä¼šæ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003ecase 1ï¼š s=reverse(t)\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e$$\n\\begin{cases}\ns =  a_0\\dots a_{n-1} \\newline\nt = a_{n-1}\\dots a_0\n\\end{cases}\n$$\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003ecase 2\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e$$\n\\begin{cases}\n\\begin{matrix}\n\u0026amp;\\mathrm{palindrome} \\newline\ns = a_0\\dots a_i \u0026amp;\\overbrace{a_{i+1}\\dots a_{n-1}}\n\\end{matrix} \\newline \\newline\nt = a_i\\dots a_0\n\\end{cases}\n$$\nä»¥åŠå¯¹ç§°çš„æƒ…å†µ\n$$\n\\begin{cases}\ns = a_{n-1}\\dots a_i \\newline\n\\begin{matrix}\n\\ \\ \\ \\ \\  \\mathrm{palindrome} \u0026amp;\\newline\nt = \\overbrace{a_0\\dots a_{i-1}} \u0026amp;a_i\\dots a_{n-1}\n\\end{matrix}\n\\end{cases}\n$$\u003c/p\u003e","title":"POJ 3376"},{"content":"nowcoder 2020 å¤šæ ¡ ç¬¬äºŒåœº https://ac.nowcoder.com/acm/contest/5667\nA All with Pairs é¢˜æ„\nç»™$n$ä¸ªä¸²ï¼Œå®šä¹‰$f(s,t)$ä¸º$s$å‰ç¼€å’Œ$t$åç¼€æœ€é•¿çš„é•¿åº¦ï¼Œæ±‚$\\sum_i\\sum_j f(s_i, s_j)^2$\nSolution\nå…ˆæŠŠæ¯ä¸ªä¸²çš„åç¼€hashçš„å€¼å­˜ä¸‹æ¥ï¼Œå¯¹æ¯ä¸ªä¸²$s_i$,æ±‚$\\sum_j f(s_i, s_j)^2$ã€‚å¯¹äº$s_i$çš„æ¯ä¸ªå‰ç¼€éƒ½å¯ä»¥æŸ¥è¯¢hashæ±‚å‡º å¯¹åº”å¤šå°‘åç¼€ï¼Œä½†æ˜¯æœ‰å¯èƒ½ä¸€å¯¹$s_i, s_j$ä¼šæœ‰å¤šä¸ªè´¡çŒ®ï¼Œå› æ­¤è¦ç”¨nextæ•°ç»„å»é‡\nconst unsigned long long base = 131; // vector\u0026lt;string\u0026gt; str; string str[MAX]; unordered_map\u0026lt;unsigned long long, int\u0026gt; mp; int nex[MAX]; int cnt[MAX]; void get_hash(const string \u0026amp;s){ unsigned long long res = 0; unsigned long long p = 1; for(int i = s.size()-1; i \u0026gt;= 0; i--){ // unsigned long long x = s[i] - \u0026#39;a\u0026#39;+1; res += (s[i]-\u0026#39;a\u0026#39;+1) * p; p *= base; mp[res]++; } } void get_next(const string \u0026amp;t){ nex[0] = -1; int k = -1; for(int i = 1; i \u0026lt; t.size(); i++){ while(k \u0026gt; -1 and t[k+1] != t[i]) k = nex[k]; if(t[k+1] == t[i]) k++; nex[i] = k; } } int main(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif int n; scanf(\u0026#34;%d\u0026#34;, \u0026amp;n); // cin \u0026gt;\u0026gt; n; for(int i = 0; i \u0026lt; n; i++){ // string s; cin \u0026gt;\u0026gt; str[i]; // str.push_back(s); get_hash(str[i]); } LL ans = 0; for(int i = 0; i \u0026lt; n; i++){ unsigned long long cur_has = 0 ; for(int j = 0; j \u0026lt; str[i].size(); j++){ cur_has = cur_has * base + (str[i][j] - \u0026#39;a\u0026#39; + 1); // cnt[j] = mp[cur_has]; auto it = mp.find(cur_has); if(it != mp.end()) cnt[j] = it-\u0026gt;second; else cnt[j] = 0; } get_next(str[i]); for(int j = 1; j \u0026lt; str[i].size(); j++){ if(nex[j] \u0026gt;= 0) cnt[nex[j]] -= cnt[j]; } for(LL j = 0; j \u0026lt; str[i].size(); j++){ ans = (ans + 1LL * cnt[j] * (j+1LL) % mod * (j+1LL) % mod) % mod; } } printf(\u0026#34;%lld\\n\u0026#34;, ans); // cout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; \u0026#39;\\n\u0026#39;; } B Boundary é¢˜æ„\nåœ†æ˜¯è¿‡åŸç‚¹çš„ï¼Œé€‰ä¸€ä¸ªèƒ½ç»è¿‡æœ€å¤šç‚¹çš„åœ†\nP pts[5000]; // map\u0026lt;tuple\u0026lt;LL, LL, LL, LL\u0026gt;, int\u0026gt; cnt; vector\u0026lt;pair\u0026lt;double, double\u0026gt;\u0026gt; p; void update(LL x1, LL y1, LL x2, LL y2){ LL cir_x1 = (x1*x1 + y1*y1) * y2 - (x2*x2 + y2*y2) * y1; LL cir_x2 = 2 * (x1 * y2 - x2 * y1); LL cir_y1 = (x2*x2 + y2*y2) * x1 - (x1*x1 + y1*y1) * x2; LL cir_y2 = 2 * (x1 * y2 - x2 * y1); if(cir_x2 == 0) return ; p.push_back(make_pair(1.0 * cir_x1 / cir_x2, 1.0 * cir_y1 / cir_y2)); } int main(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif int n; scanf(\u0026#34;%d\u0026#34;, \u0026amp;n); for(int i = 1; i \u0026lt;= n; i++){ scanf(\u0026#34;%d%d\u0026#34;, \u0026amp;pts[i].first, \u0026amp;pts[i].second); } if(n \u0026lt;= 2) { printf(\u0026#34;%d\\n\u0026#34;, n); return 0; } for(int i = 1; i \u0026lt;= n; i++){ for(int j = 1; j \u0026lt; i; j++){ update(pts[i].first, pts[i].second, pts[j].first, pts[j].second); } } sort(p.begin(), p.end()); if(p.size() == 0){ printf(\u0026#34;%d\\n\u0026#34;, 1); return 0; } pair\u0026lt;double, double\u0026gt; cur = p[0]; int ans = 0, tmp = 0; for(int i = 0; i \u0026lt; p.size(); i++){ if(p[i] == cur) {tmp++; ans = max(ans, tmp);} else { cur = p[i]; tmp = 1; ans = max(ans, tmp); } } ans *= 2; int res ; for(int i = 1; i \u0026lt;= n; i++){ int cur = i; if(cur * (cur-1) == ans) { res = cur; break; } } printf(\u0026#34;%d\\n\u0026#34;, res); } F Fake Maxpooling é¢˜æ„\nç»™ä¸€ä¸ªçŸ©é˜µï¼Œ$A_{i,j}=lcm(i,j)$ï¼Œåœ¨æ¯ä¸ª$k\\times k$å­çŸ©é˜µä¸­é€‰å‡ºæœ€å¤§çš„å…ƒç´ æ±‚å’Œ\nSolution\nç»´æŠ¤æ¨ªç«–çš„å•è°ƒé˜Ÿåˆ—ï¼Œæˆ–è€…æš´åŠ›\nint k; struct stk { P stack[5050]; int lenth; int start_idx; int front; stk() : lenth(0), start_idx(0), front(0) {} void push(int x, int idx){ while(!empty() and top() \u0026lt; x) { pop(); } stack[lenth++] = {x, idx}; start_idx = idx; } int max(){ while(!empty() and stack[front].second \u0026lt; start_idx - k + 1) front ++; return stack[front].first; } int top(){ return stack[lenth-1].first; } void pop(){ lenth--; } bool empty(){ return lenth == front; } void clear(){ lenth = 0; front = 0; start_idx = 0; } }; inline int A(int x, int y){ return x * y / __gcd(x, y); } stk col_stk[5050]; stk row_stk; int main(){ #ifdef DEBUG freopen64(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif int n, m; scanf(\u0026#34;%d%d%d\u0026#34;, \u0026amp;n, \u0026amp;m, \u0026amp;k); for(int i = 1; i \u0026lt;= m; i++){ for(int j = 1; j \u0026lt; k; j++){ col_stk[i].push(A(i, j), j); } } LL ans = 0; for(int i = 1; i \u0026lt;= n-k+1; i++){ for(int j = 1; j \u0026lt;= m; j++){ col_stk[j].push(A(i+k-1,j), i+k-1); } for(int j = 1; j \u0026lt; k; j++){ row_stk.push(col_stk[j].max(), j); } for(int j = k; j \u0026lt;= m; j++){ row_stk.push(col_stk[j].max(), j); ans += (LL) row_stk.max(); } row_stk.clear(); } printf(\u0026#34;%lld\\n\u0026#34;, ans); return 0; } G Greater and Greater é¢˜æ„\nç»™ä¸€ä¸ªé•¿åº¦ä¸º$n$çš„åºåˆ—A, å’Œä¸€ä¸ªé•¿åº¦ä½$m$çš„åºåˆ—Bï¼Œæ±‚Aæœ‰å¤šå°‘ä½ç½®å¯¹åº”å…ƒç´ éƒ½å¤§äºB\nSolution\nè€ƒè™‘bitsetï¼Œ$f(i, j)$è¡¨ç¤ºåºåˆ—Aä½ç½®$i$,åºåˆ—Bä½ç½®$j$ï¼Œåé¢çš„å…ƒç´ Aå¯¹åº”å¤§äºBï¼Œè¦æ±‚çš„å°±æ˜¯$\\sum f(i, 1)$\nA : 1 4 2 8 5 7 B : 2 3 3 æ¯”å¦‚$f(3, 1)$å¯ä»¥é€šè¿‡$f(4, 2)$è½¬ç§»è¿‡æ¥ï¼Œ$f(3, 2)$å¯ä»¥ç”¨$f(4, 3)$è½¬ç§»è¿‡æ¥ï¼Œ$f(3, 3)$ç›´æ¥æ¯”è¾ƒA[3],B[3]ï¼Œå¯ä»¥å‘ç°è¿™äº›è½¬ç§»éƒ½è¦æ¯”è¾ƒA[3],B[i]\næ‰€ä»¥å¯¹æ¯ä¸ªA[i]æ±‚ä¸€ä¸ªæ–°çš„bitset\\ Sï¼ŒA[i]å¤§äºB[j]ç¬¬$j$ä½å°±ä¸º1\nè½¬ç§»å°±æ˜¯ $f_i=(f_{i+1}\u0026raquo;1 | I_m) \u0026amp; S_i$\nint a[MAX], b[MAX]; P A[MAX], B[MAX]; vector\u0026lt;bitset\u0026lt;N\u0026gt;\u0026gt; bits; int idx[MAX]; int main(){ #ifdef DEBUG freopen64(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif int n, m; scanf(\u0026#34;%d%d\u0026#34;, \u0026amp;n, \u0026amp;m); for(int i = 1; i \u0026lt;= n; i++) { scanf(\u0026#34;%d\u0026#34;, \u0026amp;a[i]); A[i] = make_pair(a[i], i); } for(int i = 1; i \u0026lt;= m; i++){ scanf(\u0026#34;%d\u0026#34;, \u0026amp;b[i]); B[i] = make_pair(b[i], i); } sort(A+1, A+1+n); sort(B+1, B+1+m); int i = 1, j = 0; bitset\u0026lt;N\u0026gt; cur; bits.push_back(cur); while(i \u0026lt;= n){ bool new_bit = 0; while(j \u0026lt; m \u0026amp;\u0026amp; A[i].first \u0026gt;= B[j+1].first){ new_bit = 1; cur[B[j+1].second] = 1; j++; } if(new_bit) { bits.push_back(cur); } idx[A[i].second] = bits.size()-1; i++; } bitset\u0026lt;N\u0026gt; f; int ans = 0; for(int i = n; i \u0026gt;= 1; i--){ f \u0026gt;\u0026gt;= 1; f[m] = 1; f \u0026amp;= bits[idx[i]]; ans += f[1]; } printf(\u0026#34;%d\\n\u0026#34;, ans); } J Just Shuffle é¢˜æ„\nè¦æ±‚ä¸€ä¸ªç½®æ¢$P$ï¼Œä½¿å¾—${1,2,\\dots,n}$åœ¨$P$ç½®æ¢$k$æ¬¡åæˆä¸ºæ’åˆ—$A$\nkæ˜¯ç´ æ•°\nSolution\nå°±æ˜¯è¯´$A=P^k$,å·²çŸ¥$A,k$ï¼Œæ±‚$P$ã€‚æŠŠ$A$åˆ†è§£æˆ$(cir_1)(cir_2)\\dots$ï¼Œå¯¹æ¯ä¸ªå¾ªç¯$cir$,æˆ‘ä»¬çŸ¥é“$P^k(cir_i)=cir_{i+1}$ã€‚\næˆ‘ä»¬æƒ³è®©$cir_i$ç½®æ¢$sk$æ¬¡ï¼Œè®©$sk\\ mod\\ len(cir)=1$ï¼Œå°±å¯ä»¥æ±‚å‡º$P(cir_i)$\nint a[MAX]; int ans[MAX]; bool vis[MAX]; void extend_Euclid(int a, int b, int \u0026amp;x, int \u0026amp;y) { if(b == 0){ x = 1; y = 0; return; } extend_Euclid(b, a % b, x, y); int tmp = x; x = y; y = tmp - (a / b) * y; } int main(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;,stdin); #endif int n, k; scanf(\u0026#34;%d%d\u0026#34;, \u0026amp;n, \u0026amp;k); for(int i = 1; i \u0026lt;= n; i++){ scanf(\u0026#34;%d\u0026#34;, \u0026amp;a[i]); } for(int i = 1; i \u0026lt;= n; i++){ if(vis[i]) continue; vector\u0026lt;int\u0026gt; cir; int x = i; while(!vis[x]) { cir.push_back(x); vis[x] = 1; x = a[x]; } int s = k % cir.size(); int y = 1; int w, m; extend_Euclid(s, cir.size(), w, m); if(w \u0026lt; 0) { int ww = -w; int tmp = (ww + cir.size() -1) / cir.size(); w += tmp * cir.size(); } y = w; // while(s * y % cir.size() != 1){ // y ++; // // printf(\u0026#34;%d\u0026#34;, s * y % cir.size()); // } for(int j = 0; j \u0026lt; cir.size(); j++){ ans[cir[j]] = cir[(j+y)%cir.size()]; } } for(int i = 1; i \u0026lt;= n; i++) printf(\u0026#34;%d \u0026#34;, ans[i]); puts(\u0026#34;\u0026#34;); return 0; } ","permalink":"https://Anlarry.github.io/posts/acm-icpc/nowcoder-2020-%E5%A4%9A%E6%A0%A1-%E7%AC%AC%E4%BA%8C%E5%9C%BA/","summary":"\u003ch1 id=\"nowcoder-2020-å¤šæ ¡-ç¬¬äºŒåœº\"\u003enowcoder 2020 å¤šæ ¡ ç¬¬äºŒåœº\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://ac.nowcoder.com/acm/contest/5667\"\u003ehttps://ac.nowcoder.com/acm/contest/5667\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"a-all-with-pairs\"\u003eA All with Pairs\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eé¢˜æ„\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eç»™$n$ä¸ªä¸²ï¼Œå®šä¹‰$f(s,t)$ä¸º$s$å‰ç¼€å’Œ$t$åç¼€æœ€é•¿çš„é•¿åº¦ï¼Œæ±‚$\\sum_i\\sum_j f(s_i, s_j)^2$\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eå…ˆæŠŠæ¯ä¸ªä¸²çš„åç¼€hashçš„å€¼å­˜ä¸‹æ¥ï¼Œå¯¹æ¯ä¸ªä¸²$s_i$,æ±‚$\\sum_j f(s_i, s_j)^2$ã€‚å¯¹äº$s_i$çš„æ¯ä¸ªå‰ç¼€éƒ½å¯ä»¥æŸ¥è¯¢hashæ±‚å‡º\nå¯¹åº”å¤šå°‘åç¼€ï¼Œä½†æ˜¯æœ‰å¯èƒ½ä¸€å¯¹$s_i, s_j$ä¼šæœ‰å¤šä¸ªè´¡çŒ®ï¼Œå› æ­¤è¦ç”¨nextæ•°ç»„å»é‡\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-cpp\" data-lang=\"cpp\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eunsigned\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003elong\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003elong\u003c/span\u003e base \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e131\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e// vector\u0026lt;string\u0026gt; str;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003estring str[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eunordered_map\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eunsigned\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003elong\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003elong\u003c/span\u003e, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e mp;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e nex[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e cnt[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eget_hash\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e string \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003es){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eunsigned\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003elong\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003elong\u003c/span\u003e res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eunsigned\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003elong\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003elong\u003c/span\u003e p \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e s.size()\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e// unsigned long long x = s[i] - \u0026#39;a\u0026#39;+1;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e        res \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e (s[i]\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e p;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        p \u003cspan style=\"color:#f92672\"\u003e*=\u003c/span\u003e base;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        mp[res]\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eget_next\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e string \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003et){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    nex[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;   \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e k \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e t.size(); i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(k \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e and t[k\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e t[i])   \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            k \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e nex[k];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(t[k\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e t[i]) k\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        nex[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e k;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    freopen(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003en);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// cin \u0026gt;\u0026gt; n;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e// string s;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e        cin \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e str[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e// str.push_back(s);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e        get_hash(str[i]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL ans \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eunsigned\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003elong\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003elong\u003c/span\u003e cur_has \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e ;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; j \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e str[i].size(); j\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            cur_has \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e cur_has \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e base \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e (str[i][j] \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#75715e\"\u003e// cnt[j] = mp[cur_has];\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e            \u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e it \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e mp.find(cur_has);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(it \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e mp.end()) cnt[j] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e it\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003esecond;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e cnt[j] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        get_next(str[i]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; j \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e str[i].size(); j\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(nex[j] \u003cspan style=\"color:#f92672\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            cnt[nex[j]] \u003cspan style=\"color:#f92672\"\u003e-=\u003c/span\u003e cnt[j];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(LL j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; j \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e str[i].size(); j\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            ans \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (ans \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1LL\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e cnt[j] \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e (j\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1LL\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e (j\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1LL\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e mod) \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e mod;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%lld\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, ans);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// cout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; \u0026#39;\\n\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"b-boundary\"\u003eB Boundary\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eé¢˜æ„\u003c/strong\u003e\u003c/p\u003e","title":"nowcoder 2020 å¤šæ ¡ ç¬¬äºŒåœº"},{"content":"AtCoder-Sum of gcd of Tuples (Hard) é¢˜æ„ https://atcoder.jp/contests/abc162/tasks/abc162_e\næ±‚$\\sum\\gcd(a_1,a_2,\\cdots,a_n)$,å…¶ä¸­$a_i\\in[1,K]$\nSolution ç›´æ¥è®¡ç®—è‚¯å®šæ˜¯ä¸å¥½è®¡ç®—çš„ï¼Œå¯ä»¥è€ƒè™‘æŒ‰$gcd$çš„å€¼è¿›è¡Œåˆ†ç±»ï¼Œé—®é¢˜å°±è½¬åŒ–ä¸ºä¸€ä¸ªè®¡æ•°é—®é¢˜\n$\\displaystyle \\gcd(a,b)=d\\Rightarrow\\gcd(\\frac{a}{d},\\frac{b}{d})=1$\n$\\displaystyle {\\gcd(a_1,\\cdots, a_n)=dçš„æ•°é‡}={\\gcd(\\frac{a_1}{d},\\cdots,\\frac{a_n}{d})=1çš„æ•°é‡}$\né‚£ä¹ˆï¼Œ\n$$ Ans=\\sum_{d=1}^{K}dF(\\lfloor\\frac{K}{d}\\rfloor, N) $$\nå…¶ä¸­$F(K,N)$è¡¨ç¤º$\\gcd(a_1,\\cdots,a_N)=1$çš„ä¸ªæ•°ï¼Œ$a_i\\in[1,K]$\nå¯ä»¥ç”¨å®¹æ–¥ç®—å‡º$\\displaystyle F(K,N)=K^N-\\sum_{i=1}^{K}F(\\lfloor\\frac{K}{i}\\rfloor)$\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; #include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; // #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 1e6 + 50; #else const int MAX = 1e6 + 50; #endif const int mod = 1e9 + 7; LL N,K; LL f[MAX]; LL fact[MAX]; inline LL add(LL x, LL y){ LL res = x + y; return res \u0026gt;= mod ? res - mod : res; } inline LL qpow(LL x, LL n){ LL res = 1; while (n) { if(n \u0026amp;1) res = res * x % mod; x = x * x % mod; n \u0026gt;\u0026gt;= 1; } return res; } LL F(LL K, LL N){ if(f[K]) return f[K]; LL \u0026amp;res =f[K]; if(K==1){ return res = 1; } // res = qpow(K, N); res = fact[K]; for(LL i = 2, j; i \u0026lt;= K; i=j+1){ j = K/(K/i); // res = add(res, mod-F(K/i, N)); LL tmp = (j-i+1LL) * F(K/i, N) % mod; res = add(res, mod-tmp); } return res; } int main(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif scanf(\u0026#34;%lld%lld\u0026#34;, \u0026amp;N, \u0026amp;K); for(LL i = 1; i \u0026lt;= K; i++) fact[i] = qpow(i, N); LL ans = 0; f[1] = 1LL; for(LL k= 1; k \u0026lt;= K; k++){ F(k, N); } for(LL i = 1, j; i \u0026lt;= K; i++){ ans += f[K/i] % mod * i % mod; if(ans \u0026gt;= mod) ans -= mod; } printf(\u0026#34;%lld\\n\u0026#34;, ans); } ","permalink":"https://Anlarry.github.io/posts/acm-icpc/atcoder-sum-of-gcd-of-tuples/","summary":"\u003ch1 id=\"atcoder-sum-of-gcd-of-tuples-hard\"\u003eAtCoder-Sum of gcd of Tuples (Hard)\u003c/h1\u003e\n\u003ch2 id=\"é¢˜æ„\"\u003eé¢˜æ„\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://atcoder.jp/contests/abc162/tasks/abc162_e\"\u003ehttps://atcoder.jp/contests/abc162/tasks/abc162_e\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003eæ±‚$\\sum\\gcd(a_1,a_2,\\cdots,a_n)$,å…¶ä¸­$a_i\\in[1,K]$\u003c/p\u003e\n\u003ch2 id=\"solution\"\u003eSolution\u003c/h2\u003e\n\u003cp\u003eç›´æ¥è®¡ç®—è‚¯å®šæ˜¯ä¸å¥½è®¡ç®—çš„ï¼Œå¯ä»¥è€ƒè™‘æŒ‰$gcd$çš„å€¼è¿›è¡Œåˆ†ç±»ï¼Œé—®é¢˜å°±è½¬åŒ–ä¸ºä¸€ä¸ªè®¡æ•°é—®é¢˜\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e$\\displaystyle \\gcd(a,b)=d\\Rightarrow\\gcd(\\frac{a}{d},\\frac{b}{d})=1$\u003c/p\u003e\n\u003cp\u003e$\\displaystyle {\\gcd(a_1,\\cdots, a_n)=dçš„æ•°é‡}={\\gcd(\\frac{a_1}{d},\\cdots,\\frac{a_n}{d})=1çš„æ•°é‡}$\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003eé‚£ä¹ˆï¼Œ\u003c/p\u003e\n\u003cp\u003e$$\nAns=\\sum_{d=1}^{K}dF(\\lfloor\\frac{K}{d}\\rfloor, N)\n$$\u003c/p\u003e\n\u003cp\u003eå…¶ä¸­$F(K,N)$è¡¨ç¤º$\\gcd(a_1,\\cdots,a_N)=1$çš„ä¸ªæ•°ï¼Œ$a_i\\in[1,K]$\u003c/p\u003e\n\u003cp\u003eå¯ä»¥ç”¨å®¹æ–¥ç®—å‡º$\\displaystyle F(K,N)=K^N-\\sum_{i=1}^{K}F(\\lfloor\\frac{K}{i}\\rfloor)$\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-c++\" data-lang=\"c++\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdio\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;stack\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;set\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cmath\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;time.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;string\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstring\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;algorithm\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;memory.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdlib\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;queue\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iomanip\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e// #include \u0026lt;unordered_map\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e#define P pair\u0026lt;int, int\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LL long long\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LD long double\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PLL pair\u0026lt;LL, LL\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define mset(a, b) memset(a, b, sizeof(a))\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define rep(i, a, b) for (int i = a; i \u0026lt; b; i++)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PI acos(-1.0)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define random(x) rand() % x\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eusing\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e std;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e LL __64inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e6\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#else\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e6\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e9\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL N,K;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL f[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL fact[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003einline\u003c/span\u003e LL \u003cspan style=\"color:#a6e22e\"\u003eadd\u003c/span\u003e(LL x, LL y){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e x \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e y;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res \u003cspan style=\"color:#f92672\"\u003e\u0026gt;=\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e?\u003c/span\u003e res \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e mod : res;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003einline\u003c/span\u003e LL \u003cspan style=\"color:#a6e22e\"\u003eqpow\u003c/span\u003e(LL x, LL n){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e (n)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(n \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e res \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e x \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e mod;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        x \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e x \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e x \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e mod;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        n \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL \u003cspan style=\"color:#a6e22e\"\u003eF\u003c/span\u003e(LL K, LL N){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(f[K]) \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e f[K];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eres \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003ef[K];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(K\u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// res = qpow(K, N);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e fact[K];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(LL i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e, j; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e K; i\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003ej\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e K\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003e(K\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003ei);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e// res = add(res, mod-F(K/i, N));\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e        LL tmp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (j\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ei\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1LL\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e F(K\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003ei, N) \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e mod;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e add(res, mod\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003etmp);                                                                    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    freopen(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%lld%lld\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eN, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eK);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(LL i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e K; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        fact[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e qpow(i, N);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL ans \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    f[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1LL\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(LL k\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; k \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e K; k\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        F(k, N);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(LL i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, j; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e K; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        ans \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e  f[K\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003ei] \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e mod;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(ans \u003cspan style=\"color:#f92672\"\u003e\u0026gt;=\u003c/span\u003e mod)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            ans \u003cspan style=\"color:#f92672\"\u003e-=\u003c/span\u003e mod;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%lld\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, ans);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"AtCoder-Sum of gcd of Tuples"},{"content":"arch lab Download archlab-handout\nå®‰è£…æ¨¡æ‹Ÿå™¨ è§£å†³undefined reference to â€™matherrâ€˜\nå‚è€ƒ Y86-64æ¨¡æ‹Ÿå™¨çš„å®‰è£…ä¸å‡ºç°å¯¹\u0026rsquo;matherr\u0026rsquo;æœªå®šä¹‰å¼•ç”¨é—®é¢˜çš„è§£å†³\nPart A åœ¨è¿™éƒ¨åˆ†è¦åœ¨sim/miscä¸­å®Œæˆï¼Œæˆ‘ä»¬è¦ç¼–å†™å’Œæ¨¡æ‹Ÿä¸‰ä¸ªY86-64ç¨‹åº\nsum.ysï¼š éå†é“¾è¡¨æ±‚å’Œ\n# begin at 0 .pos 0 irmovq stack,%rsp call main halt .align 8 ele1: .quad 0x00a .quad ele2 ele2: .quad 0x0b0 .quad ele3 ele3: .quad 0xc00 .quad 0 main: irmovq ele1,%rdi call rsum ret rsum: xorq %rax,%rax andq %rdi,%rdi je L1 pushq %rbx mrmovq (%rdi),%rbx mrmovq 8(%rdi),%rdi call rsum addq %rbx,%rax popq %rbx L1: ret .pos 0x200 stack: ç”¨YASç¼–è¯‘åï¼Œå†ç”¨YISè¿è¡Œ\nlinux\u0026gt; make *.yo inux\u0026gt; ../misc/yis *.yo rsum.ys: ç”¨é€’å½’çš„æ–¹å¼æ±‚å’Œ\n# begin at 0 .pos 0 irmovq stack,%rsp call main halt .align 8 ele1: .quad 0x00a .quad ele2 ele2: .quad 0x0b0 .quad ele3 ele3: .quad 0xc00 .quad 0 main: irmovq ele1,%rdi call rsum ret rsum: xorq %rax,%rax andq %rdi,%rdi je L1 pushq %rbx mrmovq (%rdi),%rbx mrmovq 8(%rdi),%rdi call rsum addq %rbx,%rax popq %rbx L1: ret .pos 0x200 stack: copy.ys: å°†srcå¤åˆ¶åˆ°dst\n# begin at 0 .pos 0 irmovq stack,%rsp call main halt .align 8 src: .quad 0x00a .quad 0x0b0 .quad 0xc00 # Destination block dest: .quad 0x111 .quad 0x222 .quad 0x333 main: irmovq src,%rdi irmovq dest,%rsi irmovq $3,%rdx call copy_block ret copy_block: xorq %rax, %rax irmovq $1,%r14 irmovq $8,%r13 pushq %rbx andq %rdx,%rdx jmp test loop: mrmovq (%rdi),%rbx addq %r13,%rdi rmmovq %rbx,(%rsi) addq %r13,%rsi xorq %rbx,%rax subq %r14,%rdx test: jne loop popq %rbx ret .pos 0x200 stack: Part B è¿™éƒ¨åˆ†åœ¨sim/seqå®Œæˆï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹seq-full.hclï¼Œ ç»™SEQæ·»åŠ iaddqæŒ‡ä»¤\nseq-full.hcl\nç„¶åæ ¹æ®æ–‡æ¡£æµ‹è¯•\n./ssim -t ../y86-code/asumi.yo (cd ../y86-code; make testssim) (cd ../ptest; make SIM=../seq/ssim) (cd ../ptest; make SIM=../seq/ssim TFLAGS=-i) æµ‹è¯•å‡æˆåŠŸ\nPart C è¿™éƒ¨åˆ†è¦åœ¨sim/pipeä¸­å®Œæˆ\næˆ‘ä»¬çš„ç›®çš„æ˜¯ä¼˜åŒ–ncopyï¼Œç„¶ä»–æ›´å¿«å®Œæˆï¼Œä¼šæ ¹æ®CPEç»™å‡ºä¸€ä¸ªåˆ†æ•°\nStep1\næ·»åŠ iaddqï¼ˆç±»ä¼¼äºPartBï¼‰ï¼Œç„¶åæµ‹è¯•\nunix\u0026gt; make psim VERSION=full unix\u0026gt; ./psim -t sdriver.yo unix\u0026gt; ./psim -t ldriver.yo unix\u0026gt; ./correctness.pl unix\u0026gt; ./benchmark.pl ç„¶è€Œç«Ÿç„¶è¿˜æ˜¯0.0/60.0ï¼Œæ­¤æ—¶CPEå¤§æ¦‚å¯ä»¥è¾¾åˆ°11å·¦å³ï¼Œå¯æ˜¯ä»10.5æ‰å¼€å§‹è®°åˆ†\nStep2\nè€ƒè™‘å¾ªç¯å±•å¼€ï¼Œå°†å¾ªç¯å±•å¼€8æ¬¡ï¼Œåˆ†æ•°å¤§æ¦‚å¯ä»¥æé«˜åˆ°40å¤š\nå¾ªç¯å±•å¼€åï¼Œå°±å¯ä»¥æ”¹å˜æŒ‡ä»¤æ‰§è¡Œçš„é¡ºåºï¼Œé¿å…æ•°æ®å†’é™©\nmrmovq (%rdi),%r8 rmmovq %r8,(%rsi) è¿™æ ·ä¼šæœ‰ä¸€ä¸ªæ°”æ³¡ï¼Œå¦‚æœå…ˆæŠŠ8ä¸ªæ•°æ®éƒ½æ”¾åˆ°å¯„å­˜å™¨ï¼Œåœ¨æ”¾åˆ°ç›®æ ‡åœ°å€å°±å¯ä»¥æ¶ˆé™¤æ°”æ³¡ï¼Œé™ä½æ‰§è¡Œçš„å‘¨æœŸæ•°\nStep3\nç„¶è€Œè¿˜æœ‰å‰©ä¸‹çš„ä½™æ•°æ²¡æœ‰å¤„ç†ï¼Œå¯ä»¥è€ƒè™‘å°†å‰©ä¸‹çš„ä½™æ•°å†å¾ªç¯å±•å¼€ä¸€æ¬¡ï¼Œæ­¤æ—¶å·²ç»æœ‰50å¤šåˆ†äº†\nStep4\nå°†å¾ªç¯å±•å¼€çš„æ¬¡æ•°æé«˜åˆ°10æ¬¡ï¼Œé‚£ä¹ˆæ€§èƒ½ä¼šæé«˜ä¸€ç‚¹ï¼Œä½†ä¸æ˜¯å¾ˆæ˜æ˜¾\nä¼˜åŒ–ä½™æ•°çš„å¤„ç†æ–¹æ³•ï¼Œæœ€ç»ˆå¯ä»¥å°†åˆ†æ•°æé«˜åˆ°56.1,å¹³å‡CPE=7.69, ncopy length= 847 bytes\nåº”è¯¥è¿˜å¯ä»¥ä¼˜åŒ–pipe-full.hclï¼Œncopy.yså› è¯¥ä¹Ÿè¿˜æœ‰æé«˜çš„ç©ºé—´ï¼Œä»¥ååœ¨è¡¥ä¸Šã€‚ã€‚ã€‚\nncopy.ys\nncopy: xorq %rax,%rax\t# count = 0 iaddq $-10,%rdx # jl L2\t# if so, goto Done: ## if so, goto Loop Loop:\tmrmovq (%rdi), %r8 mrmovq 0x8(%rdi), %r9 mrmovq 0x10(%rdi), %r10 mrmovq 0x18(%rdi), %r11 mrmovq 0x20(%rdi), %r12 mrmovq 0x28(%rdi), %r13 mrmovq 0x30(%rdi), %r14 mrmovq 0x38(%rdi), %rcx mrmovq 0x40(%rdi), %rbx mrmovq 0x48(%rdi), %rbp andq %r8,%r8 rmmovq %r8, (%rsi) rmmovq %r9, 8(%rsi) rmmovq %rbx, 0x40(%rsi) rmmovq %rbp, 0x48(%rsi) jle L1_2 iaddq $1, %rax L1_2: andq %r9,%r9 jle L1_3 iaddq $1, %rax L1_3: andq %r10,%r10 rmmovq %r10, 0x10(%rsi) rmmovq %r11, 0x18(%rsi) jle L1_4 iaddq $1, %rax L1_4: andq %r11,%r11 jle L1_5 iaddq $1, %rax L1_5: andq %r12,%r12 rmmovq %r12, 0x20(%rsi) rmmovq %r13, 0x28(%rsi) jle L1_6 iaddq $1, %rax L1_6: andq %r13,%r13 jle L1_7 iaddq $1, %rax L1_7: andq %r14,%r14 rmmovq %r14, 0x30(%rsi) rmmovq %rcx, 0x38(%rsi) jle L1_8 iaddq $1, %rax L1_8: andq %rcx,%rcx jle L1_9 iaddq $1, %rax L1_9: andq %rbx, %rbx jle L1_10 iaddq $1, %rax L1_10: andq %rbp, %rbp jle L1_11 iaddq $1, %rax L1_11: iaddq $0x50, %rdi iaddq $0x50, %rsi iaddq $-10, %rdx jge Loop L2: iaddq $9, %rdx jg Loop2 jl L2_Done mrmovq (%rdi),%r8 rmmovq %r8, (%rsi) andq %r8, %r8 jle Done iaddq $1, %rax L2_Done: ret Loop2: mrmovq (%rdi), %r8 mrmovq 8(%rdi), %r9 iaddq $-2, %rdx jg L2_0 je D3 # last 3 rmmovq %r8, (%rsi) rmmovq %r9, 8(%rsi) andq %r8,%r8 jle D2_1 iaddq $1, %rax D2_1: andq %r9, %r9 jle Done iaddq $1, %rax ret D3: mrmovq 0x10(%rdi), %r10 rmmovq %r8, (%rsi) rmmovq %r9, 8(%rsi) rmmovq %r10, 0x10(%rsi) andq %r8, %r8 jle D3_1 iaddq $1, %rax D3_1: andq %r9, %r9 jle D3_2 iaddq $1, %rax D3_2: andq %r10, %r10 jle Done iaddq $1, %rax ret L2_0: rmmovq %r8, (%rsi) rmmovq %r9, 8(%rsi) andq %r8,%r8 jle L2_1 iaddq $1, %rax L2_1: andq %r9, %r9 jle L2_2 iaddq $1, %rax L2_2: iaddq $0x10, %rdi iaddq $0x10, %rsi jmp Loop2 Done: ret End: Step5 å¾…æ›´\nã€‚ã€‚ã€‚\n","permalink":"https://Anlarry.github.io/posts/csapp/csapp-arch-lab/","summary":"\u003ch1 id=\"arch-lab\"\u003earch lab\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/Anlarry/CSAPP/blob/master/archlab-handout.tar\"\u003eDownload archlab-handout\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003ch2 id=\"å®‰è£…æ¨¡æ‹Ÿå™¨\"\u003eå®‰è£…æ¨¡æ‹Ÿå™¨\u003c/h2\u003e\n\u003cp\u003eè§£å†³\u003ccode\u003eundefined reference to â€™matherrâ€˜\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eå‚è€ƒ \u003ca href=\"https://blog.csdn.net/g_x_l_233/article/details/83957381\"\u003eY86-64æ¨¡æ‹Ÿå™¨çš„å®‰è£…ä¸å‡ºç°å¯¹\u0026rsquo;matherr\u0026rsquo;æœªå®šä¹‰å¼•ç”¨é—®é¢˜çš„è§£å†³\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"part-a\"\u003ePart A\u003c/h2\u003e\n\u003cp\u003eåœ¨è¿™éƒ¨åˆ†è¦åœ¨\u003ccode\u003esim/misc\u003c/code\u003eä¸­å®Œæˆï¼Œæˆ‘ä»¬è¦ç¼–å†™å’Œæ¨¡æ‹Ÿä¸‰ä¸ª\u003ccode\u003eY86-64\u003c/code\u003eç¨‹åº\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ccode\u003esum.ys\u003c/code\u003eï¼š éå†é“¾è¡¨æ±‚å’Œ\u003c/strong\u003e\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# begin at 0\n\n    .pos 0\n    irmovq stack,%rsp\n    call main\n    halt\n\n    .align 8\n    ele1:\n        .quad  0x00a\n        .quad ele2\n    ele2:\n        .quad 0x0b0\n        .quad ele3\n    ele3:\n        .quad 0xc00\n        .quad 0\n\nmain:\n    irmovq ele1,%rdi\n    call rsum\n    ret\n\nrsum:\n    xorq %rax,%rax\n    andq %rdi,%rdi \n    je L1\n    pushq %rbx\n    mrmovq (%rdi),%rbx\n    mrmovq 8(%rdi),%rdi\n    call rsum\n    addq %rbx,%rax\n    popq %rbx\nL1:\n    ret\n\n    .pos 0x200\nstack:\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eç”¨\u003ccode\u003eYAS\u003c/code\u003eç¼–è¯‘åï¼Œå†ç”¨\u003ccode\u003eYIS\u003c/code\u003eè¿è¡Œ\u003c/p\u003e","title":"CSAPP arch lab"},{"content":"Prime Distance On Tree é¢˜æ„ Prime Distance On Tree\nç»™ä¸ªæ ‘ï¼Œä»æ ‘ä¸Šéšæœºé€‰å–ä¸€å¯¹ç‚¹$u,v$,æ±‚$\\delta(u,v)$æ˜¯ç´ æ•°çš„æ¦‚ç‡\nSolution å¯ä»¥ä»ç”Ÿæˆå‡½æ•°çš„è§’åº¦è€ƒè™‘\nå‡è®¾rtæ˜¯ä¸€ä¸ªæ ‘çš„æ ‘æ ¹ï¼Œè€Œä¸”rtçš„æ·±åº¦æ˜¯dï¼Œå°†æ ‘ä¸­èŠ‚ç‚¹çš„æ·±åº¦ç»Ÿè®¡å‡ºæ¥ï¼Œè®°ä¸º$f_{rtï¼Œd}$ï¼Œå¦‚æœ$u,v\u0026hellip;$æ˜¯rtçš„å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆrtå¯¹ç­”æ¡ˆçš„è´¡çŒ®å°±æ˜¯ç”Ÿæˆå‡½æ•°ä¸­ç´ æ•°é¡¹çš„ç³»æ•°ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ˜¯æ€ä¹ˆè®¡ç®—ç”Ÿæˆå‡½æ•°äº†\n$$ \\sum_{u,v \\in son(rt)} f_{u,1} * f_{v, 1} $$\nè¿™ä¸ªå¼å­ä¸­çš„ç´ æ•°é¡¹ç³»æ•°å’Œä¸ä¸‹å¼æ˜¯ç›¸ç­‰çš„,è®¡ç®—$f$æ˜¯å¾ˆç®€å•çš„\n$$ \\Big(f_{rt,0}^2 - \\sum_{u \\in son(rt) }f_{u,1}^2\\Big) / 2 $$\nä¸ºäº†ç¡®ä¿å¤æ‚åº¦ä¸ä¼šå¤ªé«˜ï¼Œéœ€è¦ç”¨ç‚¹åˆ†æ²»\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; #include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; // #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 1e5 + 50; #endif const int mod = 1e9 + 7; #include \u0026lt;complex\u0026gt; namespace Prime { vector\u0026lt;int\u0026gt; prime; bool isprime[MAX\u0026lt;\u0026lt;1]; void init(int n){ mset(isprime, 1); isprime[0] = isprime[1] = 0; for(int i = 2; i \u0026lt; n; i++){ if(isprime[i]){ prime.push_back(i); } for(int j = 0; j \u0026lt; prime.size() and prime[j] * i \u0026lt; n; j++){ isprime[i * prime[j]] = 0; if(i * prime[j] == 0) break; } } } } // namespace namePrimPrime namespace FFT { complex\u0026lt;double\u0026gt; a[MAX\u0026lt;\u0026lt;2], b[MAX\u0026lt;\u0026lt;2]; int rev[MAX]; void fft(complex\u0026lt;double\u0026gt; *a, int n, int inv){ int bit = 0; while((1\u0026lt;\u0026lt;bit) \u0026lt; n) bit++; for(int i = 0; i \u0026lt; n; i++){ rev[i] = (rev[i\u0026gt;\u0026gt;1]\u0026gt;\u0026gt;1) | ((i \u0026amp; 1) \u0026lt;\u0026lt; (bit-1)); if(i \u0026lt; rev[i]) swap(a[i], a[rev[i]]); } for(int mid = 1; mid \u0026lt; n; mid \u0026lt;\u0026lt;= 1){ complex\u0026lt;double\u0026gt; wn(cos(PI/mid), inv*sin(PI/mid)); for(int i = 0; i \u0026lt; n; i += (mid\u0026lt;\u0026lt;1)){ complex\u0026lt;double\u0026gt; w(1, 0); for(int j = 0; j \u0026lt; mid; j++, w *= wn){ complex\u0026lt;double\u0026gt; u = a[i+j], t = w * a[i+j+mid]; a[i+j] = u + t, a[i+j+mid] = u - t; } } } } void product(int n){ fft(a, n, 1); fft(b, n, 1); for(int i = 0; i \u0026lt;= n; i++) a[i] *= b[i]; fft(a, n, -1); } } // namespace nameFFTFFT vector\u0026lt;int\u0026gt; E[MAX]; bool vis[MAX]; // LL dep[MAX]; LL dep[MAX], dep_num[MAX]; int cnt; int siz[MAX]; int dfsG(int u, int p, int\u0026amp; Min, int \u0026amp;rt, int n){ siz[u] = 1; int Max = -1; for(int i = 0; i \u0026lt; E[u].size(); i++){ int v = E[u][i]; if(vis[v] or v == p) continue; siz[u] += dfsG(v, u, Min, rt, n); Max = max(Max, siz[v]); } Max = max(Max, n - siz[u]); if(Max \u0026lt; Min){ Min = Max, rt = u; } return siz[u]; } int dfsN(int u, int p){ int res = 1; for(int i = 0; i \u0026lt; E[u].size(); i++){ int v = E[u][i]; if(vis[v] or v == p) continue; res += dfsN(v, u); } return res; } int find_rt(int u){ int Min = inf; int rt = -1; int n = dfsN(u, -1); dfsG(u, -1, Min, rt, n); return rt; } LL dfs(int u, int p, int d){ // return max_dep dep[cnt++] = d; LL max_dep = d; for(int i = 0; i \u0026lt; E[u].size(); i++){ int v = E[u][i]; if(v == p or vis[v]) continue; max_dep = max(max_dep, dfs(v, u, d+1)); } return max_dep; } LL calcu(int u, int d){ // mset(dep, 0); cnt = 0; dfs(u, -1, d); LL Max = 0; for(int i = 0; i \u0026lt; cnt; i++){ dep_num[dep[i]]++; Max = max(Max, dep[i]); } LL res = 0; int N = 1; while(N \u0026lt;= Max * 2) N \u0026lt;\u0026lt;= 1; for(int i = 0; i \u0026lt; N; i++){ if(i \u0026lt;= Max) FFT::a[i] = FFT::b[i] = complex\u0026lt;double\u0026gt;(dep_num[i], 0); else FFT::a[i] = FFT::b[i] = complex\u0026lt;double\u0026gt;(0, 0); } FFT::product(N); for(int i = 0; i \u0026lt; Prime::prime.size() and Prime::prime[i] \u0026lt;= 2*Max; i++){ res += (LL)(FFT::a[Prime::prime[i]].real() / N + 0.5); } for(int i = 0; i \u0026lt; cnt; i++) dep_num[dep[i]]--; return res; } LL solve(int u){ // vis[u] = 1; int rt = find_rt(u); vis[rt] = 1; LL res = calcu(rt, 0); for(int i = 0; i \u0026lt; E[rt].size(); i++){ if(vis[E[rt][i]]) continue; res -= calcu(E[rt][i], 1); res += solve(E[rt][i]); } // for(int i = 0; i \u0026lt; E[rt].size(); i++){ // if(vis[E[rt][i]]) continue; // res += solve(E[rt][i]); // } return res; } int main(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif int n; scanf(\u0026#34;%d\u0026#34;, \u0026amp;n); Prime::init(MAX \u0026lt;\u0026lt; 1); for(int i = 1; i \u0026lt; n; i++){ int u, v; scanf(\u0026#34;%d%d\u0026#34;, \u0026amp;u, \u0026amp;v); E[u].push_back(v); E[v].push_back(u); } LL up = solve(1); LL down = (LL)n * (n-1); printf(\u0026#34;%.7lf\\n\u0026#34;, 1.0 * up / down); return 0; } ","permalink":"https://Anlarry.github.io/posts/acm-icpc/codechef---primedst/","summary":"\u003ch1 id=\"prime-distance-on-tree\"\u003ePrime Distance On Tree\u003c/h1\u003e\n\u003ch2 id=\"é¢˜æ„\"\u003eé¢˜æ„\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://vjudge.net/problem/CodeChef-PRIMEDST\"\u003ePrime Distance On Tree\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003eç»™ä¸ªæ ‘ï¼Œä»æ ‘ä¸Šéšæœºé€‰å–ä¸€å¯¹ç‚¹$u,v$,æ±‚$\\delta(u,v)$æ˜¯ç´ æ•°çš„æ¦‚ç‡\u003c/p\u003e\n\u003ch2 id=\"solution\"\u003eSolution\u003c/h2\u003e\n\u003cp\u003e\u003cem\u003eå¯ä»¥ä»ç”Ÿæˆå‡½æ•°çš„è§’åº¦è€ƒè™‘\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eå‡è®¾\u003ccode\u003ert\u003c/code\u003eæ˜¯ä¸€ä¸ªæ ‘çš„æ ‘æ ¹ï¼Œè€Œä¸”\u003ccode\u003ert\u003c/code\u003eçš„æ·±åº¦æ˜¯\u003ccode\u003ed\u003c/code\u003eï¼Œå°†æ ‘ä¸­èŠ‚ç‚¹çš„æ·±åº¦ç»Ÿè®¡å‡ºæ¥ï¼Œè®°ä¸º$f_{rtï¼Œd}$ï¼Œå¦‚æœ$u,v\u0026hellip;$æ˜¯\u003ccode\u003ert\u003c/code\u003eçš„å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆ\u003ccode\u003ert\u003c/code\u003eå¯¹ç­”æ¡ˆçš„è´¡çŒ®å°±æ˜¯ç”Ÿæˆå‡½æ•°ä¸­ç´ æ•°é¡¹çš„ç³»æ•°ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ˜¯æ€ä¹ˆè®¡ç®—ç”Ÿæˆå‡½æ•°äº†\u003c/p\u003e\n\u003cp\u003e$$\n\\sum_{u,v \\in son(rt)} f_{u,1} * f_{v, 1}\n$$\u003c/p\u003e\n\u003cp\u003eè¿™ä¸ªå¼å­ä¸­çš„ç´ æ•°é¡¹ç³»æ•°å’Œä¸ä¸‹å¼æ˜¯ç›¸ç­‰çš„,è®¡ç®—$f$æ˜¯å¾ˆç®€å•çš„\u003c/p\u003e\n\u003cp\u003e$$\n\\Big(f_{rt,0}^2 - \\sum_{u \\in son(rt) }f_{u,1}^2\\Big) / 2\n$$\u003c/p\u003e\n\u003cp\u003eä¸ºäº†ç¡®ä¿å¤æ‚åº¦ä¸ä¼šå¤ªé«˜ï¼Œéœ€è¦ç”¨ç‚¹åˆ†æ²»\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-c++\" data-lang=\"c++\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdio\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;stack\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;set\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cmath\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;time.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;string\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstring\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;algorithm\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;memory.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdlib\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;queue\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iomanip\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e// #include \u0026lt;unordered_map\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e#define P pair\u0026lt;int, int\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LL long long\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LD long double\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PLL pair\u0026lt;LL, LL\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define mset(a, b) memset(a, b, sizeof(a))\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define rep(i, a, b) for (int i = a; i \u0026lt; b; i++)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PI acos(-1.0)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define random(x) rand() % x\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eusing\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e std;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e LL __64inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2e3\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#else\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e5\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e9\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;complex\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e Prime\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e prime;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e isprime[MAX\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003einit\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        mset(isprime, \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        isprime[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e isprime[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(isprime[i]){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                prime.push_back(i);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; j \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e prime.size() and prime[j] \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; j\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                isprime[i \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e prime[j]] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(i \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e prime[j] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e} \u003cspan style=\"color:#75715e\"\u003e// namespace namePrimPrime\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e FFT\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e a[MAX\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e], b[MAX\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e rev[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efft\u003c/span\u003e(complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003ea, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inv){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e bit \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e((\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003ebit) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n) bit\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            rev[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (rev[i\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e|\u003c/span\u003e ((i \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e (bit\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e rev[i])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                swap(a[i], a[rev[i]]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mid \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; mid \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; mid \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e wn(cos(PI\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003emid), inv\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003esin(PI\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003emid));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e (mid\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e w(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; j \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e mid; j\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e, w \u003cspan style=\"color:#f92672\"\u003e*=\u003c/span\u003e wn){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej], t \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e w \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003emid];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e t, a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003emid] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e t;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    } \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eproduct\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        fft(a, n, \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        fft(b, n, \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            a[i] \u003cspan style=\"color:#f92672\"\u003e*=\u003c/span\u003e b[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        fft(a, n, \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e} \u003cspan style=\"color:#75715e\"\u003e// namespace nameFFTFFT\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e E[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003ebool\u003c/span\u003e vis[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e// LL dep[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003eLL dep[MAX], dep_num[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e cnt;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e siz[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003edfsG\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e p, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e Min, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003ert, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    siz[u] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e Max \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e E[u].size(); i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e v \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e E[u][i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(vis[v] or v \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e p) \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        siz[u] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e dfsG(v, u, Min, rt, n);    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        Max \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e max(Max, siz[v]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Max \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e max(Max, n \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e siz[u]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(Max \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e Min){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        Min \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e Max, rt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e u;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e siz[u];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003edfsN\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e p){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e E[u].size(); i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e v \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e E[u][i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(vis[v] or v \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e p) \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        res \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e dfsN(v, u);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efind_rt\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e Min \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e inf;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e rt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e dfsN(u, \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    dfsG(u, \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, Min, rt, n);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e rt;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL \u003cspan style=\"color:#a6e22e\"\u003edfs\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e p, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e d){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// return max_dep\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    dep[cnt\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e d;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL max_dep \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e d;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e E[u].size(); i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e v \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e E[u][i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(v \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e p or vis[v]) \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        max_dep \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e max(max_dep, dfs(v, u, d\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    } \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e max_dep;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL \u003cspan style=\"color:#a6e22e\"\u003ecalcu\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e d){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// mset(dep, 0);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    cnt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    dfs(u, \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, d);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL Max \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e cnt; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        dep_num[dep[i]]\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        Max \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e max(Max, dep[i]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e N \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(N \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e Max \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e) N \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e N; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e Max) FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003ea[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003eb[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(dep_num[i], \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003ea[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003eb[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003eproduct(N);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e Prime\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003eprime.size() and Prime\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003eprime[i] \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003eMax; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        res \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e (LL)(FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003ea[Prime\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003eprime[i]].real() \u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003e N \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0.5\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e cnt; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) dep_num[dep[i]]\u003cspan style=\"color:#f92672\"\u003e--\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eLL \u003cspan style=\"color:#a6e22e\"\u003esolve\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// vis[u] = 1;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e rt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e find_rt(u);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    vis[rt] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e calcu(rt, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e E[rt].size(); i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(vis[E[rt][i]]) \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        res \u003cspan style=\"color:#f92672\"\u003e-=\u003c/span\u003e calcu(E[rt][i], \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        res \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e solve(E[rt][i]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// for(int i = 0; i \u0026lt; E[rt].size(); i++){\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e//     if(vis[E[rt][i]]) continue;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e//     res += solve(E[rt][i]);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e// }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e res;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    freopen(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003en);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Prime\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003einit(MAX \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e u, v;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d%d\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003eu, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003ev);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        E[u].push_back(v);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        E[v].push_back(u);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL up \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e solve(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    LL down \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (LL)n \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e (n\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%.7lf\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e1.0\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e  up \u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003e down);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"CodeChef - PRIMEDST"},{"content":"Polyaè®¡æ•° å°†æ³¢åˆ©äºšè®¡æ•°å®šç†æ•´ç†åœ¨è¿™é‡Œï¼Œä½œä¸ºä¸€ä¸ªæ€»ç»“å’Œä»‹ç»ï¼Œä¹Ÿæ–¹ä¾¿ä»¥åå¤ä¹ \nä¸ºä»€ä¹ˆå­¦ä¹ Polyaè®¡æ•°å®šç†\né€šè¿‡Polyaè®¡æ•°å®šç†ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—ç­‰ä»·ç±»çš„æ•°é‡ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªé—®é¢˜ï¼š\nç”¨$m$ç§é¢œè‰²ç»™ä¸€ä¸ªæ­£æ–¹å½¢æŸ“è‰²ï¼Œå¦‚æœæ­£æ–¹å½¢å¯ä»¥è‡ªç”±è½¬åŠ¨ï¼Œæ±‚æŸ“è‰²æ–¹æ¡ˆæ•°\nè®©æˆ‘ä»¬ä»ä¸€äº›æ¦‚å¿µå¼€å§‹\n1 ç­‰ä»·å…³ç³» 1.1 ç­‰ä»·å…³ç³»çš„å®šä¹‰ å‡è®¾$V$æ˜¯ä¸€ä¸ªé›†åˆï¼Œ$S$æ˜¯å®šä¹‰åœ¨$V$ä¸Šçš„ä¸€ä¸ªå…³ç³»ï¼Œè‹¥$S$æœ‰å¦‚ä¸‹æ€§è´¨ï¼š\nè‡ªåæ€§ ä¼ é€’æ€§ å¯¹ç§°æ€§ é‚£ä¹ˆï¼Œ $S$å°±æ˜¯ä¸€ä¸ªç­‰ä»·å…³ç³»\n$a$å’Œ$b$æœ‰å…³ç³»$S$,å¯ä»¥è®°ä¸º$aSb$\nå‡è®¾å®šä¹‰å…³ç³»$S$ï¼Œå›¾å½¢$a$å¯ä»¥æ—‹è½¬å¾—åˆ°$b$ $\\Leftrightarrow$ $aSb$\nä¾‹å¦‚å›¾ä¸­çš„$æ–¹å—_1$å’Œ$æ–¹å—_2$å…·æœ‰å…³ç³»$S$ï¼Œå³ä»–ä»¬å¯ä»¥é€šè¿‡æ—‹è½¬å¾—åˆ°å½¼æ­¤ï¼Œè€Œ$æ–¹å—_1$å’Œ$æ–¹å—_2$åˆ™æ²¡æœ‰å…³ç³»$S$\n1.1.png\r1.2 ç­‰ä»·ç±» é€šè¿‡ä¸Šå›¾ï¼Œå¯ä»¥çœ‹å‡ºæ¥ï¼š$æ–¹å—_1$å’Œ$æ–¹å—_2$æ˜¯åŒä¸€ç±»çš„ï¼Œè€Œ$æ–¹å—_1$å’Œ$æ–¹å—_2$åˆ™æ˜¯å¦å¤–ä¸¤ç±»ï¼Œäºæ˜¯å¯ä»¥æƒ³åˆ°é›†åˆ$V$ä¸Šçš„ç­‰ä»·å…³ç³»$S$å°†é›†åˆçš„å…ƒç´ åˆ’åˆ†åˆ°ä¸åŒçš„ç±»ä¸­ï¼Œæˆ‘ä»¬æŠŠå®ƒç§°ä¸ºç­‰ä»·ç±»\nè€ŒåŒ…å«å…ƒç´ $a$çš„ç­‰ä»·ç±»åˆ™æ˜¯ç”±æ»¡è¶³$aSb$çš„æ‰€æœ‰å…ƒç´ $b$ç»„æˆçš„(å½“ç„¶ä¹ŸåŒ…å«å…ƒç´ $a$),å³$C(a)={b\\in V | \\ aSb}$\nä»”ç»†æƒ³ä¸€æƒ³ï¼Œä¸éš¾å‘ç°ä¸¤ä¸ªä¸åŒç­‰ä»·ç±»æ˜¯ä¸ç›¸äº¤çš„\n2 ç½®æ¢ç¾¤ 2.1 ç½®æ¢ç¾¤çš„å®šä¹‰ å‡è®¾$A={1,2,\\dotsc, n}$ï¼Œé€šè¿‡ç½®æ¢ï¼Œå°†$A$ä¸­çš„å…ƒç´ é‡æ–°æ’åˆ—ï¼Œå¾—åˆ°å¦ä¸€ä¸ªæ’åˆ—$a_1, a_2, \\dotsc, a_n$ï¼Œå¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹å†™æˆ\n$$ \\left ( \\begin{matrix} 1 \u0026amp; 2 \u0026amp; \\dotsc \u0026amp; n \\newline a_1 \u0026amp; a_2 \u0026amp; \\dotsc \u0026amp; a_n \\end{matrix} \\right ) $$\næ‰€ä»¥ï¼Œå¯ä»¥å°†ç½®æ¢çœ‹æˆä¸€ä¸ªåŒå°„å‡½æ•°$f:{1,2,\\dotsc, n} \\rightarrow {1,2,\\dotsc, n}$\nç½®æ¢ä¹‹é—´ä¹Ÿå¯è¿›è¡Œåˆæˆè¿ç®—\n$$ \\pi_1 = \\left ( \\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4 \\newline 4 \u0026amp; 2 \u0026amp; 1 \u0026amp; 3 \\end{matrix} \\right ) \\ \\ \\pi_2 = \\left ( \\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4 \\newline 2 \u0026amp; 1 \u0026amp; 4 \u0026amp; 3 \\end{matrix} \\right ) $$\n$$ \\pi_1 \\circ \\pi_2 =\\left ( \\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4 \\newline 2 \u0026amp; 4 \u0026amp; 3 \u0026amp; 1 \\end{matrix} \\right ) $$ $\\pi_1 \\circ \\pi_2 (1) = \\pi_1(\\pi_2(1))=2$\nè€Œåœ¨ç½®æ¢é›†åˆ$X$ä¸Šå®šä¹‰çš„ç¾¤åˆ™ç§°ä¸ºç½®æ¢ç¾¤ï¼Œç½®æ¢ç¾¤ä¹Ÿæ˜¯ç¾¤ä¹Ÿè¦æ»¡è¶³ç¾¤çš„æ€§ è´¨\nè¿ç®—å°é—­ $\\pi_1 \\in X, \\pi_2 \\in X \\Rightarrow \\pi_1 \\circ \\pi_2 \\in X$ æ»¡è¶³ç»“åˆå¾‹ æœ‰å•ä½å…ƒï¼Œç½®æ¢$I(a)=a$ æœ‰é€†å…ƒï¼Œ$\\pi \\circ \\pi^{-1} = I$ ä½†æ˜¯ç½®æ¢ä¸è®¡ç®—ä¸åŒæŸ“è‰²æ¨¡å¼æ•°é‡æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿå›¾å½¢çš„æ—‹è½¬ç­‰å˜æ¢éƒ½å¯ä»¥ç”¨ä¸€ä¸ªåªç½®æ¢æ¥è¡¨ç¤º\næˆ‘ä»¬æŠŠ1-4æŒ‰é¡ºæ—¶é’ˆæ”¾åˆ°æ­£æ–¹å½¢çš„å››ä¸ªæ–¹å—ä¸­\n2.1-1.png\r$\\pi_1=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4 \\newline 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4 \\end{matrix}\\right)$\næ—‹è½¬$90^\\circ$\n2.1-2.png\r$\\pi_2=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4 \\newline 4 \u0026amp; 1 \u0026amp; 2 \u0026amp; 3 \\end{matrix}\\right)$\n2.2 ç½®æ¢ç¾¤è¡ç”Ÿçš„ç­‰ä»·å…³ç³» å‡è®¾$G=(X,\\circ)$ï¼Œé€šè¿‡ç½®æ¢$\\pi\\in X$ï¼Œå…ƒç´ $a$å¯ä»¥è¢«ç½®æ¢ä¸ºå…¶ä»–å…ƒç´ $\\pi(a)=b$ï¼Œå¯ä»¥å‘ç°è¿™é‡Œä¹Ÿå­˜åœ¨ä¸€ç§ç­‰ä»·å…³ç³»ï¼Œ å¯ä»¥å®šä¹‰ç­‰ä»·å…³ç³»$S$:\n$$ aSb \\Leftrightarrow \\exist \\pi \\in G, \\pi(a)=b $$\n$\\pi \\in G ä¹Ÿå¯ä»¥æ¥è¡¨ç¤º \\pi \\in X$\nè€ŒåŒ…å«$a$çš„ç­‰ä»·ç±»$C(a)$æ˜¯ç”±æ‰€æœ‰æ»¡è¶³$aSb$çš„å…ƒç´ $b$ç»„æˆçš„ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥è¯´ $$ C(a)={\\pi(a) \\ | \\ \\pi \\in G} $$\nå¦‚æœ$A={1,2,3}$\n$\\pi_1=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \\newline 1 \u0026amp; 2 \u0026amp; 3 \\end{matrix}\\right)$\n$\\pi_2=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \\newline 3 \u0026amp; 2 \u0026amp; 1 \\end{matrix}\\right)$\n$X={\\pi_1, \\pi_2}$,å¯ä»¥éªŒè¯$G={X,\\circ}$æ˜¯ä¸€ä¸ªç½®æ¢ç¾¤ï¼Œ${1,3}$æ˜¯ä¸€ä¸ªç­‰ä»·ç±»ï¼Œ${2}$æ˜¯ä¸€ä¸ªç­‰ä»·ç±»\nå¯ä»¥è¯æ˜è‡ªåã€å¯¹ç§°ã€ä¼ é€’æ˜¯æ»¡è¶³çš„\n3 ä¼¯æ©èµ›å¾·å¼•ç† è¿™ä¸ªå®šç†å°†ç»™å‡ºç½®æ¢ç¾¤è¡ç”Ÿå‡ºçš„ç­‰ä»·å…³ç³»çš„ï¼ˆä¸åŒï¼‰ç­‰ä»·å…³ç³»æ•°é‡çš„è®¡æ•°æ–¹æ³•\n3.1 ä¼¯æ©èµ›å¾·å¼•ç† å‡è®¾$G$æ˜¯ä¸€ä¸ªç½®æ¢ç¾¤ï¼Œ$a$æ˜¯$A$ä¸­çš„å…ƒç´ ï¼Œå¦‚æœ$\\pi(a)=a$ï¼Œåˆ™ç§°$A$ä¸­çš„å…ƒç´ $a$åœ¨ç½®æ¢$\\pi$ä¸‹æ˜¯ä¸å˜çš„(Invariant)ï¼Œ$Inv(\\pi)$è¡¨ç¤ºä¸å˜å…ƒç´ çš„æ•°é‡\nå®šç† å‡è®¾$G$æ˜¯ä¸€ä¸ªé›†åˆ$A$çš„ç½®æ¢ç¾¤ï¼Œè®¾$S$æ˜¯$G$ä¸Šè¡ç”Ÿå‡ºæ¥çš„ç­‰ä»·å…³ç³»ï¼Œé‚£ä¹ˆ$S$ä¸­çš„ç­‰ä»·ç±»çš„æ•°é‡ç”±ä¸‹å¼ç»™å‡º:\n$$ \\frac{1}{|G|} \\sum_{\\pi\\in G}Inv(\\pi) $$\n$|G|$æ˜¯ç½®æ¢ç¾¤ä¸­ç½®æ¢çš„æ•°é‡ï¼Œè®©æˆ‘ä»¬æ¥ç”¨ä¸€ä¸‹è¿™ä¸ªå®šç†ï¼Œå‡è®¾$G$ä¸‹é¢çš„ç½®æ¢ç»„æˆ\n$$ \\pi_1=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4\\newline 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4 \\end{matrix}\\right) , \\pi_2=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4 \\newline 2 \u0026amp; 1 \u0026amp; 3 \u0026amp; 4 \\end{matrix}\\right) , $$\n$$ \\pi_3=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4\\newline 1 \u0026amp; 2 \u0026amp; 4 \u0026amp; 3 \\end{matrix}\\right) , \\pi_4=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4 \\newline 2 \u0026amp; 1 \u0026amp; 4 \u0026amp; 3 \\end{matrix}\\right) , $$\nå¯ä»¥çœ‹å‡ºæ¥ï¼Œæœ‰ä¸¤ä¸ªç­‰ä»·ç±»åˆ†åˆ«æ˜¯${1,2}$ï¼Œ${3, 4}$ï¼Œç­‰ä»·ç±»çš„æ•°é‡ä¸º$2$\nå¯ä»¥éªŒè¯$Inv(\\pi_1)=4,Inv(\\pi_2)=2,Inv(\\pi_3)=2,Inv(\\pi_4)=0$\n$$ ç­‰ä»·ç±»çš„æ•°é‡=\\frac{1}{4}(4+2+2+0)=2 $$\n3.2 ä¼¯æ©èµ›å¾·å¼•ç†çš„è¯æ˜ Part 1 è¿™ä¸ªè¯æ˜å¯ä»¥è·³è¿‡ï¼Œå¯¹åé¢é˜…è¯»æ²¡æœ‰ä»€ä¹ˆå½±å“\nå¯¹äº$A$ä¸­çš„å…ƒç´ $a$ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ç¨³å®šç®—å­(Stabilizer)çš„æ¦‚å¿µï¼Œ$St(a)$æ˜¯ä¿æŒå…ƒç´ $a$ä¸å˜çš„ç½®æ¢çš„é›†åˆï¼Œ$St(a)={\\pi \\in G | \\pi(a) = a}$ï¼Œ\n$$ \\pi_1=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \\newline 1 \u0026amp; 2 \u0026amp; 3 \\end{matrix}\\right) , \\pi_2=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \\newline 2 \u0026amp; 3 \u0026amp; 1 \\end{matrix}\\right) , \\pi_3=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \\newline 3 \u0026amp; 1 \u0026amp; 2 \\end{matrix}\\right) , $$ $St(2) = {\\pi_1}$ï¼Œ\nåŒ…å«$2$çš„ç­‰ä»·ç±»$C(2)={\\pi_1(2),\\pi_2(2),\\pi_3(2)}={1, 2, 3}$\nå¯ä»¥å‘ç°$|St(2)| \\times |C(2)| = |G| = 3$ï¼Œè¿™ä¸æ˜¯å·§åˆ\nå¼•ç† å‡è®¾$G$æ˜¯ä¸€ä¸ªç½®æ¢ç¾¤ï¼Œè€Œä¸”$a \\in A$ï¼Œé‚£ä¹ˆï¼Œ $$ |St(a)| \\times |C(a)| = |G| $$\nè®©æˆ‘ä»¬æ¥ç®€å•è¯æ˜è¿™ä¸ªå®šç†\nå‡è®¾$C(a)={b_1,b_2,\\dotsb, b_r}$ï¼Œé‚£ä¹ˆå­˜åœ¨ä¸€ä¸ª$\\pi_1$ï¼Œæ»¡è¶³$\\pi_1(a)=b_1$ï¼ŒåŒæ ·å­˜åœ¨$\\pi_2(a)=b_2$,$\\dotsb$,è®¾$P={\\pi_1, \\pi_2, \\dotsc, \\pi_r}$ï¼Œè€Œä¸”$|P|=|C(a)|$ï¼Œäºæ˜¯è½¬åŒ–ä¸ºè¯æ˜$|St(a)|\\times |P|=|G|$\nä»$G$ä¸­é€‰ä¸€ä¸ªç½®æ¢$\\pi$, $\\pi$ä¸€å®šå°†$a$ç½®æ¢æˆä¸€ä¸ªå…ƒç´ ï¼Œè®¾è¯¥å…ƒç´ ä¸º$b_k$ï¼Œå³$\\pi(a)=b_k$ï¼Œ\nå¦ä¸€ä¸ªæ–¹é¢ï¼Œ$\\pi_k(a)=b_k$,å› æ­¤$\\pi^{-1}_k \\circ \\pi(a)=a$ï¼Œå³$\\pi^{-1}_k \\circ \\pi \\in St(a)$ï¼Œ\n$$ \\pi_k \\circ (\\pi_k^{-1} \\circ \\pi) = \\pi $$ è¿™è¯´æ˜$G$ä¸­çš„å…ƒç´ $\\pi$å¯ä»¥ç”±$St(a)$å’Œ$C(a)$ä¸­çš„å…ƒç´ åˆæˆå¾—åˆ°\nç„¶åæˆ‘ä»¬å†æ¥è¯´æ˜è¿™æ˜¯å”¯ä¸€çš„\nå‡è®¾$\\pi=\\pi_k\\circ \\gamma=\\pi_l \\circ \\delta$ ï¼Œ$\\gamma$å’Œ$\\delta$éƒ½åœ¨$St(a)$ä¸­ï¼Œå› æ­¤$\\pi_k \\circ \\gamma(a)=b_k=\\pi_l \\circ \\delta (a)=b_l$ï¼Œå› æ­¤$l=k$ï¼Œè¿™ç§ç»„åˆæ–¹å¼æ˜¯å”¯ä¸€çš„ï¼Œå› æ­¤$|St(a)| \\times |C(a)| = |G|$\nPart 2 è®©æˆ‘ä»¬ç»§ç»­è¯æ˜ä¼¯æ©èµ›å¾·å¼•ç†\nå‡è®¾$A={1,2,\\dotsc,n}$, $G={\\pi_1, \\pi_2, \\dotsc, \\pi_m}$ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢è¿™ä¸ªå¼å­çš„æ˜¯å¦æˆç«‹\n$$ |Inv(\\pi_1)|+|Inv(\\pi_2)|+\\dotsb+|Inv(\\pi_m)|=|St(1)|+|St(2)|+\\dotsb+|St(n)| $$\nå¯ä»¥å‘ç°éƒ½è®¡æ•°çš„æ˜¯æ»¡è¶³$\\pi(a)=a$åºå¯¹$\u0026lt;\\pi,a\u0026gt;$çš„ä¸ªæ•°ï¼Œå› æ­¤ç­‰å¼æ˜¯æˆç«‹çš„\nå°†ç­‰å¼ä¸¤è¾¹åŒæ—¶é™¤ä»¥|G|ï¼Œå·¦è¾¹å°±å¾—åˆ°äº†ä¼¯æ©èµ›å¾·å¼•ç†çš„å‹å¼ï¼Œè€Œå³è¾¹ï¼Œæ ¹æ®Part1ä¸­çš„å¼•ç†å¯ä»¥è½¬åŒ–ä¸º\n$$ \\frac{1}{C(1)}+\\frac{1}{C(2)}+\\dotsb+\\frac{1}{C(n)} \\ \\ \\ \\ (1) $$\nè€Œ$C(a)$æ˜¯ä¸€ä¸ªç­‰ä»·ç±»ï¼Œä¸¤ä¸ªç­‰ä»·ç±»çš„äº¤é›†è¦ä¹ˆæ˜¯å…¨é›†è¦ä¹ˆæ˜¯ç©ºé›†ï¼Œå‡è®¾$C(a)={b_1,b_2,\\dotsc, b_r}$,é‚£ä¹ˆï¼Œ\n$$ \\frac{1}{C(b_1)}+\\frac{1}{C(b_2)}+\\dotsb+\\frac{1}{C(b_r)}=\\frac{1}{r}+\\frac{1}{r}+\\dotsb+\\frac{1}{r}=1 $$\näºæ˜¯(1)å¼è®¡æ•°çš„å°±æ˜¯ç­‰ä»·ç±»çš„ä¸ªæ•°\n4 ç­‰ä»·ç€è‰² ä¼¯æ©èµ›å¾·å¼•ç†å’Œè®¡ç®—ç­‰ä»·ç€è‰²æ•°é‡æœ‰ä»€ä¹ˆå…³ç³»å‘¢?å…¶å®ä¼¯æ©èµ›å¾·å¼•ç†ä¸èƒ½ç›´æ¥å¸®åŠ©æˆ‘ä»¬è®¡ç®—ç­‰ä»·ç€è‰²çš„æ•°é‡ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€‚å½“çš„å®šä¹‰ç­‰ä»·å…³ç³»ï¼Œç„¶åå†è®¡ç®—ç­‰ä»·ç€è‰²çš„æ•°é‡\nå‡è®¾$C(R,D)$ä½¿ç”¨$R$ä¸­çš„é¢œè‰²ï¼Œæ¥ç»™$D$ä¸­çš„å…ƒç´ æŸ“è‰²çš„ç€è‰²é›†åˆï¼Œ\nå‡è®¾$R$æ˜¯é»‘è‰²å’Œç™½è‰²ï¼Œ$D$æ˜¯å›¾ä¸­çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆ$C(R,D)$æ˜¯ç»™å›¾ä¸­èŠ‚ç‚¹æŸ“è‰²çš„é›†åˆ 4-1.png\r$C(R,D)={C_1,C_2,\\dotsb, C_{16}}$\nå®šä¹‰åœ¨$C(R,D)$ä¸Šçš„ç½®æ¢$\\pi^*$ï¼Œå°†ä¸€ç§ç€è‰²å˜ä¸ºå¦ä¸€ç§ç€è‰²ï¼Œæ›´å½¢å¼ä¸€ç‚¹ï¼Œå‡å®š$f$æ˜¯ä¸€ä¸ªç€è‰²ï¼Œé‚£ä¹ˆæ–°ç€è‰²$\\pi^*f$å®šä¹‰ä¸º$(\\pi^*f)(a)$æ˜¯$f(\\pi(a))$\nåŒæ ·ï¼Œä¹Ÿå¯ä»¥å®šä¹‰$C(R,D)$ä¸Šçš„ç½®æ¢ç¾¤ï¼Œ$G^*={\\pi^* \\ | \\ \\pi \\in G}$ï¼Œ$G$å’Œ$G^*$çš„å…ƒç´ æ•°é‡ä¸€æ ·ï¼Œå› ä¸º$\\pi$å’Œ$\\pi^*å¯¹åº”äºä¸€ç§ç›¸åŒæ—‹è½¬$ã€‚$G^*$ä¹Ÿå¯ä»¥è¡ç”Ÿå‡ºç­‰ä»·å…³ç³»$S^*$ï¼Œè€Œ$S^*$å°±æ˜¯æˆ‘ä»¬å…³æ³¨çš„ã€‚\nå‡è®¾$f,g$æ˜¯ä¸¤ä¸ªç€è‰²ï¼Œå¦‚æœæœ‰ä¸€ä¸ª$\\pi \\in G$($\\pi^*\\in G^*$)ï¼Œ$\\pi^*f=g$ï¼Œæˆ‘ä»¬å°±è®¤ä¸º$f,g$æ˜¯ç­‰ä»·çš„\næˆ‘ä»¬è¦æ±‚çš„$S^*$åˆ’åˆ†å‡ºæ¥çš„ç­‰ä»·ç±»çš„æ•°é‡\nä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºæ¥$G^*$çš„å¤§å°æ˜¯$3$ï¼Œè®¾$G^*=\\{\\pi_1^*,\\pi_2^*,\\pi_3^*\\}$ï¼Œåˆ†åˆ«å¯¹åº”é€†æ—¶é’ˆæ—‹è½¬$0^\\circ,120^\\circ, 240^\\circ$\n$$ \\pi_1^*=\\left(\\begin{matrix} C_1 \u0026amp; C_2 \u0026amp; C_3 \u0026amp; C_4 \u0026amp;C_5 \u0026amp; C_6 \u0026amp;C_7 \u0026amp; C_8 \u0026amp;C_9 \u0026amp; C_{10} \u0026amp; C_{11} \u0026amp; C_{12} \u0026amp; C_{13} \u0026amp; C_{14} \u0026amp; C_{15} \u0026amp; C_{16} \\newline C_1 \u0026amp; C_2 \u0026amp; C_3 \u0026amp; C_4 \u0026amp;C_5 \u0026amp; C_6 \u0026amp;C_7 \u0026amp; C_8 \u0026amp;C_9 \u0026amp; C_{10} \u0026amp; C_{11} \u0026amp; C_{12} \u0026amp; C_{13} \u0026amp; C_{14} \u0026amp; C_{15} \u0026amp; C_{16} \\end{matrix}\\right) $$\n$$ \\pi_2^*=\\left(\\begin{matrix} C_1 \u0026amp; C_2 \u0026amp; C_3 \u0026amp; C_4 \u0026amp;C_5 \u0026amp; C_6 \u0026amp;C_7 \u0026amp; C_8 \u0026amp;C_9 \u0026amp; C_{10} \u0026amp; C_{11} \u0026amp; C_{12} \u0026amp; C_{13} \u0026amp; C_{14} \u0026amp; C_{15} \u0026amp; C_{16} \\newline C_1 \u0026amp; C_3 \u0026amp; C_4 \u0026amp; C_2 \u0026amp;C_5 \u0026amp; C_8 \u0026amp;C_6 \u0026amp; C_7 \u0026amp;C_{10} \u0026amp; C_{11} \u0026amp; C_{9} \u0026amp; C_{13} \u0026amp; C_{14} \u0026amp; C_{12} \u0026amp; C_{15} \u0026amp; C_{16} \\end{matrix}\\right) $$\n$$ \\pi_3^*=\\left(\\begin{matrix} C_1 \u0026amp; C_2 \u0026amp; C_3 \u0026amp; C_4 \u0026amp;C_5 \u0026amp; C_6 \u0026amp;C_7 \u0026amp; C_8 \u0026amp;C_9 \u0026amp; C_{10} \u0026amp; C_{11} \u0026amp; C_{12} \u0026amp; C_{13} \u0026amp; C_{14} \u0026amp; C_{15} \u0026amp; C_{16} \\newline C_1 \u0026amp; C_4 \u0026amp; C_2 \u0026amp; C_3 \u0026amp;C_5 \u0026amp; C_7 \u0026amp;C_8 \u0026amp; C_6 \u0026amp;C_{11} \u0026amp; C_{9} \u0026amp; C_{10} \u0026amp; C_{14} \u0026amp; C_{12} \u0026amp; C_{13} \u0026amp; C_{15} \u0026amp; C_{16} \\end{matrix}\\right) $$\n$Inv(\\pi_1^*)=16,Inv(\\pi_2^*)=4,Inv(\\pi_2^*)=4$\næ ¹æ®ä¼¯æ©èµ›å¾·å¼•ç†ï¼Œ\n$$ ç­‰ä»·ç€è‰²çš„ä¸ªæ•°=\\frac{1}{3}(16+4+4)=8 $$ å¯ä»¥ä»ä¸Šå›¾ä¸­éªŒè¯è¿™ä¸ªç»“æœçš„æ­£ç¡®æ€§ï¼Œä¸ºäº†ä¸$S$ä¸­çš„ç­‰ä»·ç±»åŒºåˆ†ï¼Œæˆ‘ä»¬ç§°$S^*$ä¸­ç­‰ä»·ç±»ä¸ºæ¨¡å¼\né€šè¿‡æšä¸¾$C(R,D)$ä¸­çš„å…ƒç´ ï¼Œå†æšä¸¾$\\pi^*$è®¡ç®—$Inv(\\pi^*)$è¿‡äºéº»çƒ¦ï¼Œå¯ä»¥ç›´æ¥è®¡ç®—$Inv(\\pi^*)$ï¼Œäºæ˜¯æœ‰äº†ä¸‹é¢çš„å®šç†\n5 Polyaå®šç†çš„ç‰¹æ®Šæƒ…å†µ 5.1 å¾ªç¯åˆ†è§£ è®©æˆ‘ä»¬å†å›åˆ°ç½®æ¢ï¼Œè®¾ç½®æ¢$\\pi_1=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4 \u0026amp; 5\\newline 2 \u0026amp; 3 \u0026amp; 4 \u0026amp; 5 \u0026amp; 1 \\end{matrix}\\right)$ è®©æˆ‘ä»¬ä¸æ–­åœ°é‡å¤è¿™ä¸ªç½®æ¢ï¼Œé‚£ä¹ˆå¯ä»¥æ‰¾åˆ°å¾ªç¯èŠ‚$1\\rightarrow 2 \\rightarrow 3 \\rightarrow 4 \\rightarrow 5 \\rightarrow 1$ï¼Œé‚£æˆ‘ä»¬å°±æŠŠ$\\pi$ç®€å†™$(12345)$\nå†æ¯”å¦‚$\\pi_2=\\left(\\begin{matrix} 1 \u0026amp; 2 \u0026amp; 3 \u0026amp; 4 \u0026amp; 5 \u0026amp; 6 \\newline 5 \u0026amp; 1 \u0026amp; 6 \u0026amp; 3 \u0026amp; 2 \u0026amp; 4 \\end{matrix}\\right)$ å¯ä»¥ç®€å†™æˆ$(152)(364)$ï¼Œè¿™ä¸€è¿‡ç¨‹è¢«ç§°ä¸ºå¾ªç¯åˆ†è§£\nå®šä¹‰$cyc(\\pi)$æ˜¯$\\pi$å¾ªç¯åˆ†è§£ä¸­å¾ªç¯èŠ‚çš„æ•°é‡ï¼Œæ¯”å¦‚$cyc(\\pi_1)=1ï¼Œcyc(\\pi_2)=2$\n5.2 Polya è®¡æ•°çš„ç‰¹æ®Šæƒ…å†µ å®šç† å‡è®¾$G$æ˜¯é›†åˆ$D$çš„ç½®æ¢ç¾¤ï¼Œä¸”$C(R,D)$æ˜¯ä½¿ç”¨$R$ä¸­é¢œè‰²ç»™$D$ä¸­å…ƒç´ æŸ“è‰²çš„é›†åˆï¼Œ$R$ä¸­é¢œè‰²çš„æ•°é‡çš„$m$,$C(R,D)$ä¸­ä¸åŒç€è‰²æ•°é‡($S^*$ä¸­ç­‰ä»·ç±»çš„æ•°é‡)ç”±ä¸‹å¼ç»™å‡ºï¼š\n$$ \\frac{1}{|G|} (m^{cyc(\\pi_1)}+m^{cyc(\\pi_2)}+\\dotsb+m^{cyc(\\pi_k)}) $$ å…¶ä¸­$G={\\pi_1, \\pi_2, \\dotsb, \\pi_k}$\nè®©æˆ‘ä»¬ç”¨è¿™ä¸ªå®šç†å†ç®—ä¸€æ¬¡ç­‰ä»·ç€è‰²çš„ä¸ªæ•°ï¼Œå‡å®šå°†ä¸­é—´çš„ç‚¹è®°ä¸º$1$å· 4-1.png\r$0^\\circæ—‹è½¬ï¼Œ\\pi_1=(1)(2)(3)(4)$\n$120^\\circï¼Œ \\pi_2=(1)(234)$\n$240^\\circï¼Œ \\pi_3=(1)(234)$\n$$ ç­‰ä»·ç€è‰²çš„ä¸ªæ•°=\\frac{1}{3}(2^4+2^2+2^2)=8 $$\n5.3 å¾ªç¯æŒ‡æ ‡$P_G$ å¦‚æœå¯ä»¥ç”¨ä¸€ä¸ªç”Ÿæˆå‡½æ•°æ¥æè¿°ä¸€ä¸ªç½®æ¢ç¾¤ï¼Œé‚£å°†å¾ˆæœ‰ç”¨ï¼Œè¿™å°†å¼•å‡ºæ›´ä¸€èˆ¬çš„æ³¢åˆ©äºšè®¡æ•°å®šç†ï¼Œå› æ­¤æœ‰äº†å¾ªç¯æŒ‡æ ‡$P_G$çš„æ¦‚å¿µ\nå‡è®¾$\\pi=(1)(23)(45)(6)(789)(10)$ï¼Œå¯ä»¥å°†ä»–ç¼–ç ä¸º$x_1^3x_2^2x_3$\nå¯ä»¥çœ‹å‡ºæ¥ç¼–ç æ–¹å¼ï¼Œ$x_i$ä»£è¡¨é•¿åº¦ä¸º$i$çš„å¾ªç¯èŠ‚ï¼Œ$x_i$çš„å¹‚æ¬¡$b$ä»£è¡¨æœ‰å¤šå°‘ä¸ªé•¿åº¦ä¸º$i$çš„å¾ªç¯èŠ‚\näºæ˜¯å¯ä»¥ç”¨æ¯ä¸ªç½®æ¢ç¼–ç çš„å’Œå†é™¤ä»¥$|G|$,\n$$ P_G(x_1,x_2,\\dotsc,x_k)=\\frac{1}{G}\\sum_{\\pi\\in G} x_1^{b_1}x_2^{b_2}\\dotsb x_k^{b_k} $$ æ¥ç¼–ç ä¸€ä¸ªç½®æ¢ç¾¤\nå¯¹5.2çš„ä¾‹å­ä¸­çš„ç½®æ¢ç¾¤è¿›è¡Œç¼–ç ï¼Œ$P_G=\\frac{1}{3}(x_1^4+x_1x_3+x_1x_3)$\nè€Œä¸”ï¼Œæ³¢åˆ©äºšè®¡æ•°çš„ç‰¹æ®Šæƒ…å†µå°±æ˜¯$P_G$ä¸­$x_1,x_2,\\dotsc,x_k$éƒ½å–$m$çš„æƒ…å†µ\n5.4 Polyaè®¡æ•°ç‰¹æ®Šæƒ…å†µçš„è¯æ˜ åŒæ ·å¯ä»¥è·³è¿‡è¿™ä¸€éƒ¨åˆ†\nå°†Polyaè®¡æ•°ç‰¹æ®Šæƒ…å†µçš„å…¬å¼ä¸ä¼¯æ©èµ›å¾·å¼•ç†å¯¹æ¯”ï¼Œå› æ­¤åªè¦è¯æ˜$m^{cyc(\\pi)}=Inv(\\pi^*)$\nè€ƒè™‘ä¸€ä¸ªå…·ä½“çš„æƒ…å†µï¼Œå‡å®š$\\pi=(1)(23)(456)(7)$ï¼Œç»è¿‡ç½®æ¢2ï¼Œ3çš„é¢œè‰²äº¤æ¢ï¼Œ$4,5,6$å°†é¢œè‰²ç»™ä¸‹ä¸€ä¸ªï¼Œè‹¥$f$æ˜¯ä¸€ä¸ªç€è‰²ï¼Œè¦è®©$\\pi^*(f)=f$ï¼Œé‚£ä¹ˆ$f$åœ¨æ¯ä¸ªå¾ªç¯èŠ‚ä¸­çš„æŸ“è‰²è¦ä¸€è‡´ï¼Œå› æ­¤ä¸€å…±æœ‰$m^{cyc(\\pi)}$è¿™ä¹ˆå¤š$f$\n6 Polyaè®¡æ•°å®šç† ä¸ºä»€ä¹ˆè¿˜æœ‰è¿™ä¸ªï¼Ÿ\nå¦‚æœè¦æ±‚å¿…é¡»è¦ç”¨é»‘è‰²$k$æ¬¡ï¼Œæˆ–è€…è‡³å°‘ä¸€æ¬¡é»‘è‰²ï¼Œä¸Šé¢çš„å®šç†å°±ä¸å¥½ç”¨äº†\n6.1 ç»™é¢œè‰²åŠ æƒ å‡è®¾ç€è‰²$f$ç»™$D$æŸ“è‰²ï¼Œä½¿ç”¨çº¢è‰²$t_1$æ¬¡ï¼Œç»¿è‰²$t_2$æ¬¡ï¼Œè“è‰²$t_3$æ¬¡\nå‡å®šçº¢è‰²çš„æƒå€¼$w$ä¸º$r$,ç»¿è‰²$g$,è“è‰²$b$ï¼Œ\né‚£ä¹ˆç€è‰²$f$çš„æƒ$W(f)=r^{t_1}g^{t_2}b^{t_3}$ï¼Œè€Œå¦‚æœæŸ“è‰²$f,g$æ˜¯ç­‰ä»·çš„ï¼Œé‚£ä¹ˆä»–ä»¬çš„æƒæ˜¯ç›¸ç­‰çš„\näºæ˜¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªç€è‰²ç­‰ä»·ç±»(æ¨¡å¼)çš„æƒç­‰äºä¸åŒç­‰ä»·ç±»çš„æƒä¹‹å’Œï¼ŒæŠŠè¿™ä¸ªç§°ä¸ºç€è‰²ç­‰ä»·ç±»ï¼ˆæ¨¡å¼ï¼‰çš„æƒï¼Œæˆ–è€…æ¨¡å¼é›†åˆçš„ç›®å½•ï¼Œå› ä¸ºä»–æ¦‚æ‹¬äº†æ¨¡å¼çš„æŸ“è‰²æ–¹å¼\næˆ‘ä»¬å†æ¥è€ƒè™‘5.2ä¸­çš„ä¾‹å­ï¼Œæ¨¡å¼ç›®å½•æ˜¯\n$$ w^4+2w^3b+2w^2b^2+2wb^3+b^4 $$\næ‰€æœ‰ç³»æ•°ä¹‹å’Œç­‰äºä¸åŒç­‰ä»·ç±»çš„ä¸ªæ•°ï¼Œ\nå¦‚æœè¦æ±‚ç”¨äº†2ä¸ªç™½è‰²ä¸¤ä¸ªé»‘çš„ç€è‰²æ–¹æ¡ˆæ•°ï¼Œå¯é€šè¿‡$w^2b^2$å‰çš„ç³»æ•°å¾—çŸ¥æ˜¯2ç§\nä¸‹é¢çš„å®šç†å°†ç»™å‡ºè®¡ç®—æ¨¡å¼ç›®å½•çš„æ–¹æ³•\n6.2 Polyaå®šç†å†…å®¹ å®šç† å‡è®¾$G$æ˜¯é›†åˆ$D$ä¸Šçš„ç½®æ¢ç¾¤ï¼Œè€Œ$C(R,D)$æ˜¯ç”¨$R$ä¸­çš„é¢œè‰²ç»™$D$ç€è‰²çš„é›†åˆï¼Œ$w$æ˜¯é¢œè‰²çš„æƒå€¼ï¼Œé‚£ä¹ˆ$C(R,D)çš„ç€è‰²çš„æ¨¡å¼ç›®å½•ä¸º$ï¼š\n$$ P_G\\bigg(\\sum_{r\\in R}w(r),\\sum_{r\\in R}w^2(r),\\dotsb,\\sum_{r\\in R}w^k(r)\\bigg) $$ å…¶ä¸­$P_G(x_1,x_2,\\dotsb,x_k)$æ˜¯å¾ªç¯æŒ‡æ ‡\nå†å›åˆ°ä¹‹å‰çš„ä¾‹å­\næˆ‘ä»¬å·²ç»çŸ¥é“$P_G=\\frac{1}{3}(x_1^4+x_1x_3+x_1x_3)$\nå‡å®šæˆ‘ä»¬ç”¨ç™½ï¼Œé»‘æŸ“è‰²ï¼Œæƒå€¼åˆ†åˆ«ä¸º$w,b$\n$$ \\sum_{r\\in R}w(r)=w+b,\\sum_{r\\in R}w^3(r)=w^3+b^3 $$ å¸¦å…¥$P_G$ $$ \\frac{1}{3}[(w+b)^4+2(w+b)(w^3+b^3)] $$\né€šè¿‡å¯¹é¢œè‰²æƒå€¼çš„ç®€å•èµ‹å€¼å°±èƒ½çš„è¦ä¸€äº›æœ‰ç”¨çš„ç»“è®º\nå¦‚æœæƒ³çŸ¥é“ä»¥ç”¨æœ‰å¤šå°‘ç§æŸ“è‰²æ¨¡å¼ï¼Œé‚£ä¹ˆåªè¦æŠŠæ‰€æœ‰çš„æƒå€¼éƒ½è®¾ä¸º$1$ å¦‚æœä¸æƒ³ç”¨æŸä¸€é¢œè‰²ï¼Œå°±æŠŠé¢œè‰²è®¾ä¸º$0$ï¼Œå…¶ä»–é¢œè‰²è®¾ä¸º$1$ å¦‚æœæƒ³çŸ¥é“ç”¨æŸä¸ªé¢œè‰²$k$æ¬¡çš„æ¨¡å¼æ•°ï¼Œå°±æŠŠå…¶ä»–é¢œè‰²è®¾ä¸º$1$ï¼Œæ±‚æ”¹é¢œè‰²æƒå€¼å¹‚æ¬¡ä¸º$k$å‰çš„ç³»æ•° . . . QAQ, ç»ˆäºå†™å®Œäº†ã€‚ã€‚ã€‚\n","permalink":"https://Anlarry.github.io/posts/acm-icpc/%E6%B3%A2%E9%87%8C%E4%BA%9A%E8%AE%A1%E6%95%B0/","summary":"\u003ch1 id=\"polyaè®¡æ•°\"\u003ePolyaè®¡æ•°\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå°†æ³¢åˆ©äºšè®¡æ•°å®šç†æ•´ç†åœ¨è¿™é‡Œï¼Œä½œä¸ºä¸€ä¸ªæ€»ç»“å’Œä»‹ç»ï¼Œä¹Ÿæ–¹ä¾¿ä»¥åå¤ä¹ \u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003e\u003cstrong\u003eä¸ºä»€ä¹ˆå­¦ä¹ Polyaè®¡æ•°å®šç†\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eé€šè¿‡Polyaè®¡æ•°å®šç†ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—ç­‰ä»·ç±»çš„æ•°é‡ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªé—®é¢˜ï¼š\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eç”¨$m$ç§é¢œè‰²ç»™ä¸€ä¸ªæ­£æ–¹å½¢æŸ“è‰²ï¼Œå¦‚æœæ­£æ–¹å½¢å¯ä»¥è‡ªç”±è½¬åŠ¨ï¼Œæ±‚æŸ“è‰²æ–¹æ¡ˆæ•°\u003c/em\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eè®©æˆ‘ä»¬ä»ä¸€äº›æ¦‚å¿µå¼€å§‹\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"1-ç­‰ä»·å…³ç³»\"\u003e1 ç­‰ä»·å…³ç³»\u003c/h2\u003e\n\u003ch3 id=\"11-ç­‰ä»·å…³ç³»çš„å®šä¹‰\"\u003e1.1 ç­‰ä»·å…³ç³»çš„å®šä¹‰\u003c/h3\u003e\n\u003cp\u003eå‡è®¾$V$æ˜¯ä¸€ä¸ªé›†åˆï¼Œ$S$æ˜¯å®šä¹‰åœ¨$V$ä¸Šçš„ä¸€ä¸ªå…³ç³»ï¼Œè‹¥$S$æœ‰å¦‚ä¸‹æ€§è´¨ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eè‡ªåæ€§\u003c/li\u003e\n\u003cli\u003eä¼ é€’æ€§\u003c/li\u003e\n\u003cli\u003eå¯¹ç§°æ€§\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eé‚£ä¹ˆï¼Œ $S$å°±æ˜¯ä¸€ä¸ªç­‰ä»·å…³ç³»\u003c/p\u003e\n\u003cp\u003e$a$å’Œ$b$æœ‰å…³ç³»$S$,å¯ä»¥è®°ä¸º$aSb$\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå‡è®¾å®šä¹‰å…³ç³»$S$ï¼Œå›¾å½¢$a$å¯ä»¥æ—‹è½¬å¾—åˆ°$b$ $\\Leftrightarrow$ $aSb$\u003cbr\u003e\nä¾‹å¦‚å›¾ä¸­çš„$æ–¹å—_1$å’Œ$æ–¹å—_2$å…·æœ‰å…³ç³»$S$ï¼Œå³ä»–ä»¬å¯ä»¥é€šè¿‡æ—‹è½¬å¾—åˆ°å½¼æ­¤ï¼Œè€Œ$æ–¹å—_1$å’Œ$æ–¹å—_2$åˆ™æ²¡æœ‰å…³ç³»$S$\u003cbr\u003e\n1.1.png\r\n\u003cimg class=\"img-fluid\" src=\"1.1.png\" alt='' /\u003e\r\n\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch3 id=\"12-ç­‰ä»·ç±»\"\u003e1.2 ç­‰ä»·ç±»\u003c/h3\u003e\n\u003cp\u003eé€šè¿‡ä¸Šå›¾ï¼Œå¯ä»¥çœ‹å‡ºæ¥ï¼š$æ–¹å—_1$å’Œ$æ–¹å—_2$æ˜¯åŒä¸€ç±»çš„ï¼Œè€Œ$æ–¹å—_1$å’Œ$æ–¹å—_2$åˆ™æ˜¯å¦å¤–ä¸¤ç±»ï¼Œäºæ˜¯å¯ä»¥æƒ³åˆ°é›†åˆ$V$ä¸Šçš„ç­‰ä»·å…³ç³»$S$å°†é›†åˆçš„å…ƒç´ åˆ’åˆ†åˆ°ä¸åŒçš„ç±»ä¸­ï¼Œæˆ‘ä»¬æŠŠå®ƒç§°ä¸ºç­‰ä»·ç±»\u003c/p\u003e\n\u003cp\u003eè€ŒåŒ…å«å…ƒç´ $a$çš„ç­‰ä»·ç±»åˆ™æ˜¯ç”±æ»¡è¶³$aSb$çš„æ‰€æœ‰å…ƒç´ $b$ç»„æˆçš„(å½“ç„¶ä¹ŸåŒ…å«å…ƒç´ $a$),å³$C(a)={b\\in V | \\ aSb}$\u003c/p\u003e\n\u003cp\u003eä»”ç»†æƒ³ä¸€æƒ³ï¼Œä¸éš¾å‘ç°\u003cstrong\u003eä¸¤ä¸ªä¸åŒç­‰ä»·ç±»æ˜¯ä¸ç›¸äº¤çš„\u003c/strong\u003e\u003c/p\u003e\n\u003ch2 id=\"2-ç½®æ¢ç¾¤\"\u003e2 ç½®æ¢ç¾¤\u003c/h2\u003e\n\u003ch3 id=\"21-ç½®æ¢ç¾¤çš„å®šä¹‰\"\u003e2.1 ç½®æ¢ç¾¤çš„å®šä¹‰\u003c/h3\u003e\n\u003cp\u003eå‡è®¾$A={1,2,\\dotsc, n}$ï¼Œé€šè¿‡ç½®æ¢ï¼Œå°†$A$ä¸­çš„å…ƒç´ é‡æ–°æ’åˆ—ï¼Œå¾—åˆ°å¦ä¸€ä¸ªæ’åˆ—$a_1, a_2, \\dotsc, a_n$ï¼Œå¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹å†™æˆ\u003c/p\u003e\n\u003cp\u003e$$\n\\left (\n\\begin{matrix}\n1 \u0026amp; 2 \u0026amp; \\dotsc \u0026amp; n \\newline\na_1 \u0026amp; a_2 \u0026amp; \\dotsc \u0026amp; a_n\n\\end{matrix}\n\\right )\n$$\u003c/p\u003e\n\u003cp\u003eæ‰€ä»¥ï¼Œå¯ä»¥å°†ç½®æ¢çœ‹æˆä¸€ä¸ªåŒå°„å‡½æ•°$f:{1,2,\\dotsc, n} \\rightarrow {1,2,\\dotsc, n}$\u003c/p\u003e","title":"æ³¢é‡Œäºšè®¡æ•°"},{"content":"Rock Paper Scissors Lizard Spock é¢˜æ„ï¼š Rock Paper Scissors Lizard Spock\nimage_b64.png\ræœ‰äº”ç§æ‰‹åŠ¿ï¼Œç±»ä¼¼äºçŸ³å¤´å‰ªåˆ€å¸ƒï¼Œæœ‰ä¸¤ä¸ªä¸²$s, t$,ç”±è¿™äº”ç§æ‰‹åŠ¿ç»„æˆï¼Œä»æŸä¸ªä½ç½®å¼€å§‹åŒ¹é…ï¼Œå¦‚æœ$t_i$èƒ½èµ¢$s_j$å¾—ä¸€åˆ†ï¼Œæ±‚ä¸€ä¸ª$pos(0\\le pos \\le len(s)-len(t))$ï¼Œä½¿å¾—å¾—åˆ†æœ€å¤š\nSolutionï¼š å°†ä¸Šå›¾è®°ä¸º$G$ï¼Œå¦‚æœ$op_1$å¯ä»¥èµ¢$op_2$ï¼Œåˆ™$G(op_1, op_2)=1$,\næšä¸¾å¯ä»¥å¾—åˆ†çš„æ‰‹åŠ¿,å‡è®¾å½“å‰æ‰‹åŠ¿ä¸º$op$,\n$$ \\begin{aligned} t\u0026rsquo;_i \u0026amp;=(reverse\\ t_i == op ? 1 : 0) \\newline s\u0026rsquo;_i \u0026amp;= G[op][s_i] \\end{aligned} $$\nå°†$t\u0026rsquo;,s\u0026rsquo;$åšå·ç§¯ï¼Œç´¯åŠ æ¯æ¬¡çš„ç»“æœï¼Œå†éå†ä¸€éåŒ¹é…çš„èµ·å§‹ä½ç½®ï¼Œå–æœ€å¤§å€¼\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; #include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 1e6 + 50; #endif const int mod = 1e9 + 7; #include \u0026lt;complex\u0026gt; namespace FFT { int rev[MAX * 4]; int cnt[MAX * 4]; void fft(complex\u0026lt;double\u0026gt; *a, int n, int inv){ int bit = 0; while((1\u0026lt;\u0026lt;bit) \u0026lt; n) bit++; for(int i = 0; i \u0026lt; n; i++){ rev[i] = (rev[i\u0026gt;\u0026gt;1]\u0026gt;\u0026gt;1) | ((i \u0026amp; 1) \u0026lt;\u0026lt; (bit-1)); if(i \u0026lt; rev[i]) swap(a[i], a[rev[i]]); } for(int mid = 1; mid \u0026lt; n; mid \u0026lt;\u0026lt;= 1){ complex\u0026lt;double\u0026gt; wn(cos(PI/mid), inv*sin(PI/mid)); for(int i = 0; i \u0026lt; n; i += (mid\u0026lt;\u0026lt;1)){ complex\u0026lt;double\u0026gt; w(1, 0); for(int j = 0; j \u0026lt; mid; j++, w*=wn){ complex\u0026lt;double\u0026gt; u = a[i+j], t = w * a[i+j+mid]; a[i+j] = u + t, a[i+j+mid] = u-t; } } } } }; int N; char s[MAX], t[MAX], rev_t[MAX]; complex\u0026lt;double\u0026gt; a[MAX*4], b[MAX*4]; int mark[100][100]; void init(){ mark[\u0026#39;S\u0026#39;][\u0026#39;P\u0026#39;] = 1; mark[\u0026#39;P\u0026#39;][\u0026#39;R\u0026#39;] = 1; mark[\u0026#39;R\u0026#39;][\u0026#39;L\u0026#39;] = 1; mark[\u0026#39;L\u0026#39;][\u0026#39;K\u0026#39;] = 1; mark[\u0026#39;K\u0026#39;][\u0026#39;S\u0026#39;] = 1; mark[\u0026#39;S\u0026#39;][\u0026#39;L\u0026#39;] = 1; mark[\u0026#39;L\u0026#39;][\u0026#39;P\u0026#39;] = 1; mark[\u0026#39;P\u0026#39;][\u0026#39;K\u0026#39;] = 1; mark[\u0026#39;K\u0026#39;][\u0026#39;R\u0026#39;] = 1; mark[\u0026#39;R\u0026#39;][\u0026#39;S\u0026#39;] = 1; } void solve(char op, int n, int m){ for(int i = 0; i \u0026lt; n; i++) a[i] = complex\u0026lt;double\u0026gt;(mark[op][s[i]], 0); for(int i = n; i \u0026lt; N; i++) a[i] = complex\u0026lt;double\u0026gt;(0, 0); for(int i = 0; i \u0026lt; m; i++) b[i] = complex\u0026lt;double\u0026gt;(rev_t[i]==op?1:0, 0); for(int i = m; i \u0026lt; N; i++) b[i] = complex\u0026lt;double\u0026gt;(0, 0); ; FFT::fft(a, N, 1); FFT::fft(b, N, 1); for(int i = 0; i \u0026lt; N;i++) a[i] *= b[i]; FFT::fft(a, N, -1); for(int i = m-1; i \u0026lt;= n-1; i++) FFT::cnt[i] += (int)(a[i].real() / N + 0.5); return; } int main(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif init(); scanf(\u0026#34;%s%s\u0026#34;, s, t); int n = strlen(s), m = strlen(t); N = 1; while(N \u0026lt;= n+m) N \u0026lt;\u0026lt;= 1; for(int i = 0; i \u0026lt; m; i++) rev_t[i] = t[m-i-1]; vector\u0026lt;char\u0026gt; ops({\u0026#39;R\u0026#39;,\u0026#39;P\u0026#39;, \u0026#39;S\u0026#39;, \u0026#39;K\u0026#39;, \u0026#39;L\u0026#39;}); for(auto op : ops){ solve(op, n, m); } int ans = 0; for(int i = m-1; i \u0026lt;= n-1; i++){ ans = max(ans, FFT::cnt[i]); // printf(\u0026#34;%d \u0026#34;, FFT::cnt[i]); } // puts(\u0026#34;\u0026#34;); printf(\u0026#34;%d\\n\u0026#34;, ans); return 0; } ","permalink":"https://Anlarry.github.io/posts/acm-icpc/rock-paper-scissors-lizard-spock/","summary":"\u003ch1 id=\"rock-paper-scissors-lizard-spock\"\u003eRock Paper Scissors Lizard Spock\u003c/h1\u003e\n\u003ch2 id=\"é¢˜æ„\"\u003eé¢˜æ„ï¼š\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://nanti.jisuanke.com/t/41098\"\u003eRock Paper Scissors Lizard Spock\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003eimage_b64.png\r\n\u003cimg class=\"img-fluid\" src=\"image_b64.png\" alt='' /\u003e\r\n\u003c/p\u003e\n\u003cp\u003eæœ‰äº”ç§æ‰‹åŠ¿ï¼Œç±»ä¼¼äºçŸ³å¤´å‰ªåˆ€å¸ƒï¼Œæœ‰ä¸¤ä¸ªä¸²$s, t$,ç”±è¿™äº”ç§æ‰‹åŠ¿ç»„æˆï¼Œä»æŸä¸ªä½ç½®å¼€å§‹åŒ¹é…ï¼Œå¦‚æœ$t_i$èƒ½èµ¢$s_j$å¾—ä¸€åˆ†ï¼Œæ±‚ä¸€ä¸ª$pos(0\\le pos \\le len(s)-len(t))$ï¼Œä½¿å¾—å¾—åˆ†æœ€å¤š\u003c/p\u003e\n\u003ch2 id=\"solution\"\u003eSolutionï¼š\u003c/h2\u003e\n\u003cp\u003eå°†ä¸Šå›¾è®°ä¸º$G$ï¼Œå¦‚æœ$op_1$å¯ä»¥èµ¢$op_2$ï¼Œåˆ™$G(op_1, op_2)=1$,\u003c/p\u003e\n\u003cp\u003eæšä¸¾å¯ä»¥å¾—åˆ†çš„æ‰‹åŠ¿,å‡è®¾å½“å‰æ‰‹åŠ¿ä¸º$op$,\u003c/p\u003e\n\u003cp\u003e$$\n\\begin{aligned}\nt\u0026rsquo;_i \u0026amp;=(reverse\\ t_i == op ? 1 : 0)  \\newline\ns\u0026rsquo;_i \u0026amp;= G[op][s_i]\n\\end{aligned}\n$$\u003c/p\u003e\n\u003cp\u003eå°†$t\u0026rsquo;,s\u0026rsquo;$åšå·ç§¯ï¼Œç´¯åŠ æ¯æ¬¡çš„ç»“æœï¼Œå†éå†ä¸€éåŒ¹é…çš„èµ·å§‹ä½ç½®ï¼Œå–æœ€å¤§å€¼\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-c++\" data-lang=\"c++\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdio\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;stack\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;set\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cmath\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;time.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;string\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstring\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;algorithm\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;memory.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdlib\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;queue\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iomanip\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;unordered_map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define P pair\u0026lt;int, int\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LL long long\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LD long double\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PLL pair\u0026lt;LL, LL\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define mset(a, b) memset(a, b, sizeof(a))\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define rep(i, a, b) for (int i = a; i \u0026lt; b; i++)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PI acos(-1.0)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define random(x) rand() % x\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eusing\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e std;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e LL __64inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2e3\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#else\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e6\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e9\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;complex\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e FFT\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e rev[MAX \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e cnt[MAX \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efft\u003c/span\u003e(complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003ea, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inv){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e bit \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e((\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003ebit) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n) bit\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            rev[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (rev[i\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e|\u003c/span\u003e ((i \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e (bit\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e rev[i])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                swap(a[i], a[rev[i]]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mid \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; mid \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; mid \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e wn(cos(PI\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003emid), inv\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003esin(PI\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003emid));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e (mid\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e w(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; j \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e mid; j\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e, w\u003cspan style=\"color:#f92672\"\u003e*=\u003c/span\u003ewn){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej], t \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e w \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003emid];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e t, a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003emid] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e u\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003et;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e};\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e N;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003echar\u003c/span\u003e s[MAX], t[MAX], rev_t[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecomplex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e a[MAX\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e], b[MAX\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mark[\u003cspan style=\"color:#ae81ff\"\u003e100\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e100\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003einit\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mark[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;S\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;P\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mark[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;P\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;R\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mark[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;R\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;L\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mark[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;L\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;K\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mark[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;K\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;S\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mark[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;S\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;L\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mark[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;L\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;P\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mark[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;P\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;K\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mark[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;K\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;R\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mark[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;R\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;S\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003esolve\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003echar\u003c/span\u003e op, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e  m){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        a[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(mark[op][s[i]], \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e n; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e N; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        a[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e m; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        b[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(rev_t[i]\u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003eop\u003cspan style=\"color:#f92672\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e m; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e N; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        b[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003efft(a, N, \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e); FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003efft(b, N, \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e N;i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        a[i] \u003cspan style=\"color:#f92672\"\u003e*=\u003c/span\u003e b[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003efft(a, N, \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e m\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e n\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003ecnt[i] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e)(a[i].real() \u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003e N \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0.5\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    freopen(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    init();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%s%s\u0026#34;\u003c/span\u003e, s, t);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e strlen(s), m \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e strlen(t);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    N \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(N \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e n\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003em) N \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e m; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e)  rev_t[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e t[m\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ei\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003echar\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e ops({\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;R\u0026#39;\u003c/span\u003e,\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;P\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;S\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;K\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;L\u0026#39;\u003c/span\u003e});\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eauto\u003c/span\u003e op : ops){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        solve(op, n, m);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e ans \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e m\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e n\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        ans \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e max(ans, FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003ecnt[i]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e// printf(\u0026#34;%d \u0026#34;, FFT::cnt[i]);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// puts(\u0026#34;\u0026#34;);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, ans);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Rock Paper Scissors Lizard Spock"},{"content":"URAL - 1996 é¢˜æ„ï¼š URAL - 1996 ç»™ä¸¤ä¸ªé•¿åº¦åˆ†åˆ«ä¸º$n, m$çš„å­—èŠ‚ä¸²$A,B$ï¼Œ$A$ä¸²çš„æœ€åä¸€ä½å¯ä»¥ä¿®æ”¹ï¼Œä»£ä»·ä¸º$1$ï¼Œæ±‚ä½¿å¾—$B$ä¸²ä¸º$A$ä¸²å­—ä¸²çš„æœ€å°ä»£ä»·\nSolution : å› ä¸º$A$ä¸²åªæœ‰æœ€åæœ€åä¸€ä½å¯ä»¥ä¿®æ”¹ï¼Œæ‰€ä»¥å¯ä»¥ç”¨KMPæ±‚å‡ºå¯èƒ½åŒ¹é…çš„ä½ç½®ï¼Œç„¶åè®¡ç®—æ¯ä¸ªä½ç½®çš„$cost$\nè®°$A$ä¸²æœ€åä¸€ä½æ„æˆçš„ä¸²ä¸º$a$ï¼Œ $B$ä¸²çš„ä¸º$b$, å‡è®¾$pos(0\\le pos \\le n-m)æ˜¯å¯èƒ½åŒ¹é…çš„ä½ç½®$ï¼Œå¦‚æœå°†$b$åè½¬å¾—åˆ°$b\u0026rsquo;$, åœ¨æ­¤å¤„çš„çš„ä»£ä»·ä¸º\n$$ \\sum_{i+j=pos+m-1} [a_i \\ne b\u0026rsquo;_j ] $$\nè€Œ\n$$ \\sum_{i+j=posm-1} a_j * b\u0026rsquo;_j $$\nå¯ä»¥ç®—å‡ºæ¥ç›¸ç­‰çš„$1$çš„ä¸ªæ•°$cnt_1$ï¼Œå†å°†$a,b$ä¸²å–åï¼Œå†åšä¸€æ¬¡å·ç§¯å°±å¯ä»¥ç®—å‡º$0$ç›¸ç­‰çš„ä¸ªæ•°$cnt_2$ï¼Œ$ans=m-cnt_1-cnt_2$\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;stack\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;cmath\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;time.h\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;algorithm\u0026gt; #include \u0026lt;memory.h\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;iomanip\u0026gt; #include \u0026lt;unordered_map\u0026gt; #define P pair\u0026lt;int, int\u0026gt; #define LL long long #define LD long double #define PLL pair\u0026lt;LL, LL\u0026gt; #define mset(a, b) memset(a, b, sizeof(a)) #define rep(i, a, b) for (int i = a; i \u0026lt; b; i++) #define PI acos(-1.0) #define random(x) rand() % x #define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34; using namespace std; const int inf = 0x3f3f3f3f; const LL __64inf = 0x3f3f3f3f3f3f3f3f; #ifdef DEBUG const int MAX = 2e3 + 50; #else const int MAX = 1e6 + 50; #endif const int mod = 1e9 + 7; #include \u0026lt;complex\u0026gt; namespace FFT { int rev[MAX]; int cnt[MAX]; void fft(complex\u0026lt;double\u0026gt; *a, int n, int inv){ int bit = 0; while((1 \u0026lt;\u0026lt; bit) \u0026lt; n) bit++; for(int i = 0; i \u0026lt; n; i++){ rev[i] = (rev[i\u0026gt;\u0026gt;1]\u0026gt;\u0026gt;1) | ((i \u0026amp; 1) \u0026lt;\u0026lt; (bit-1)); if(i \u0026lt; rev[i]) swap(a[i], a[rev[i]]); } for(int mid = 1; mid \u0026lt; n; mid \u0026lt;\u0026lt;= 1){ complex\u0026lt;double\u0026gt; wn(cos(PI/mid), inv*sin(PI/mid)); for(int i = 0; i \u0026lt; n; i += (mid\u0026lt;\u0026lt;1)){ complex\u0026lt;double\u0026gt; w(1, 0); for(int j = 0; j \u0026lt; mid; j++, w *= wn){ complex\u0026lt;double\u0026gt; u = a[i+j], t = w * a[i+j+mid]; a[i+j] = u+t, a[i+j+mid] = u-t; } } } } void work(complex\u0026lt;double\u0026gt; *ss, complex\u0026lt;double\u0026gt; *rev_t, int N, int n, int m){ FFT::fft(ss, N, 1); FFT::fft(rev_t, N, 1); for(int i = 0; i \u0026lt;= N; i++) { ss[i] *= rev_t[i]; } FFT::fft(ss, N, -1); for(int i = 0; i \u0026lt;= n-m; i++){ cnt[i] += (int)(ss[i+m-1].real() / N + 0.5); } } }; complex\u0026lt;double\u0026gt; a[MAX],b[MAX]; int x[MAX], y[MAX]; int s[MAX], t[MAX]; complex\u0026lt;double\u0026gt; ss[MAX], rev_t[MAX]; char ch[10]; void input(int *x, int *s, int n){ for(int i = 0; i \u0026lt; n; i++){ scanf(\u0026#34;%s\u0026#34;, ch); for(int j = 0; j \u0026lt; 6; j++) if(ch[j] == \u0026#39;1\u0026#39;) x[i] += 1 \u0026lt;\u0026lt; j; s[i] = (ch[7] == \u0026#39;1\u0026#39;); } } struct KMP { int next[MAX]; vector\u0026lt;int\u0026gt; pos; void init(int *x, int n){ next[0] = -1; int k = -1; for(int i = 1; i \u0026lt; n; i++){ while(k \u0026gt; -1 and x[k+1] != x[i]) k = next[k]; if(x[k+1] == x[i]) k++; next[i] = k; } } void work(int *x, int n, int *y, int m){ int k = -1; init(x, n); for(int i =0; i \u0026lt; m; i++){ while(k \u0026gt; -1 and x[k+1] != y[i]) k = next[k]; if(x[k+1] == y[i]) k++; if(k == n-1) { pos.push_back(i-n+1); k = next[k]; } } } }kmp; int main(){ #ifdef DEBUG freopen(\u0026#34;in\u0026#34;, \u0026#34;r\u0026#34;, stdin); #endif int n, m; scanf(\u0026#34;%d%d\u0026#34;, \u0026amp;n, \u0026amp;m); input(x,s,n); input(y, t, m); kmp.init(y, m); kmp.work(y, m, x, n); if(kmp.pos.empty()){ puts(\u0026#34;No\u0026#34;); return 0; } int N = 1; while(N \u0026lt;= n+m) N\u0026lt;\u0026lt;=1; for(int i = 0; i \u0026lt; n; i++) ss[i] = complex\u0026lt;double\u0026gt;(s[i], 0); for(int i = 0; i \u0026lt; m; i++) rev_t[i] = complex\u0026lt;double\u0026gt;(t[m-1-i], 0); FFT::work(ss, rev_t, N, n, m); for(int i = 0; i \u0026lt; n; i++) s[i] ^= 1; for(int i = 0; i \u0026lt; m; i++) t[i] ^= 1; for(int i = 0; i \u0026lt; n; i++) ss[i] = complex\u0026lt;double\u0026gt;(s[i], 0); for(int i = n; i \u0026lt; N; i++) ss[i] = complex\u0026lt;double\u0026gt;(0, 0); for(int i = 0; i \u0026lt; m; i++) rev_t[i] = complex\u0026lt;double\u0026gt;(t[m-i-1], 0); for(int i = m; i \u0026lt; N; i++) rev_t[i] = complex\u0026lt;double\u0026gt;(0, 0); FFT::work(ss, rev_t, N, n, m); int res = inf, id = -1; for(int i = 0; i \u0026lt; kmp.pos.size(); i++){ int pos = kmp.pos[i]; // pos += m-1; int cost = m - FFT::cnt[pos]; if(cost \u0026lt; res){ res = cost, id = kmp.pos[i]; } } puts(\u0026#34;Yes\u0026#34;); printf(\u0026#34;%d %d\\n\u0026#34;, res, id+1); return 0; } ","permalink":"https://Anlarry.github.io/posts/acm-icpc/ural---1996/","summary":"\u003ch1 id=\"ural---1996\"\u003e\u003ca href=\"https://vjudge.net/problem/47172/origin\"\u003eURAL - 1996\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"é¢˜æ„\"\u003eé¢˜æ„ï¼š\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://vjudge.net/problem/47172/origin\"\u003eURAL - 1996\u003c/a\u003e\nç»™ä¸¤ä¸ªé•¿åº¦åˆ†åˆ«ä¸º$n, m$çš„å­—èŠ‚ä¸²$A,B$ï¼Œ$A$ä¸²çš„æœ€åä¸€ä½å¯ä»¥ä¿®æ”¹ï¼Œä»£ä»·ä¸º$1$ï¼Œæ±‚ä½¿å¾—$B$ä¸²ä¸º$A$ä¸²å­—ä¸²çš„æœ€å°ä»£ä»·\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"solution-\"\u003eSolution :\u003c/h2\u003e\n\u003cp\u003eå› ä¸º$A$ä¸²åªæœ‰æœ€åæœ€åä¸€ä½å¯ä»¥ä¿®æ”¹ï¼Œæ‰€ä»¥å¯ä»¥ç”¨KMPæ±‚å‡ºå¯èƒ½åŒ¹é…çš„ä½ç½®ï¼Œç„¶åè®¡ç®—æ¯ä¸ªä½ç½®çš„$cost$\u003c/p\u003e\n\u003cp\u003eè®°$A$ä¸²æœ€åä¸€ä½æ„æˆçš„ä¸²ä¸º$a$ï¼Œ $B$ä¸²çš„ä¸º$b$, å‡è®¾$pos(0\\le pos \\le n-m)æ˜¯å¯èƒ½åŒ¹é…çš„ä½ç½®$ï¼Œå¦‚æœå°†$b$åè½¬å¾—åˆ°$b\u0026rsquo;$, åœ¨æ­¤å¤„çš„çš„ä»£ä»·ä¸º\u003c/p\u003e\n\u003cp\u003e$$\n\\sum_{i+j=pos+m-1} [a_i \\ne b\u0026rsquo;_j ]\n$$\u003c/p\u003e\n\u003cp\u003eè€Œ\u003c/p\u003e\n\u003cp\u003e$$\n\\sum_{i+j=posm-1} a_j * b\u0026rsquo;_j\n$$\u003c/p\u003e\n\u003cp\u003eå¯ä»¥ç®—å‡ºæ¥ç›¸ç­‰çš„$1$çš„ä¸ªæ•°$cnt_1$ï¼Œå†å°†$a,b$ä¸²å–åï¼Œå†åšä¸€æ¬¡å·ç§¯å°±å¯ä»¥ç®—å‡º$0$ç›¸ç­‰çš„ä¸ªæ•°$cnt_2$ï¼Œ$ans=m-cnt_1-cnt_2$\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-c++\" data-lang=\"c++\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdio\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;stack\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;set\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cmath\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;time.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;string\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstring\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;algorithm\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;memory.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;cstdlib\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;queue\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;iomanip\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;unordered_map\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define P pair\u0026lt;int, int\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LL long long\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define LD long double\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PLL pair\u0026lt;LL, LL\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define mset(a, b) memset(a, b, sizeof(a))\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define rep(i, a, b) for (int i = a; i \u0026lt; b; i++)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define PI acos(-1.0)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define random(x) rand() % x\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#define debug(x) cout \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eusing\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e std;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e LL __64inf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0x3f3f3f3f3f3f3f3f\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2e3\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#else\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e MAX \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e6\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mod \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1e9\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;complex\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003enamespace\u003c/span\u003e FFT\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e rev[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e cnt[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efft\u003c/span\u003e(complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003ea, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e inv){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e bit \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e((\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e bit) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n) bit\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            rev[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (rev[i\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e|\u003c/span\u003e ((i \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)  \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e (bit\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e rev[i])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                swap(a[i], a[rev[i]]);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mid \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; mid \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; mid \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e wn(cos(PI\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003emid), inv\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003esin(PI\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003emid));\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e (mid\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e w(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; j \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e mid; j\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e, w \u003cspan style=\"color:#f92672\"\u003e*=\u003c/span\u003e wn){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej], t \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e w \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003emid];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e u\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003et, a[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ej\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003emid] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e u\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003et;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ework\u003c/span\u003e(complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003ess, complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003erev_t, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e N, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e m){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003efft(ss, N, \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e); \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003efft(rev_t, N, \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e N; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            ss[i] \u003cspan style=\"color:#f92672\"\u003e*=\u003c/span\u003e rev_t[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003efft(ss, N, \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e n\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003em; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            cnt[i] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e  (\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e)(ss[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003em\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e].real() \u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003e N \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0.5\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e};\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecomplex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e a[MAX],b[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e x[MAX], y[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e s[MAX], t[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecomplex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e ss[MAX], rev_t[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003echar\u003c/span\u003e ch[\u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003einput\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003ex, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003es, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%s\u0026#34;\u003c/span\u003e, ch);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e j \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; j \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003e; j\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(ch[j] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;1\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            x[i] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e j;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        s[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (ch[\u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;1\u0026#39;\u003c/span\u003e); \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003estruct\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eKMP\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e next[MAX];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    vector\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e pos;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003einit\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003ex, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        next[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e k \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(k \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e and x[k\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e x[i])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                k \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e next[k];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(x[k\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e x[i]) k\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            next[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e k;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ework\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003ex, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003ey, \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e m){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e k \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        init(x, n);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e m; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(k \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e and x[k\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e y[i])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                k \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e next[k];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(x[k\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e y[i]) k\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(k \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e n\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                pos.push_back(i\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003en\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e); \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                k \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e next[k];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}kmp;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e(){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#ifdef DEBUG\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    freopen(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;in\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;r\u0026#34;\u003c/span\u003e, stdin);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e n, m;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    scanf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d%d\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003en, \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003em);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    input(x,s,n);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    input(y, t, m);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    kmp.init(y, m);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    kmp.work(y, m, x, n);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(kmp.pos.empty()){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        puts(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;No\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e N \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e(N \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e n\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003em) N\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e)  ss[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(s[i], \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e m; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) rev_t[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(t[m\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ei], \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003ework(ss, rev_t, N, n, m);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) s[i] \u003cspan style=\"color:#f92672\"\u003e^=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e m; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) t[i] \u003cspan style=\"color:#f92672\"\u003e^=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e n; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) ss[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(s[i], \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e n; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e N; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) ss[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e m; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) rev_t[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(t[m\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ei\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e m; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e N; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        rev_t[i] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e complex\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003edouble\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003ework(ss, rev_t, N, n, m);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e inf, id \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e kmp.pos.size(); i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e pos \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e kmp.pos[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e// pos += m-1;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e        \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e cost \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e m \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e FFT\u003cspan style=\"color:#f92672\"\u003e::\u003c/span\u003ecnt[pos];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(cost \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e res){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            res \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e cost, id \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e kmp.pos[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        } \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    puts(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Yes\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    printf(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%d %d\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, res, id\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"URAL - 1996"}]